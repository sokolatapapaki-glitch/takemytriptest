<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÏŒÏ‚ ÎŸÏÎ³Î±Î½Ï‰Ï„Î®Ï‚ Î¤Î±Î¾Î¹Î´Î¹Î¿Ï</title>
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Comic Neue', Arial, Helvetica, sans-serif; background: #f0f8ff; margin: 0; display: flex; }
.sidebar { width: 250px; background: #3eb489; color: white; padding: 20px; box-sizing: border-box; }
.sidebar h2 { font-size: 20px; margin-top: 0; }
.step { margin-bottom: 20px; padding: 10px; background: rgba(255,255,255,0.2); border-radius: 12px; cursor: pointer; transition: background 0.2s; }
.step.active { background: rgba(255,255,255,0.5); }
.main { flex: 1; padding: 20px; box-sizing: border-box; overflow-y: auto; }
.section { display: none; }
.section.active { display: block; }
h1 { text-align: center; margin-bottom: 20px; }
h2 { text-align: center; margin-bottom: 10px; }
label { display:block; margin-top:10px; }
select, input[type=checkbox] { margin-top:5px; }
#destination-cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; margin-top:20px; }
.destination-card { border-radius:12px; padding:20px; min-height:140px; display:flex; flex-direction:column; justify-content:center; align-items:center; font-family:'Comic Neue', cursive; font-size:1em; font-weight:500; background: #dfefff; box-shadow:0 4px 12px rgba(0,0,0,0.1); transition:0.2s; cursor:pointer; }
.destination-card:nth-child(2n) { background: #dfffe0; }
.destination-card:nth-child(3n) { background: #fff0df; }
.destination-card button { margin-top:10px; padding:8px 12px; background:#3eb489; color:white; border:none; border-radius:8px; cursor:pointer; }
.family-options { display:flex; gap:10px; flex-wrap:wrap; margin-top:5px; }

/* Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î’Î®Î¼Î±Ï„Î¿Ï‚ 1 */
.destination-filters {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.filter-group {
    background: #fff;
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.filter-group h3 {
    margin-top: 0;
    color: #3eb489;
    border-bottom: 1px solid #eee;
    padding-bottom: 8px;
}

.buttons-container {
    display: flex;
    gap: 10px;
    margin: 20px 0;
    justify-content: center;
    flex-wrap: wrap;
}

/* Î’Î®Î¼Î± 3 - ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î± */
#step-hotel div, #step-hotel input, #step-hotel button { font-family: 'Comic Neue', Arial, Helvetica, sans-serif; }

/* ÎÎ•ÎŸ Î£Î¤Î¥Î› Î“Î™Î‘ Î¤Î— ÎÎ•Î‘ Î”ÎŸÎœÎ— Î—Î›Î™ÎšÎ™Î©Î */
.family-members-container {
    background: white;
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 30px;
    max-width: 1000px;
    margin: auto;
}

.family-member-input {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 10px;
    flex-wrap: wrap;
}

.family-member-input input {
    padding: 8px 12px;
    border-radius: 8px;
    border: 1px solid #ddd;
    font-family: 'Comic Neue', Arial, Helvetica, sans-serif;
    font-size: 16px;
}

.remove-member-btn {
    background: #dc3545;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 6px 12px;
    cursor: pointer;
    font-size: 14px;
}

/* Î’Î®Î¼Î± 4 - Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (Î‘ÏÏ‡Î¹ÎºÎ¬ Î£Ï„Ï…Î») */
.total-overall { max-width: 1000px; margin: auto; margin-bottom: 30px; background: #fff; padding: 20px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); text-align: center; font-size: 26px; font-weight: bold; color: #fff; background-color: #ff7f50; }

/* ================== MOBILE OPTIMIZATIONS ================== */
/* Budget Tracker Mobile Styles */
@media (max-width: 768px) {
    #budget-tracker {
        position: fixed !important;
        top: 10px !important;
        right: 10px !important;
        left: 10px !important;
        width: calc(100% - 20px) !important;
        max-width: none !important;
        min-width: auto !important;
        font-size: 14px !important;
        padding: 12px !important;
    }
   
    /* PDF Button Mobile */
    #pdf-export-btn {
        width: 90% !important;
        padding: 18px 20px !important;
        font-size: 16px !important;
        margin: 15px auto !important;
    }
   
    /* Activity Cards Mobile */
    .activity-card {
        flex-direction: column !important;
        text-align: center !important;
        padding: 12px !important;
        min-height: auto !important;
    }
   
    .activity-card .emoji-icon {
        font-size: 30px !important;
        margin-bottom: 8px !important;
    }
   
    /* Destination Cards Mobile */
    .destination-card {
        padding: 15px !important;
        min-height: 120px !important;
    }
   
    /* Family Members Mobile */
    .family-member-input {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
   
    .family-member-input input {
        width: 100%;
    }

    /* Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î’Î®Î¼Î±Ï„Î¿Ï‚ 1 Î³Î¹Î± ÎºÎ¹Î½Î·Ï„Î¬ */
    .destination-filters {
        grid-template-columns: 1fr;
    }
   
    .filter-group {
        padding: 10px;
    }
   
    .buttons-container {
        flex-direction: column;
        align-items: center;
    }
   
    .buttons-container button {
        width: 100%;
        max-width: 300px;
    }
}

/* Animation Î³Î¹Î± Budget Tracker */
@keyframes slideInBudget {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

#budget-tracker {
    animation: slideInBudget 0.5s ease-out;
}

/* Loading state Î³Î¹Î± PDF */
.pdf-loading {
    opacity: 0.7;
    pointer-events: none;
}

.pdf-loading::after {
    content: ' â³';
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

button { padding: 10px 20px; font-size: 16px; border-radius: 12px; border: none; background: #ff7f50; color: white; cursor: pointer; margin-top: 10px; display: block; margin-left: auto; margin-right: auto; transition: transform 0.2s, box-shadow 0.2s; }

#activities-container-wrapper { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
#activities-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
    gap: 20px;
    margin-top: 20px;
}

/* ÎÎ•ÎŸ Î£Î¤Î¥Î› Î“Î™Î‘ ÎšÎ‘Î¡Î¤Î•Î£ Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î©Î Î§Î©Î¡Î™Î£ Î¦Î©Î¤ÎŸ */
.activity-card {
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    padding: 20px;
    min-height: 200px;
    cursor: pointer;
    border: 2px solid transparent;
    position: relative;
    transition: all 0.2s ease;
    display: block;
}

.activity-card:hover {
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    border-color: #ff7f50;
    transform: translateY(-2px);
}

.activity-card.selected {
    border: 3px solid #ff7f50;
    background-color: #fff8f0;
    box-shadow: 0 6px 18px rgba(0,0,0,0.2);
}

.activity-info h3 {
    margin-top: 0;
    font-size: 1.3em;
    color: #2c3e50;
    margin-bottom: 10px;
}

.activity-info p {
    margin: 8px 0;
    font-size: 1em;
    color: #555;
    line-height: 1.5;
}

.activity-card .emoji-icon {
    font-size: 40px;
    text-align: center;
    margin-bottom: 15px;
    display: block;
}

.activity-card .star {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 28px;
    color: gold;
    display: none;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.activity-card.selected .star {
    display: block;
    animation: pulse 1s infinite alternate;
}

@keyframes pulse {
    from { transform: scale(1); }
    to { transform: scale(1.2); }
}

table.activity-table { width: 100%; text-align: center; margin-top: 8px; border-collapse: collapse; font-size: 0.85em; }
table.activity-table th, table.activity-table td { padding: 4px; }
.total { font-weight: bold; font-size: 14px; margin-top: 6px; }

/* ÎÎ•ÎŸ Î£Î¤Î¥Î› Î“Î™Î‘ Î¤ÎŸ Î’Î—ÎœÎ‘ 5 ÎšÎŸÎ¥ÎœÎ Î™ */
.step-5-btn-container { text-align: center; margin-top: 30px; }
.step-5-btn { padding: 18px 40px; font-size: 20px; border-radius: 16px; background: #3eb489; color: white; border: none; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }

/* Î£Î¤Î¥Î› Î“Î™Î‘ Î¤ÎŸ LINK Î£Î¤ÎŸ Î’Î—ÎœÎ‘ 5 */
.summary-content {
    text-align: center;
    font-size: 1.2em;
    padding: 40px;
    border: 2px dashed #3eb489;
    border-radius: 15px;
    background: #e0fff0;
}
.summary-content a {
    font-size: 1.5em;
    font-weight: bold;
    color: #ff7f50;
    text-decoration: none;
    display: block;
    margin-top: 15px;
}

/* ğŸ”¥ OPTIMIZED BACKGROUND */
body {
    background: #f0f8ff;
    background-size: cover;
    background-position: center;
    image-rendering: -webkit-optimize-contrast;
}

/* ğŸ”¥ ÎÎ•Î‘ Î’Î•Î›Î¤Î™Î©Î£Î— Î“Î™Î‘ ÎšÎ™ÎÎ—Î¤Î‘ */
@media (max-width: 640px) {
    .sidebar {
        width: 100%;
        height: auto;
        padding: 10px;
    }
    .main {
        padding: 10px;
    }
    .destination-card {
        min-height: 120px;
        padding: 15px;
    }
    .activity-card {
        min-height: 180px;
        padding: 12px;
    }
    table.activity-table {
        font-size: 0.75em;
    }
    table.activity-table th,
    table.activity-table td {
        padding: 2px;
    }
    #map-container {
        height: 400px;
    }
}

/* Mobile Navigation */
.mobile-nav {
    display: none;
    text-align: center;
    padding: 10px;
    background: #3eb489;
    position: sticky;
    top: 0;
    z-index: 1000;
}

.mobile-nav select {
    width: 90%;
    padding: 12px;
    border-radius: 8px;
    border: none;
    font-family: 'Comic Neue', Arial, Helvetica, sans-serif;
    font-size: 16px;
}

/* Î£Îµ ÎºÎ¹Î½Î·Ï„Î¬: Î±Ï€ÏŒÎºÏÏ…ÏˆÎ· sidebar, ÎµÎ¼Ï†Î¬Î½Î¹ÏƒÎ· mobile nav */
@media (max-width: 768px) {
    .sidebar {
        display: none;
    }
   
    .mobile-nav {
        display: block;
    }
   
    .main {
        padding: 10px;
    }
}

/* Î£Ï„Ï…Î» Î³Î¹Î± Ï„Î¿Î½ Ï‡Î¬ÏÏ„Î· */
.leaflet-container {
    font-family: 'Comic Neue', Arial, Helvetica, sans-serif;
}
</style>
</head>
<body>
<div class="sidebar">
    <h2>Î’Î®Î¼Î±Ï„Î± Î¤Î±Î¾Î¹Î´Î¹Î¿Ï</h2>
  <div class="step active" data-target="step-destination">1. Î•Ï€Î¹Î»Î¿Î³Î® Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï</div>
  <div class="step" data-target="step-flight">2. Î•Ï€Î¹Î»Î¿Î³Î® Î Ï„Î®ÏƒÎ·Ï‚</div>
  <div class="step" data-target="step-hotel">3. Î•Ï€Î¹Î»Î¿Î³Î® ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿Ï…</div>
  <div class="step" data-target="step-activities">4. Î•Ï€Î¹Î»Î¿Î³Î® Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½</div>
  <div class="step" data-target="step-summary">5. Î—Î¼ÎµÏÎ®ÏƒÎ¹Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ÎºÎ±Î¹ Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ¿Ï‚ Ï‡Î±ÏÏ„Î·Ï‚ Î¼Îµ ÎµÏƒÏ„Î¹Î±Ï„Î¿ÏÎ¹Î±</div>
  <div class="step" data-target="step-map">6. Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒÏ‚ Î§Î¬ÏÏ„Î·Ï‚ & Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±</div>
</div>

<div class="mobile-nav">
    <select onchange="activateStep(this.value)">
        <option value="step-destination">1. Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚</option>
        <option value="step-flight">2. Î Ï„Î®ÏƒÎµÎ¹Ï‚</option>
        <option value="step-hotel">3. ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±</option>
        <option value="step-activities">4. Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</option>
        <option value="step-summary">5. Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±</option>
        <option value="step-map">6. Î§Î¬ÏÏ„Î·Ï‚</option>
    </select>
</div>

<div class="main">
    <div id="step-destination" class="section active">
    <h1>Î•Ï€Î¹Î»Î¿Î³Î® Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï</h1>
   
    <!-- Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î´Î¹Î¬Ï„Î±Î¾Î· Ï†Î¯Î»Ï„ÏÏ‰Î½ -->
    <div class="destination-filters">
        <div class="filter-group">
            <h3>Î’Î±ÏƒÎ¹ÎºÎ¬ Î¦Î¯Î»Ï„ÏÎ±</h3>
            <label>Î¤ÏÏ€Î¿Ï‚ Ï„Î±Î¾Î¹Î´Î¹ÏÏ„Î·:</label>
            <select id="travel-type" onchange="toggleFamily()">
                <option value="">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ...</option>
                <option value="ÎœÏŒÎ½Î¿Ï‚">ÎœÏŒÎ½Î¿Ï‚</option>
                <option value="Î–ÎµÏ…Î³Î¬ÏÎ¹">Î–ÎµÏ…Î³Î¬ÏÎ¹</option>
                <option value="ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±">ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±</option>
                <option value="Î Î±ÏÎ­Î± Ï†Î¯Î»Ï‰Î½">Î Î±ÏÎ­Î± Ï†Î¯Î»Ï‰Î½</option>
            </select>
           
            <div class="family-options" id="family-options" style="display:none;">
                <label><input type="checkbox" value="ÎšÎ±ÏÏŒÏ„ÏƒÎ¹"> ÎšÎ±ÏÏŒÏ„ÏƒÎ¹</label>
                <label><input type="checkbox" value="ÎœÎ¹ÎºÏÎ¬"> ÎœÎ¹ÎºÏÎ¬</label>
                <label><input type="checkbox" value="ÎœÎµÎ³Î¬Î»Î±"> ÎœÎµÎ³Î¬Î»Î±</label>
                <label><input type="checkbox" value="ÎˆÏ†Î·Î²Î¿Î¹"> ÎˆÏ†Î·Î²Î¿Î¹</label>
                <label><input type="checkbox" value="Î†Î½Ï‰ Ï„Ï‰Î½ 18"> Î†Î½Ï‰ Ï„Ï‰Î½ 18</label>
            </div>
           
            <label>Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ· ÏƒÎµ ÏÏÎµÏ‚:</label>
            <select id="distance">
                <option value="">ÎŒÎ»Î±</option>
                <option value="1">ÎˆÏ‰Ï‚ 1</option>
                <option value="2">ÎˆÏ‰Ï‚ 2</option>
                <option value="3">ÎˆÏ‰Ï‚ 3</option>
                <option value="4">ÎˆÏ‰Ï‚ 4</option>
                <option value="5">Î Î¬Î½Ï‰ Î±Ï€ÏŒ 4</option>
            </select>
           
            <label>Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±/Î§ÎµÎ¹Î¼ÏÎ½Î±Ï‚:</label>
            <select id="weather">
                <option value="">ÎŒÎ»Î±</option>
                <option value="Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ">Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ Î±Ï€ÏŒ Î•Î»Î»Î¬Î´Î±</option>
                <option value="ÎŠÎ´Î¹Î±">ÎŠÎ´Î¹Î± Î¸ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±</option>
                <option value="Î Î¹Î¿ ÎºÏÏÎ¿">Î Î¹Î¿ ÎºÏÏÎ¿</option>
                <option value="Î§Î¹ÏŒÎ½Î¹Î±">Î Î¹Î¸Î±Î½Î¬ Ï‡Î¹ÏŒÎ½Î¹Î±</option>
            </select>
        </div>
       
        <div class="filter-group">
            <h3>Î ÏÏŒÏƒÎ¸ÎµÏ„Î± Î¦Î¯Î»Ï„ÏÎ±</h3>
            <label>Î˜ÎµÎ¼Î±Ï„Î¹ÎºÎ¬ Ï€Î¬ÏÎºÎ±:</label>
            <select id="themeparks">
                <option value="">Î‘Î´Î¹Î±Ï†Î¿ÏÎ¿</option>
                <option value="ÎÎ±Î¹">ÎÎ±Î¹</option>
            </select>
           
            <label>Î§ÏÎ¹ÏƒÏ„Î¿Ï…Î³ÎµÎ½Î½Î¹Î¬Ï„Î¹ÎºÎµÏ‚ Î±Î³Î¿ÏÎ­Ï‚:</label>
            <select id="christmas">
                <option value="">Î‘Î´Î¹Î±Ï†Î¿ÏÎ¿</option>
                <option value="ÎÎ±Î¹">ÎÎ±Î¹</option>
            </select>
           
            <label>Î ÏŒÏƒÎµÏ‚ Î¼Î­ÏÎµÏ‚ Î¸Î± Î¼ÎµÎ¯Î½ÎµÏ„Îµ;</label>
<div style="display: flex; gap: 10px; align-items: center;">
    <select id="days-stay" style="flex: 1;">
        <option value="">-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ --</option>
        <option value="3">3 Î¼Î­ÏÎµÏ‚</option>
        <option value="4">4 Î¼Î­ÏÎµÏ‚</option>
        <option value="5">5 Î¼Î­ÏÎµÏ‚</option>
        <option value="6">6 Î¼Î­ÏÎµÏ‚</option>
        <option value="7">7 Î¼Î­ÏÎµÏ‚</option>
    </select>
    <button onclick="updateDaysStay()" style="padding: 8px 12px; background: #3eb489; color: white; border: none; border-radius: 6px; cursor: pointer; white-space: nowrap;">
        ğŸ”„ Update
    </button>
</div>
           
            <label>Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î¤Î±Î¾Î¹Î´Î¹Î¿Ï (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ):</label>
            <input type="number" id="travel-budget" placeholder="Ï€.Ï‡. 500" style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 10px;">
            <small style="color: #666;">Î’Î¬Î»Ï„Îµ Ï„Î¿ ÏƒÏ…Î½Î¿Î»Î¹ÎºÏŒ Ï€Î¿ÏƒÏŒ Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î¾Î¿Î´Î­ÏˆÎµÏ„Îµ</small>
        </div>
       
        <div class="filter-group">
            <h3>Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½</h3>
            <label>Î¤ÏÏ€Î¿Ï‚ Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</label>
            <select id="vacation-type">
                <option value="">ÎŒÎ»Î±</option>
                <option value="Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚">Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚ & ÎœÎ¿Ï…ÏƒÎµÎ¯Î±</option>
                <option value="Î¦Ï…ÏƒÎ¹ÎºÎ® ÎŸÎ¼Î¿ÏÏ†Î¹Î¬">Î¦Ï…ÏƒÎ¹ÎºÎ® ÎŸÎ¼Î¿ÏÏ†Î¹Î¬ & Î¤Î¿Ï€Î¯Î±</option>
                <option value="Î˜Î¬Î»Î±ÏƒÏƒÎ±">Î˜Î±Î»Î¬ÏƒÏƒÎ¹Î± & Î Î±ÏÎ±Î»Î¯ÎµÏ‚</option>
                <option value="Î ÏŒÎ»Î·">Î‘ÏƒÏ„Î¹ÎºÎ­Ï‚ Î”Î¹Î±ÎºÎ¿Ï€Î­Ï‚</option>
                <option value="Î’Î¿Ï…Î½ÏŒ">Î’Î¿Ï…Î½ÏŒ & Î§Î¹Î¿Î½Î¿Î´ÏÎ¿Î¼Î¹ÎºÎ¬</option>
            </select>

            <label>ÎšÏŒÏƒÏ„Î¿Ï‚ Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</label>
            <select id="cost-level">
                <option value="">ÎŒÎ»Î±</option>
                <option value="ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ">ğŸ’° ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ</option>
                <option value="ÎœÎ­Ï„ÏÎ¹Î¿">ğŸ’°ğŸ’° ÎœÎ­Ï„ÏÎ¹Î¿</option>
                <option value="Î‘ÎºÏÎ¹Î²ÏŒ">ğŸ’°ğŸ’°ğŸ’° Î‘ÎºÏÎ¹Î²ÏŒ</option>
            </select>

            <label>ÎšÎ±Ï„Î¬Î»Î»Î·Î»Î¿ Î³Î¹Î±:</label>
            <div class="family-options" id="suitability-options" style="display:flex; gap:10px; flex-wrap:wrap; margin-top:5px;">
                <label><input type="checkbox" value="ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±"> ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î± (0-2)</label>
                <label><input type="checkbox" value="Î‘ÎœÎ•Î‘"> Î†Ï„Î¿Î¼Î± Î¼Îµ Î‘ÎœÎ•Î‘</label>
                <label><input type="checkbox" value="Î—Î»Î¹ÎºÎ¹Ï‰Î¼Î­Î½Î¿Î¹"> Î—Î»Î¹ÎºÎ¹Ï‰Î¼Î­Î½Î¿Î¹</label>
            </div>
        </div>
    </div>
   
    <!-- ÎšÎ¿Ï…Î¼Ï€Î¹Î¬ ÎµÎ½ÎµÏÎ³ÎµÎ¹ÏÎ½ -->
    <div class="buttons-container">
    <button onclick="filterDestinations()">Î”ÎµÏ‚ Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿ÏÏ‚</button>
    <button onclick="resetFilters()" style="background: #6c757d;">ğŸ”„ Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ Î¦Î¯Î»Ï„ÏÏ‰Î½</button>
    <button onclick="toggleQuickSelection()" style="background: #3eb489;">ğŸ”½ ÎˆÏ‡Ï‰ Î®Î´Î· Î²ÏÎµÎ¹ Ï€ÏŒÎ»Î·</button>
    <button onclick="clearAllData()" style="background: #dc3545;">ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î® ÎŒÎ»Ï‰Î½</button>
</div>
   
    <!-- Î“ÏÎ®Î³Î¿ÏÎ· ÎµÏ€Î¹Î»Î¿Î³Î® Ï€ÏŒÎ»Î·Ï‚ -->
    <div id="quick-city-select" style="display: none; max-width: 400px; margin: 0 auto 20px auto; background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <h3 style="margin-top: 0; text-align: center;">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï€ÏŒÎ»Î·</h3>
        <select id="quick-city" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-family: 'Comic Neue', Arial, Helvetica, sans-serif;">
            <option value="">-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï€ÏŒÎ»Î· --</option>
        </select>
        <button onclick="selectQuickCity()" style="width: 100%; padding: 10px; margin-top: 10px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer;">
            Î•Ï€Î¹Î»Î¿Î³Î®
        </button>
    </div>
   
    <!-- Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏÎ½ -->
    <div id="destination-cards"></div>
  </div>

    <div id="step-flight" class="section">
    <h1>âœˆï¸ Î•Ï€Î¹Î»Î¿Î³Î® Î Ï„Î®ÏƒÎ·Ï‚</h1>
    <div style="display:flex; justify-content:center; gap:30px; flex-wrap:wrap; margin-bottom:40px;">
      <a href="https://www.google.com/flights" target="_blank"><button style="padding:20px 45px; font-size:20px; border-radius:18px; background:#b2f0e8; color:#004d40; border:none; cursor:pointer;">ğŸŒ Google Flights</button></a>
      <a href="https://www.skyscanner.net" target="_blank"><button style="padding:20px 45px; font-size:20px; border-radius:18px; background:#cce3ff; color:#002b5b; border:none; cursor:pointer;">âœˆï¸ Skyscanner</button></a>
    </div>
    <div style="text-align:center;"><button onclick="goToStep3()" style="padding:14px 30px; font-size:18px; border-radius:14px; background:#d4edda; color:#155724; border:none; cursor:pointer;">â¡ï¸ Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿ Î’Î®Î¼Î± 3</button></div>
  </div>

    <div id="step-hotel" class="section">
    <h1>Î•Ï€Î¹Î»Î¿Î³Î® ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿Ï… ğŸ¨</h1>
    <div style="max-width:600px; margin:auto; background:#dfefff; padding:20px; border-radius:16px; box-shadow:0 4px 12px rgba(0,0,0,0.1);">
      <h2>Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿Ï…</h2>
      <label>Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚:</label>
      <input type="text" id="hotel-destination" placeholder="Ï€.Ï‡. Î’Î¹Î­Î½Î½Î·" style="width:100%; padding:8px; border-radius:8px; border:1px solid #ccc; margin-bottom:10px;">
      <label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î†Ï†Î¹Î¾Î·Ï‚:</label>
      <input type="date" id="hotel-checkin" style="width:100%; padding:8px; border-radius:8px; border:1px solid #ccc; margin-bottom:10px;">
      <label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î‘Î½Î±Ï‡ÏÏÎ·ÏƒÎ·Ï‚:</label>
      <input type="date" id="hotel-checkout" style="width:100%; padding:8px; border-radius:8px; border:1px solid #ccc; margin-bottom:15px;">
      <button onclick="searchHotels()">Î’ÏÎµÏ‚ ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±</button>
      <p style="margin-top:12px; font-size:0.9em; color:#555;">
        Î¤Î¿ link Î±Î½Î¿Î¯Î³ÎµÎ¹ Ï„Î·Î½ Î­ÎºÎ´Î¿ÏƒÎ· Expedia Î³Î¹Î± Î•Ï…ÏÏÏ€Î·. ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Î³Î»ÏÏƒÏƒÎ±/Î½ÏŒÎ¼Î¹ÏƒÎ¼Î± ÏƒÏ„Î·Î½ Î¹ÏƒÏ„Î¿ÏƒÎµÎ»Î¯Î´Î±.
      </p>
<div style="text-align:center; margin-top:30px;">
  <button onclick="goToStep4()" style="padding:14px 30px; font-size:18px; border-radius:14px; background:#ff7f50; color:white; border:none; cursor:pointer;">
    â¡ï¸ Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿ Î’Î®Î¼Î± 4
  </button>
</div>

    </div>
  </div>

    <div id="step-activities" class="section">
    <h1>ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</h1>
    <div class="total-overall" id="overall-total">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚ Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½Ï‰Î½ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½: 0 â‚¬</div>
   
    <!-- ÎÎ•Î‘ Î”ÎŸÎœÎ— Î—Î›Î™ÎšÎ™Î©Î (Î±Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¬ Ï„Î¿ Ï€Î±Î»Î¹ÏŒ age-inputs) -->
   
        <div class="family-members-container">
    <h2>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Î¤Î± ÎœÎ­Î»Î· Î¤Î·Ï‚ ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±Ï‚ (Î¼Îµ Î±ÎºÏÎ¹Î²ÎµÎ¯Ï‚ Î·Î»Î¹ÎºÎ¯ÎµÏ‚)</h2>
    <div id="family-members-list">
        <div class="family-member-input">
            <span>ğŸ‘¨</span>
            <input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="1Î¿Ï‚ Î•Î½Î®Î»Î¹ÎºÎ±Ï‚" class="member-name">
            <input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="" class="member-age" min="18" max="120">
            <span>ÎµÏ„ÏÎ½</span>
        </div>
        <div class="family-member-input">
            <span>ğŸ‘©</span>
            <input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="2Î¿Ï‚ Î•Î½Î®Î»Î¹ÎºÎ±Ï‚" class="member-name">
            <input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="" class="member-age" min="18" max="120">
            <span>ÎµÏ„ÏÎ½</span>
        </div>
    </div>
            <!-- ÎšÎŸÎ¥ÎœÎ Î™Î‘ Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—Î£ -->
    <div style="margin: 20px 0; text-align: center;">
        <h3 style="color: #3eb489;">â• Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎœÎµÎ»ÏÎ½</h3>
        <div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin: 15px 0;">
            <button onclick="addAdultMember()" style="background: #3eb489; color: white; padding: 12px 25px; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold;">
                ğŸ‘¨ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î•Î½Î®Î»Î¹ÎºÎ±
            </button>
            <button onclick="addChildMember()" style="background: #4c7af0; color: white; padding: 12px 25px; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold;">
                ğŸ§’ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î Î±Î¹Î´Î¹Î¿Ï (6-17)
            </button>
            <button onclick="addBabyMember()" style="background: #ff7f50; color: white; padding: 12px 25px; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold;">
                ğŸ‘¶ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎœÏ‰ÏÎ¿Ï (0-5)
            </button>
        </div>
        <button onclick="updateFamilyMembers()" style="background: #ff7f50; color: white; padding: 12px 25px; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold; margin-top: 10px;">
            ğŸ”„ Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±Ï‚
        </button>
        <p style="color: #666; font-size: 0.9em; margin-top: 10px;">
            ğŸ’¡ <strong>Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·:</strong> Î“Î¹Î± Î·Î»Î¹ÎºÎ¯ÎµÏ‚ 60+ ÏƒÏ…Î¼Î²Î¿Ï…Î»ÎµÏ…Ï„ÎµÎ¯Ï„Îµ Ï„Î± ÎµÏ€Î¯ÏƒÎ·Î¼Î± sites Î³Î¹Î± ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ ÎµÎºÏ€Ï„ÏÏƒÎµÎ¹Ï‚
        </p>
    </div>
    </div>

    <!-- Î•ÎÎ¥Î ÎÎŸÎ£ Î¥Î ÎŸÎ›ÎŸÎ“Î™Î£ÎœÎŸÎ£ COMBO -->
<div style="text-align: center; margin: 20px 0;">
    <button onclick="calculateSmartCombos()" style="padding: 15px 30px; font-size: 18px; border-radius: 14px; background: #9c27b0; color: white; border: none; cursor: pointer; font-weight: bold;">
        ğŸ’° ÎˆÎ¾Ï…Ï€Î½Î¿Ï‚ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Combo
    </button>
    <p style="color: #666; font-size: 0.9em; margin-top: 8px;">
        Î’ÏÎ¯ÏƒÎºÎµÎ¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± Ï„Î± ÎºÎ±Î»ÏÏ„ÎµÏÎ± combos Î³Î¹Î± ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ· Ï‡ÏÎ·Î¼Î¬Ï„Ï‰Î½
    </p>
</div>

<div id="activities-container-wrapper">
    <div id="activities-container"></div>
</div>
<div class="step-5-btn-container">
    <button class="step-5-btn" onclick="goToStep5()">
        â¡ï¸ ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· ÏƒÏ„Î¿ Î’Î®Î¼Î± 5
    </button>
</div>
  </div>

  <div id="step-summary" class="section">
         <h1>âœ… Î¤ÎµÎ»Î¹ÎºÎ® Î£ÏÎ½Î¿ÏˆÎ·</h1>
    <div id="summary-content" class="summary-content">
    </div>
   
    <div style="text-align: center; margin-top: 30px;">
        <button onclick="goToStep6()" style="padding: 14px 30px; font-size: 18px; border-radius: 14px; background: #3eb489; color: white; border: none; cursor: pointer;">
            ğŸ—ºï¸ Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿ Î§Î¬ÏÏ„Î· (Î’Î®Î¼Î± 6)
        </button>
    </div>
</div>
 
<div id="step-map" class="section">
    <h1>ğŸ—ºï¸ Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒÏ‚ Î§Î¬ÏÏ„Î·Ï‚ & Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±</h1>
    <div id="map-container" style="height: 600px; margin: 20px 0; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"></div>
    <div style="text-align: center;">
        <button onclick="initializeSmartMap()" style="padding: 12px 24px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
            ğŸ—ºï¸ Î¦ÏŒÏÏ„Ï‰ÏƒÎ· ÎˆÎ¾Ï…Ï€Î½Î¿Ï… Î§Î¬ÏÏ„Î·
        </button>
    </div>
    <!-- ÎšÎŸÎ¥ÎœÎ Î™Î‘ Î”Î™Î‘Î§Î•Î™Î¡Î™Î£Î—Î£ Î§Î‘Î¡Î¤Î— -->
<div style="text-align: center; margin: 15px 0;">
    <button onclick="addCustomPointSmart()" style="padding: 12px 24px; background: #9c27b0; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; margin: 5px;">
    ğŸ† ÎˆÎ¾Ï…Ï€Î½Î· Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î£Î·Î¼ÎµÎ¯Î¿Ï…
</button>
    <button onclick="viewCustomPoints()" style="padding: 12px 24px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; margin: 5px;">
        ğŸ‘ï¸ Î ÏÎ¿Î²Î¿Î»Î® Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏÎ½ Î£Î·Î¼ÎµÎ¯Ï‰Î½
    </button>
</div>
   <!-- CONTAINER Î“Î™Î‘ Î¤Î‘ CUSTOM POINTS -->
<div id="custom-points-list" style="max-width: 800px; margin: 20px auto; display: none;">
    <h3>ğŸŸ£ Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¬ Î£Î·Î¼ÎµÎ¯Î±</h3>
    <div id="custom-points-container"></div>
</div> 
</div>
</div>

<script>
// ==================== ÎÎ•ÎŸÎ£ Î¤Î¡ÎŸÎ ÎŸÎ£ Î”Î™Î‘Î§Î•Î™Î¡Î™Î£Î—Î£ Î—Î›Î™ÎšÎ™Î©Î ====================
let familyMembers = [
    { name: "Î Î±Ï„Î­ÏÎ±Ï‚", age: 42 },
    { name: "ÎœÎ·Ï„Î­ÏÎ±", age: 40 }
];

// ==================== ÎÎ•Î•Î£ Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î•Î™Î£ Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—Î£ ÎœÎ•Î›Î©Î ====================
function addAdultMember() {
    const container = document.getElementById('family-members-list');
    const adultCount = Array.from(container.querySelectorAll('.family-member-input'))
        .filter(m => m.querySelector('.member-name').value.includes('Î•Î½Î®Î»Î¹ÎºÎ±Ï‚')).length + 1;
   
    const memberDiv = document.createElement('div');
    memberDiv.className = 'family-member-input';
    memberDiv.innerHTML = `
        <span>ğŸ‘¨</span>
        <input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="${adultCount}Î¿Ï‚ Î•Î½Î®Î»Î¹ÎºÎ±Ï‚" class="member-name">
        <input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="" class="member-age" min="18" max="120">
        <span>ÎµÏ„ÏÎ½</span>
        <button onclick="removeFamilyMember(this)" class="remove-member-btn">Ã—</button>
    `;
   
    container.appendChild(memberDiv);
}

function addChildMember() {
    const container = document.getElementById('family-members-list');
    const childCount = Array.from(container.querySelectorAll('.family-member-input'))
        .filter(m => m.querySelector('.member-name').value.includes('Î Î±Î¹Î´Î¯')).length + 1;
   
    const memberDiv = document.createElement('div');
    memberDiv.className = 'family-member-input';
    memberDiv.innerHTML = `
        <span>ğŸ§’</span>
        <input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="Î Î±Î¹Î´Î¯ ${childCount}" class="member-name">
        <input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="" class="member-age" min="6" max="17">
        <span>ÎµÏ„ÏÎ½</span>
        <button onclick="removeFamilyMember(this)" class="remove-member-btn">Ã—</button>
    `;
   
    container.appendChild(memberDiv);
}

function addBabyMember() {
    const container = document.getElementById('family-members-list');
    const babyCount = Array.from(container.querySelectorAll('.family-member-input'))
        .filter(m => m.querySelector('.member-name').value.includes('ÎœÏ‰ÏÏŒ')).length + 1;
   
    const memberDiv = document.createElement('div');
    memberDiv.className = 'family-member-input';
    memberDiv.innerHTML = `
        <span>ğŸ‘¶</span>
        <input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="ÎœÏ‰ÏÏŒ ${babyCount}" class="member-name">
        <input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="" class="member-age" min="0" max="5">
        <span>ÎµÏ„ÏÎ½</span>
        <button onclick="removeFamilyMember(this)" class="remove-member-btn">Ã—</button>
    `;
   
    container.appendChild(memberDiv);
}

function removeFamilyMember(button) {
    button.parentElement.remove();
}

function removeFamilyMember(button) {
    button.parentElement.remove();
}
function updateFamilyMembers() {
    familyMembers = [];
    
    document.querySelectorAll('.family-member-input').forEach(memberDiv => {
        const nameInput = memberDiv.querySelector('.member-name');
        const ageInput = memberDiv.querySelector('.member-age');
        
        const name = nameInput.value;
        let age = parseInt(ageInput.value);
                      
        if (name && age >= 0) {
            familyMembers.push({ name, age });
        }
    });
    
    console.log('âœ… ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î± ÎµÎ½Î·Î¼ÎµÏÏÎ¸Î·ÎºÎµ:', familyMembers.length, 'Î¼Î­Î»Î·');
    
    // Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î—
    saveToLocalStorage();
    
    }
// ** 1. Î”Î•Î”ÎŸÎœÎ•ÎÎ‘ (Î¤ÎµÎ»Î¹ÎºÎ® Î»Î¯ÏƒÏ„Î± Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏÎ½)**
let selectedDestinationName = "";
let selectedDaysStay = 0;
let selectedBudget = 0;

const destinations = [
  {name:"Î’Î¹Î­Î½Î½Î·", dist:2, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î ÏŒÎ»Î·"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ", "Î‘ÎœÎ•Î‘", "Î—Î»Î¹ÎºÎ¹Ï‰Î¼Î­Î½Î¿Î¹"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î— Î±Ï…Ï„Î¿ÎºÏÎ±Ï„Î¿ÏÎ¹ÎºÎ® Ï€ÏŒÎ»Î· Î¼Îµ Ï„Î± Ï€Î±Î»Î¬Ï„Î¹Î±, Ï„Î¿Ï…Ï‚ ÎºÎ®Ï€Î¿Ï…Ï‚ ÎºÎ±Î¹ Ï„Î± Î½ÏŒÏƒÏ„Î¹Î¼Î± schnitzel."},
  {name:"Î Î±ÏÎ¯ÏƒÎ¹", dist:3, weather:"ÎŠÎ´Î¹Î±", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î ÏŒÎ»Î·"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î— ÏÎ¿Î¼Î±Î½Ï„Î¹ÎºÎ® Ï€ÏŒÎ»Î· Ï„Î¿Ï… Ï†Ï‰Ï„ÏŒÏ‚ Î¼Îµ Ï„Î¿Î½ Î ÏÏÎ³Î¿ Ï„Î¿Ï… Î†Î¹Ï†ÎµÎ» ÎºÎ±Î¹ Ï„Î± ÏŒÎ¼Î¿ÏÏ†Î± ÎºÎ±Ï†Î­."},
  {name:"Î¡ÏÎ¼Î·", dist:2, weather:"Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î ÏŒÎ»Î·"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î— Î±Î¹ÏÎ½Î¹Î± Ï€ÏŒÎ»Î· Î¼Îµ Ï„Î¿ ÎšÎ¿Î»Î¿ÏƒÏƒÎ±Î¯Î¿, Ï„Î·Î½ Î¡Ï‰Î¼Î±ÏŠÎºÎ® Î‘Î³Î¿ÏÎ¬ ÎºÎ±Î¹ Ï…Ï€Î­ÏÎ¿Ï‡Î· Î¹Ï„Î±Î»Î¹ÎºÎ® ÎºÎ¿Ï…Î¶Î¯Î½Î±."},
  {name:"Î›Î¿Î½Î´Î¯Î½Î¿", dist:4, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ", "Î‘ÎœÎ•Î‘"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"Î— Î¼ÎµÎ³Î±Î»Î¿ÏÏ€Î¿Î»Î· Î¼Îµ Ï„Î¿ ÎœÏ€Î¹Î³Îº ÎœÏ€ÎµÎ½, Ï„Î¿ London Eye ÎºÎ±Î¹ Ï„Î± Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÎ¬ Î¼Î¿Ï…ÏƒÎµÎ¯Î±."},
  {name:"Î†Î¼ÏƒÏ„ÎµÏÎ½Ï„Î±Î¼", dist:3, weather:"ÎŠÎ´Î¹Î±", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"Î— Ï€ÏŒÎ»Î· Ï„Ï‰Î½ ÎºÎ±Î½Î±Î»Î¹ÏÎ½, Ï„Ï‰Î½ Ï€Î¿Î´Î·Î»Î¬Ï„Ï‰Î½ ÎºÎ±Î¹ Ï„Ï‰Î½ ÏŒÎ¼Î¿ÏÏ†Ï‰Î½ Î³ÎµÏ†Ï…ÏÏÎ½."},
  {name:"Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·", dist:2, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î ÏŒÎ»Î·"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ", "Î—Î»Î¹ÎºÎ¹Ï‰Î¼Î­Î½Î¿Î¹"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î— ÏŒÎ¼Î¿ÏÏ†Î· Ï€ÏŒÎ»Î· Ï„Î¿Ï… Î”Î¿ÏÎ½Î±Î²Î· Î¼Îµ Ï„Î± Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÎ¬ Î»Î¿Ï…Ï„ÏÎ¬ ÎºÎ±Î¹ ÎºÎ¬ÏƒÏ„ÏÎ±."},
  {name:"Î ÏÎ¬Î³Î±", dist:3, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î ÏŒÎ»Î·"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î Î±ÏÎ±Î¼Ï…Î¸Î­Î½Î¹Î± Ï€ÏŒÎ»Î· Î¼Îµ Ï„Î· Î“Î­Ï†Ï…ÏÎ± Ï„Î¿Ï… ÎšÎ±ÏÏŒÎ»Î¿Ï… ÎºÎ±Î¹ Î±ÏƒÏ„ÏÎ¿Î½Î¿Î¼Î¹ÎºÏŒ ÏÎ¿Î»ÏŒÎ¹."},
  {name:"Î’ÎµÏÎ¿Î»Î¯Î½Î¿", dist:3, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ", "Î‘ÎœÎ•Î‘"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"Î ÏŒÎ»Î· Î¼Îµ Ï€Î»Î¿ÏÏƒÎ¹Î± Î¹ÏƒÏ„Î¿ÏÎ¯Î±, Î¼Î¿Ï…ÏƒÎµÎ¯Î± ÎºÎ±Î¹ Î¼Î¿Î½Ï„Î­ÏÎ½Î± Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ®."},
  {name:"ÎœÏŒÎ½Î±Ï‡Î¿", dist:2, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î’Î±Ï…Î±ÏÎ¹ÎºÎ® Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ±, ÎºÎ¿Î½Ï„Î¬ ÏƒÏ„Î¹Ï‚ Î†Î»Ï€ÎµÎ¹Ï‚, Î¼Îµ Ï„Î¿ BMW World."},
  {name:"ÎšÎ¿Î»Ï‰Î½Î¯Î±", dist:3, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"ÎœÎµÎ³Î¬Î»Î¿Ï‚ ÎºÎ±Î¸ÎµÎ´ÏÎ¹ÎºÏŒÏ‚ Î½Î±ÏŒÏ‚, ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î± ÎºÎ±Î¹ Î¡Î·Î½Î±Î½Î¯Î±."},
  {name:"Î’Î±ÏÎºÎµÎ»ÏÎ½Î·", dist:3, weather:"Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ", themeparks:"ÎÎ±Î¹", christmas:"ÎŒÏ‡Î¹", vacationType:["Î˜Î¬Î»Î±ÏƒÏƒÎ±", "Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹", "Î†Î½Î¿Î¹Î¾Î·"], desc:"Î“ÎºÎ±Î¿Ï…Î½Ï„Î¯, Ï€Î±ÏÎ±Î»Î¯ÎµÏ‚, ÎºÎ±Î¹ Î· Sagrada Familia."},
  {name:"ÎœÎ±Î´ÏÎ¯Ï„Î·", dist:4, weather:"ÎŠÎ´Î¹Î±", themeparks:"ÎÎ±Î¹", christmas:"ÎŒÏ‡Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Î¼Îµ Ï€Î»Î¿ÏÏƒÎ¹Î± Ï€Î¿Î»Î¹Ï„Î¹ÏƒÏ„Î¹ÎºÎ® Î¶Ï‰Î® ÎºÎ±Î¹ Î Î¬ÏÎºÎ¿ Î¡ÎµÏ„Î¯ÏÎ¿."},
  {name:"Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±", dist:4, weather:"Î Î¹Î¿ Î¶ÎµÏƒÏ„ÏŒ", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎŒÏ‡Î¹", vacationType:["Î˜Î¬Î»Î±ÏƒÏƒÎ±", "Î ÏŒÎ»Î·"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹", "Î†Î½Î¿Î¹Î¾Î·"], desc:"Î Î¿ÏÏ„Î¿Î³Î±Î»Î¹ÎºÎ® Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Î¼Îµ Î³ÏÎ±Ï†Î¹ÎºÎ¬ Ï„ÎµÎ»ÎµÏ†ÎµÏÎ¯Îº ÎºÎ±Î¹ ÏŒÎ¼Î¿ÏÏ†Î± Î±ÎºÏÏ‰Ï„Î®ÏÎ¹Î±."},
  {name:"Î”Î¿Ï…Î²Î»Î¯Î½Î¿", dist:5, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎŒÏ‡Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹", "Î†Î½Î¿Î¹Î¾Î·"], desc:"Î¦Î¹Î»ÏŒÎ¾ÎµÎ½Î· Ï€ÏŒÎ»Î· Î¼Îµ Ï€Î±Î¼Ï€, ÎºÎ¬ÏƒÏ„ÏÎ± ÎºÎ±Î¹ Ï„Î¿ Î’Î¹Î²Î»Î¯Î¿ Ï„Î¿Ï… Kells."},
  {name:"Î•Î´Î¹Î¼Î²Î¿ÏÏÎ³Î¿", dist:5, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎŒÏ‡Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹", "Î†Î½Î¿Î¹Î¾Î·"], desc:"Î£ÎºÏ‰Ï„ÏƒÎ­Î¶Î¹ÎºÎ· Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Î¼Îµ ÎºÎ¬ÏƒÏ„ÏÎ¿ ÎºÎ±Î¹ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ­Î½Ï„ÏÎ¿."},
  {name:"Î–Ï…ÏÎ¯Ï‡Î·", dist:2, weather:"Î§Î¹ÏŒÎ½Î¹Î±", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î¦Ï…ÏƒÎ¹ÎºÎ® ÎŸÎ¼Î¿ÏÏ†Î¹Î¬", "Î ÏŒÎ»Î·"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ", "Î—Î»Î¹ÎºÎ¹Ï‰Î¼Î­Î½Î¿Î¹"], bestSeason:["Î§ÎµÎ¹Î¼ÏÎ½Î±Ï‚", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"Î•Î»Î²ÎµÏ„Î¹ÎºÎ® Ï€ÏŒÎ»Î· Î¼Îµ Î»Î¯Î¼Î½Î·, ÏƒÎ¿ÎºÎ¿Î»Î±Ï„Î¿Ï€Î¿Î¹Î¯ÎµÏ‚ ÎºÎ±Î¹ ÎºÎ¿Î½Ï„Î¹Î½Î¬ Ï‡Î¹Î¿Î½Î¿Î´ÏÎ¿Î¼Î¹ÎºÎ¬."},
  {name:"Î“ÎµÎ½ÎµÏÎ·", dist:2, weather:"Î§Î¹ÏŒÎ½Î¹Î±", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î¦Ï…ÏƒÎ¹ÎºÎ® ÎŸÎ¼Î¿ÏÏ†Î¹Î¬"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ", "Î—Î»Î¹ÎºÎ¹Ï‰Î¼Î­Î½Î¿Î¹"], bestSeason:["Î§ÎµÎ¹Î¼ÏÎ½Î±Ï‚", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"Î”Î¹ÎµÎ¸Î½Î®Ï‚ Ï€ÏŒÎ»Î·, Î»Î¯Î¼Î½Î· Î›ÎµÎ¼Î¬Î½ ÎºÎ±Î¹ ÎºÎ¿Î½Ï„Î¹Î½Î¬ Î²Î¿Ï…Î½Î¬."},
  {name:"ÎšÎ¿Ï€ÎµÎ³Ï‡Î¬Î³Î·", dist:4, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹", "Î†Î½Î¿Î¹Î¾Î·"], desc:"Î”Î±Î½Î­Î¶Î¹ÎºÎ· Ï€ÏŒÎ»Î·, Ï€Î¬ÏÎºÎ¿ Î¤Î¯Î²Î¿Î»Î¹ ÎºÎ±Î¹ Î· ÎœÎ¹ÎºÏÎ® Î“Î¿ÏÎ³ÏŒÎ½Î±."},
  {name:"Î£Ï„Î¿ÎºÏ‡ÏŒÎ»Î¼Î·", dist:5, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹", "Î†Î½Î¿Î¹Î¾Î·"], desc:"Î ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Ï„Î·Ï‚ Î£Î¿Ï…Î·Î´Î¯Î±Ï‚, Î½Î·ÏƒÎ¹Î¬ ÎºÎ±Î¹ Ï„Î¿ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ ABBA."},
  {name:"Î’Î¿Ï…ÎºÎ¿Ï…ÏÎ­ÏƒÏ„Î¹", dist:2, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î¡Î¿Ï…Î¼Î±Î½Î¹ÎºÎ® Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ±, Î¼Îµ Ï„Î¿ Î Î±Î»Î¬Ï„Î¹ Ï„Î¿Ï… ÎšÎ¿Î¹Î½Î¿Î²Î¿Ï…Î»Î¯Î¿Ï…."},
  {name:"ÎŒÏƒÎ»Î¿", dist:4, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î¦Ï…ÏƒÎ¹ÎºÎ® ÎŸÎ¼Î¿ÏÏ†Î¹Î¬", "Î ÏŒÎ»Î·"], costLevel:"Î‘ÎºÏÎ¹Î²ÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹", "Î†Î½Î¿Î¹Î¾Î·"], desc:"ÎÎ¿ÏÎ²Î·Î³Î¹ÎºÎ® Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ±, Ï†Î¹ÏŒÏÎ´ ÎºÎ±Î¹ Î¼Î¿Ï…ÏƒÎµÎ¯Î± Viking."},
  {name:"ÎœÎ¹Î»Î¬Î½Î¿", dist:2, weather:"ÎŠÎ´Î¹Î±", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Ï„Î·Ï‚ Î¼ÏŒÎ´Î±Ï‚ Î¼Îµ Ï„Î¿Î½ ÎµÎ½Ï„Ï…Ï€Ï‰ÏƒÎ¹Î±ÎºÏŒ ÎÏ„Î¿Ï…ÏŒÎ¼Î¿."},
  {name:"Î¦Î»Ï‰ÏÎµÎ½Ï„Î¯Î±", dist:2, weather:"ÎŠÎ´Î¹Î±", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î ÏŒÎ»Î·"], costLevel:"ÎœÎ­Ï„ÏÎ¹Î¿", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î— ÎºÎ±ÏÎ´Î¹Î¬ Ï„Î·Ï‚ Î‘Î½Î±Î³Î­Î½Î½Î·ÏƒÎ·Ï‚, Ï„Î­Ï‡Î½Î· ÎºÎ±Î¹ Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ®."},
  {name:"ÎšÏ‰Î½ÏƒÏ„Î±Î½Ï„Î¹Î½Î¿ÏÏ€Î¿Î»Î·", dist:2, weather:"ÎŠÎ´Î¹Î±", themeparks:"ÎÎ±Î¹", christmas:"ÎŒÏ‡Î¹", vacationType:["Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î ÏŒÎ»Î·"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î“Î­Ï†Ï…ÏÎ± Î¼ÎµÏ„Î±Î¾Ï Î•Ï…ÏÏÏ€Î·Ï‚ ÎºÎ±Î¹ Î‘ÏƒÎ¯Î±Ï‚, Î‘Î³Î¯Î± Î£Î¿Ï†Î¯Î± ÎºÎ±Î¹ Ï€Î±Î¶Î¬ÏÎ¹Î±."},
  {name:"Î£ÏŒÏ†Î¹Î±", dist:1, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎŒÏ‡Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "Î¦Î¸Î¹Î½ÏŒÏ€Ï‰ÏÎ¿"], desc:"Î’Î¿Ï…Î»Î³Î±ÏÎ¹ÎºÎ® Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ±, Î¼Îµ Ï„Î¿Î½ ÎºÎ±Î¸ÎµÎ´ÏÎ¹ÎºÏŒ Ï„Î¿Ï… Î‘Î»ÎµÎ¾Î¬Î½Î´ÏÎ¿Ï… ÎÎ¹Î­Ï†ÏƒÎºÎ¹."},
  {name:"Î’Î±ÏÏƒÎ¿Î²Î¯Î±", dist:3, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"Î— Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Ï„Î·Ï‚ Î Î¿Î»Ï‰Î½Î¯Î±Ï‚ Î¼Îµ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ­Î½Ï„ÏÎ¿ ÎºÎ±Î¹ ÏŒÎ¼Î¿ÏÏ†Î± Ï€Î¬ÏÎºÎ±."},
  {name:"ÎšÏÎ±ÎºÎ¿Î²Î¯Î±", dist:2, weather:"Î Î¹Î¿ ÎºÏÏÎ¿", themeparks:"ÎÎ±Î¹", christmas:"ÎÎ±Î¹", vacationType:["Î ÏŒÎ»Î·", "Î Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚"], costLevel:"ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ", suitableFor:["ÎÎµÎ¿Î³Î­Î½Î½Î·Ï„Î±", "Î Î±Î¹Î´Î¹ÎºÏŒ"], bestSeason:["Î†Î½Î¿Î¹Î¾Î·", "ÎšÎ±Î»Î¿ÎºÎ±Î¯ÏÎ¹"], desc:"Î— Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÎ® Ï€ÏŒÎ»Î· Î¼Îµ Ï„Î¿ Î²Î±ÏƒÎ¹Î»Î¹ÎºÏŒ ÎºÎ¬ÏƒÏ„ÏÎ¿ Wawel ÎºÎ±Î¹ Ï„Î·Î½ Ï€Î±Î»Î¹Î¬ Ï€ÏŒÎ»Î·."}
];

const activities = [
    // 1) Palace Ticket (Î²Î±ÏƒÎ¹ÎºÏŒ ÎµÎ¹ÏƒÎ¹Ï„Î®ÏÎ¹Î¿)
    {
        name: "Palace Ticket - SchÃ¶nbrunn Palace",
        desc: "Î’Î±ÏƒÎ¹ÎºÏŒ ÎµÎ¹ÏƒÎ¹Ï„Î®ÏÎ¹Î¿ Î³Î¹Î± Ï„Î± ÎºÏÎ±Ï„Î¹ÎºÎ¬/Î¹Î´Î¹Ï‰Ï„Î¹ÎºÎ¬ Î´Î¹Î±Î¼ÎµÏÎ¯ÏƒÎ¼Î±Ï„Î± Î¼Îµ audio-guide. Timed entry.",
        prices: {"0-2":0,"3-5":0,"6-14":28,"15-19":31.5,"18+":38},
        selected: false,
        lat: 48.1845, lng: 16.3122,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Residenz+SchÃ¶nbrunn+Vienna' target='_blank'>CafÃ© Residenz</a> - Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ SchÃ¶nbrunn",
        website: "https://www.schoenbrunn.at/en/",
        note: "Î£Ï‡Î¿Î»Î¹ÎºÎ­Ï‚ Î¿Î¼Î¬Î´ÎµÏ‚ (6-18): â‚¬18.00"
    },
   
    // 2) State Apartments / Guided Tour Maria Theresia
    {
        name: "State Apartments / Guided Tour Maria Theresia",
        desc: "Î£ÏÎ½Ï„Î¿Î¼Î· Î¾ÎµÎ½Î¬Î³Î·ÏƒÎ· Î® Î¸ÎµÎ¼Î±Ï„Î¹ÎºÎ® Î¾ÎµÎ½Î¬Î³Î·ÏƒÎ· Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ·Ï‚ Î´Î¹Î¬ÏÎºÎµÎ¹Î±Ï‚.",
        prices: {"0-2":0,"3-5":0,"6-14":19,"15-19":29,"18+":39},
        selected: false,
        lat: 48.1846, lng: 16.3123,
        restaurant: "<a href='https://maps.google.com/?q=FiglmÃ¼ller+Vienna' target='_blank'>FiglmÃ¼ller</a> - Î´Î¹Î¬ÏƒÎ·Î¼Î¿ Î³Î¹Î± schnitzel",
        website: "https://www.schoenbrunn.at/en/"
    },
   
    // 3) Sisi Pass (ÏƒÏ…Î½Î´Ï…Î±ÏƒÏ„Î¹ÎºÏŒ)
    {
        name: "Sisi Pass (3 Î±Ï…Ï„Î¿ÎºÏÎ±Ï„Î¿ÏÎ¹ÎºÎ¬ Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î±)",
        desc: "SchÃ¶nbrunn Palace + Sisi Museum (Hofburg) + Vienna Furniture Museum. Î§Ï‰ÏÎ¯Ï‚ timeslot Î³Î¹Î± Î¼Î¿Ï…ÏƒÎµÎ¯Î±.",
        prices: {"0-2":0,"3-5":0,"6-14":37,"15-19":37,"18+":57},
        selected: false,
        lat: 48.2058, lng: 16.3698,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Central+Vienna' target='_blank'>CafÃ© Central</a> - Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ±Ï†Î­",
        website: "https://www.schoenbrunn.at/en/",
        note: "Î•ÎºÏ€Ï„Ï‰Ï„Î¹ÎºÏŒ combo Î³Î¹Î± 3 Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î±"
    },
   
    // 4) Winter Pass (ÎµÏ€Î¿Ï‡Î¹ÎºÏŒ)
    {
        name: "Winter Pass (Ï‡ÎµÎ¹Î¼ÎµÏÎ¹Î½Î® Ï€ÎµÏÎ¯Î¿Î´Î¿Ï‚)",
        desc: "Palace Ticket + Zoo + Desert House + Palm House. Î™ÏƒÏ‡ÏÎµÎ¹ 3 Nov 2025â€“26 Mar 2026.",
        prices: {"0-2":0,"3-5":0,"6-14":47,"15-19":47,"18+":69},
        selected: false,
        lat: 48.1847, lng: 16.3124,
        restaurant: "<a href='https://maps.google.com/?q=Schweizerhaus+Vienna' target='_blank'>Schweizerhaus</a> - Ï€Î­ÏÎ´Î¹ÎºÎ± ÎºÎ±Î¹ Î¼Ï€ÏÏÎ±",
        website: "https://www.schoenbrunn.at/en/",
        seasonal: true
    },
   
    // 5) Classic Pass & Classic Pass Plus
    {
        name: "Classic Pass (ÎºÎ±Î»Î¿ÎºÎ±Î¹ÏÎ¹Î½Î® Ï€ÎµÏÎ¯Î¿Î´Î¿Ï‚)",
        desc: "Palace Ticket + Privy Garden + Maze & Labyrinth + Orangery Garden + Gloriette terrace.",
        prices: {"0-2":0,"3-5":0,"6-14":28,"15-19":31,"18+":40},
        selected: false,
        lat: 48.1848, lng: 16.3125,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Gloriette+Vienna' target='_blank'>CafÃ© Gloriette</a> - Î¼Îµ Î¸Î­Î±",
        website: "https://www.schoenbrunn.at/en/",
        note: "Î™Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± Î¼Î¿Î½Î¿Î®Î¼ÎµÏÎ· ÎµÏ€Î¯ÏƒÎºÎµÏˆÎ·"
    },
   
    {
        name: "Classic Pass Plus (Ï€Î»Î®ÏÎµÏ‚ Ï€Î±ÎºÎ­Ï„Î¿)",
        desc: "Classic Pass + Zoo + Desert House + Palm House - ÏƒÏ‡ÎµÎ´ÏŒÎ½ ÏŒÎ»Î¿ Ï„Î¿ SchÃ¶nbrunn.",
        prices: {"0-2":0,"3-5":0,"6-14":53.5,"15-19":53.5,"18+":76},
        selected: false,
        lat: 48.1849, lng: 16.3126,
        restaurant: "<a href='https://maps.google.com/?q=Tiergarten+Restaurant+Vienna' target='_blank'>Tiergarten Restaurant</a> - ÏƒÏ„Î¿ zoo",
        website: "https://zoovienna.at/",
        note: "20-30% ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·"
    },
   
    // 6) Children's Museum
    {
        name: "Children's Museum (Kindermuseum)",
        desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ 3-18 ÎµÏ„ÏÎ½ Î¼Îµ ÏƒÏ…Î½Î´Ï…Î±ÏƒÏ„Î¹ÎºÎ¬ tickets.",
        prices: {"0-2":0,"3-5":12,"6-14":12,"15-19":12,"18+":12},
        selected: false,
        lat: 48.1850, lng: 16.3127,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Kindermuseum+Vienna' target='_blank'>Cafe Kindermuseum</a>",
        website: "https://www.schoenbrunn.at/en/"
    },
   
    // 7) Zoo Vienna Family Packages
    {
        name: "Zoo Vienna - Family Block Ticket",
        desc: "5 ÎµÎ¹ÏƒÎ¹Ï„Î®ÏÎ¹Î± (2 adults + 3 children/adolescents) - Î¹ÏƒÏ‡ÏÎµÎ¹ 1 Ï‡ÏÏŒÎ½Î¿.",
        prices: {"0-2":0,"3-5":19.2,"6-14":19.2,"15-19":19.2,"18+":19.2},
        selected: false,
        lat: 48.1800, lng: 16.3028,
        restaurant: "<a href='https://maps.google.com/?q=Tiergarten+Cafe+Vienna' target='_blank'>Tiergarten Cafe</a>",
        website: "https://zoovienna.at/",
        note: "Î£ÏÎ½Î¿Î»Î¿: â‚¬96 Î³Î¹Î± 5 Î¬Ï„Î¿Î¼Î±"
    },
   
    {
        name: "Zoo + Palm House + Desert House Combo",
        desc: "Î£Ï…Î½Î´Ï…Î±ÏƒÏ„Î¹ÎºÏŒ ÎµÎ¹ÏƒÎ¹Ï„Î®ÏÎ¹Î¿ Î³Î¹Î± Î¼Î¯Î± ÎµÏ€Î¯ÏƒÎºÎµÏˆÎ· ÏƒÎµ ÎºÎ¬Î¸Îµ Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î¿.",
        prices: {"0-2":0,"3-5":22.5,"6-14":22.5,"15-19":22.5,"18+":36},
        selected: false,
        lat: 48.1801, lng: 16.3029,
        restaurant: "<a href='https://maps.google.com/?q=Palm+House+Cafe+Vienna' target='_blank'>Palm House Cafe</a>",
        website: "https://zoovienna.at/",
        note: "Î™Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± Î¿Î¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¯ÎµÏ‚"
    },
   
    // 8) Haus des Meeres (Aquarium)
    {
        name: "Haus des Meeres (Aqua Terra Zoo)",
        desc: "Î•Î½Ï…Î´ÏÎµÎ¯Î¿ ÎºÎ±Î¹ Î¼Î¹ÎºÏÏŒÏ‚ Î¶Ï‰Î¿Î»Î¿Î³Î¹ÎºÏŒÏ‚ ÎºÎ®Ï€Î¿Ï‚ ÏƒÏ„Î¿ ÎºÎ­Î½Ï„ÏÎ¿ Ï„Î·Ï‚ Î’Î¹Î­Î½Î½Î·Ï‚.",
        prices: {"0-2":0,"3-5":6.5,"6-14":9.8,"15-19":22.9,"18+":22.9},
        selected: false,
        lat: 48.2050, lng: 16.3575,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Ritter+Mariahilfer+StraÃŸe+Vienna' target='_blank'>CafÃ© Ritter</a> - Mariahilfer StraÃŸe",
        website: "https://www.haus-des-meeres.at/en"
    },
   
    // 9) Time Travel Vienna
    {
        name: "Time Travel Vienna",
        desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Ï„Î±Î¾Î¯Î´Î¹ 2000 Ï‡ÏÏŒÎ½Ï‰Î½ Î¹ÏƒÏ„Î¿ÏÎ¯Î±Ï‚ Ï„Î·Ï‚ Î’Î¹Î­Î½Î½Î·Ï‚.",
        prices: {"0-2":0,"3-5":0,"6-14":18,"15-19":22,"18+":22},
        selected: false,
        lat: 48.2084, lng: 16.3731,
        restaurant: "<a href='https://maps.google.com/?q=Time+Travel+Cafe+Vienna' target='_blank'>Time Travel Cafe</a>",
        website: "https://www.timetravel-vienna.at/en"
    },
   
    // 10) Sisi's Amazing Journey (VR)
    {
        name: "Sisi's Amazing Journey (VR Experience)",
        desc: "VR ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯Î± Î³Î¹Î± Ï„Î· Î¶Ï‰Î® Ï„Î·Ï‚ Î±Ï…Ï„Î¿ÎºÏÎ¬Ï„ÎµÎ¹ÏÎ±Ï‚ Î£Î¯ÏƒÏƒÎ¹.",
        prices: {"0-2":0,"3-5":0,"6-14":14,"15-19":14,"18+":14},
        selected: false,
        lat: 48.2058, lng: 16.3698,
        restaurant: "<a href='https://maps.google.com/?q=VR+Cafe+Vienna' target='_blank'>VR Experience Cafe</a>",
        website: "https://www.hofburg-wien.at/en/",
        note: "Combo Î¼Îµ Time Travel Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿"
    },
   
    // 11) House of Music
    {
        name: "House of Music (Haus der Musik)",
        desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ Î¼Î¿Ï…ÏƒÎ¹ÎºÎ®Ï‚ Î³Î¹Î± ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î·Î»Î¹ÎºÎ¯ÎµÏ‚.",
        prices: {"0-2":0,"3-5":10,"6-14":10,"15-19":22,"18+":22},
        selected: false,
        lat: 48.2032, lng: 16.3738,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Schwarzenberg+Vienna' target='_blank'>CafÃ© Schwarzenberg</a>",
        website: "https://www.hausdermusik.com/en",
        familyTicket: "2 adults + up to 3 children = 35â‚¬"
    },
   
    // 12) Museum der Illusionen
    {
        name: "Museum der Illusionen (ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î¨ÎµÏ…Î´Î±Î¹ÏƒÎ¸Î®ÏƒÎµÏ‰Î½)",
        desc: "ÎŸÏ€Ï„Î¹ÎºÎ­Ï‚ ÏˆÎµÏ…Î´Î±Î¹ÏƒÎ¸Î®ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î´Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ¬ ÎµÎºÎ¸Î­Î¼Î±Ï„Î±.",
        prices: {"0-2":0,"3-5":0,"6-14":10,"15-19":12,"18+":14},
        selected: false,
        lat: 48.2095, lng: 16.3702,
        restaurant: "<a href='https://maps.google.com/?q=Illusions+Cafe+Vienna' target='_blank'>Illusions Cafe</a>",
        website: "https://www.museumderillusionen.at/wien/"
    },
   
    // 13) Vienna State Opera Tour
    {
        name: "Vienna State Opera - Guided Tour",
        desc: "ÎÎµÎ½Î¬Î³Î·ÏƒÎ· ÏƒÏ„Î¿ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÏ„Î®ÏÎ¹Î¿ Ï„Î·Ï‚ ÏŒÏ€ÎµÏÎ±Ï‚.",
        prices: {"0-2":0,"3-5":0,"6-14":9,"15-19":15,"18+":15},
        selected: false,
        lat: 48.2034, lng: 16.3692,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Sacher+Vienna' target='_blank'>CafÃ© Sacher</a> - Î³Î¹Î± Sachertorte",
        website: "https://www.wiener-staatsoper.at/en/"
    },
   
    // 14) Belvedere Palace
    {
        name: "Belvedere Palace (Upper/Lower)",
        desc: "Î‘Ï…Ï„Î¿ÎºÏÎ±Ï„Î¿ÏÎ¹ÎºÏŒ Ï€Î±Î»Î¬Ï„Î¹ Î¼Îµ Î¼ÏŒÎ½Î¹Î¼Î· ÏƒÏ…Î»Î»Î¿Î³Î® Ï„Î­Ï‡Î½Î·Ï‚.",
        prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":29},
        selected: false,
        lat: 48.1910, lng: 16.3805,
        restaurant: "<a href='https://maps.google.com/?q=Salm+BrÃ¤u+Vienna' target='_blank'>Salm BrÃ¤u</a> - Î¼Ï€ÏÏÎ± ÎºÎ±Î¹ ÎºÎ¿Ï…Î¶Î¯Î½Î±",
        website: "https://www.belvedere.at/en",
        note: "Î”Ï‰ÏÎµÎ¬Î½ Î³Î¹Î± ÎºÎ¬Ï„Ï‰ Ï„Ï‰Î½ 19 (Î¼ÏŒÎ½Î¹Î¼Î· ÏƒÏ…Î»Î»Î¿Î³Î®)"
    },
   
    // 15) Donauturm (Danube Tower)
    {
        name: "Donauturm (Danube Tower)",
        desc: "Î Î±Î½Î¿ÏÎ±Î¼Î¹ÎºÎ® Î¸Î­Î± Ï„Î·Ï‚ Î’Î¹Î­Î½Î½Î·Ï‚ Î±Ï€ÏŒ Ï„Î¿Î½ Ï€ÏÏÎ³Î¿ Ï„Î¿Ï… Î”Î¿ÏÎ½Î±Î²Î·.",
        prices: {"0-2":0,"3-5":4,"6-14":8,"15-19":12,"18+":12},
        selected: false,
        lat: 48.2389, lng: 16.4103,
        restaurant: "<a href='https://maps.google.com/?q=Donauturm+Restaurant+Vienna' target='_blank'>Donauturm Restaurant</a> - ÏƒÏ„ÏÎ¿Ï†ÎµÎ¯Î¿",
        website: "https://www.donauturm.at/en/"
    },
   
    // 16) Mozarthaus Vienna
    {
        name: "Mozarthaus Vienna",
        desc: "Î¤Î¿ ÏƒÏ€Î¯Ï„Î¹ ÏŒÏ€Î¿Ï… Î­Î¶Î·ÏƒÎµ Î¿ Mozart, Ï„ÏÏÎ± Î¼Î¿Ï…ÏƒÎµÎ¯Î¿.",
        prices: {"0-2":0,"3-5":4.5,"6-14":4.5,"15-19":14,"18+":14},
        selected: false,
        lat: 48.2086, lng: 16.3735,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Mozart+Vienna' target='_blank'>CafÃ© Mozart</a> - ÎºÎ»Î±ÏƒÎ¹ÎºÏŒ",
        website: "https://www.mozarthausvienna.at/en/",
        familyTicket: "2 adults + up to 3 children = 29â‚¬"
    },
   
    // 17) St. Stephen's Cathedral Crypt
    {
        name: "St. Stephen's Cathedral Crypt",
        desc: "Î•Ï€Î¯ÏƒÎºÎµÏˆÎ· ÏƒÏ„Î·Î½ ÎºÏÏÏ€Ï„Î· Ï„Î¿Ï… Î´Î¹Î¬ÏƒÎ·Î¼Î¿Ï… ÎºÎ±Î¸ÎµÎ´ÏÎ¹ÎºÎ¿Ï Î½Î±Î¿Ï.",
        prices: {"0-2":0,"3-5":0,"6-14":3,"15-19":5,"18+":5},
        selected: false,
        lat: 48.2085, lng: 16.3730,
        restaurant: "<a href='https://maps.google.com/?q=Do+Co+Stephansplatz+Vienna' target='_blank'>Do & Co</a> - Î¼Îµ Î¸Î­Î±",
        website: "https://www.stephanskirche.at/"
    },
   
    // 18) Spanish Riding School
    {
         name: "Spanish Riding School",
        desc: "Î ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ· Ï„Ï‰Î½ Î´Î¹Î¬ÏƒÎ·Î¼Ï‰Î½ Î¯Ï€Ï€Ï‰Î½ Lipizzaner. âš ï¸ <strong>Î—Î»Î¹ÎºÎ¹Î±ÎºÎ¿Î¯ Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î¿Î¯:</strong> Î Î±Î¹Î´Î¹Î¬ ÎºÎ¬Ï„Ï‰ 3 ÎµÏ„ÏÎ½: Î‘Î”Î¥ÎÎ‘Î¤Î— Î•Î™Î£ÎŸÎ”ÎŸÎ£ | 3-5 ÎµÏ„ÏÎ½: ÎœÏŒÎ½Î¿ ÏƒÎµ family performances",
        prices: {"0-2":"N/A","3-5":8,"6-14":14,"15-19":16,"18+":16},
        selected: false,
        lat: 48.2068, lng: 16.3675,
        restaurant: "<a href='https://maps.google.com/?q=Griechenbeisl+Vienna' target='_blank'>Griechenbeisl</a> - Ï€Î±Î»Î±Î¹ÏŒÏ„ÎµÏÎ¿ ÎµÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿",
        website: "https://www.srs.at/en/",
        ageRestrictions: true,
        minAge: 3,
        ageWarning: "âš ï¸ Î Î±Î¹Î´Î¹Î¬ ÎºÎ¬Ï„Ï‰ Ï„Ï‰Î½ 3 ÎµÏ„ÏÎ½ Î”Î•Î ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹. 3-5 ÎµÏ„ÏÎ½: Î¼ÏŒÎ½Î¿ ÏƒÎµ family performances"
    }
];

// ** ÎÎ•Î‘ Î›Î™Î£Î¤Î‘ Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î©Î Î“Î™Î‘ Î¤ÎŸ Î’Î•Î¡ÎŸÎ›Î™ÎÎŸ **
const activitiesBerlin = [
  {name:"Illuseum Berlin", desc:"ÎˆÎ½Î±Ï‚ ÎºÏŒÏƒÎ¼Î¿Ï‚ Î³ÎµÎ¼Î¬Ï„Î¿Ï‚ ÏˆÎµÏ…Î´Î±Î¹ÏƒÎ¸Î®ÏƒÎµÎ¹Ï‚, Î¿Ï€Ï„Î¹ÎºÎ¬ Ï†Î±Î¹Î½ÏŒÎ¼ÎµÎ½Î± ÎºÎ±Î¹ Î´Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ­Ï‚ ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯ÎµÏ‚ Î³Î¹Î± Î¼Î¹ÎºÏÎ¿ÏÏ‚ ÎºÎ±Î¹ Î¼ÎµÎ³Î¬Î»Î¿Ï…Ï‚.", prices:{"0-2":0,"3-5":0,"6-14":12,"15-19":16,"18+":16}, selected:false, lat:52.5206, lng:13.3878, restaurant:"<a href='https://maps.google.com/?q=Curry+36+Berlin+Kreuzberg' target='_blank'>Curry 36</a> - Î´Î¹Î¬ÏƒÎ·Î¼Î± currywurst", website:"https://www.illuseum.de/en/"},
  {name:"Deutsches Technikmuseum", desc:"ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Ï„ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯Î±Ï‚ Î¼Îµ Ï„ÏÎ­Î½Î±, Î±ÎµÏÎ¿Ï€Î»Î¬Î½Î±, Ï€Î»Î¿Î¯Î± ÎºÎ±Î¹ Spectrum Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬.", prices:{"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":12}, selected:false, lat:52.4986, lng:13.3779, restaurant:"<a href='https://maps.google.com/?q=Schleusenkrug+Berlin' target='_blank'>Schleusenkrug</a> - beer garden", website:"https://technikmuseum.berlin/en/"},
  {name:"DDR Museum", desc:"Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ Î³Î¹Î± Ï„Î·Î½ ÎºÎ±Î¸Î·Î¼ÎµÏÎ¹Î½Î® Î¶Ï‰Î® ÏƒÏ„Î·Î½ Î‘Î½Î±Ï„Î¿Î»Î¹ÎºÎ® Î“ÎµÏÎ¼Î±Î½Î¯Î± (DDR).", prices:{"0-2":0,"3-5":0,"6-14":8,"15-19":13.5,"18+":13.5}, selected:false, lat:52.5194, lng:13.4025, restaurant:"<a href='https://maps.google.com/?q=Zur+letzten+Instanz+Berlin' target='_blank'>Zur letzten Instanz</a> - Ï€Î±Î»Î¹ÏŒ ÎµÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿", website:"https://www.ddr-museum.de/en"},
  {name:"Museum fÃ¼r Naturkunde", desc:"Î¨Î·Î»ÏŒÏ„ÎµÏÎ¿Ï‚ ÏƒÎºÎµÎ»ÎµÏ„ÏŒÏ‚ Î´ÎµÎ¹Î½Î¿ÏƒÎ±ÏÏÎ¿Ï… ÎºÎ±Î¹ Î¼ÎµÎ³Î¬Î»Î· ÏƒÏ…Î»Î»Î¿Î³Î® Î¶ÏÏ‰Î½ ÎºÎ±Î¹ Î¿ÏÏ…ÎºÏ„ÏÎ½.", prices:{"0-5":0,"6-14":5,"15-19":11,"18+":11}, selected:false, lat:52.5302, lng:13.3793, restaurant:"<a href='https://maps.google.com/?q=Transit+Berlin+Mitte' target='_blank'>Transit</a> - modern German cuisine", website:"https://www.museumfuernaturkunde.berlin/en"},
  {name:"LEGOLAND Discovery Centre Berlin", desc:"ÎšÎ­Î½Ï„ÏÎ¿ Î´Î¹Î±ÏƒÎºÎ­Î´Î±ÏƒÎ·Ï‚ Î¼Îµ LEGO, Î¼Î¯Î½Î¹ Î’ÎµÏÎ¿Î»Î¯Î½Î¿, 4D cinema ÎºÎ±Î¹ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹Î±.", prices:{"0-2":0,"3-5":19.5,"6-14":19.5,"15-19":19.5,"18+":19.5}, selected:false, lat:52.5015, lng:13.3371, restaurant:"<a href='https://maps.google.com/?q=Vapiano+Berlin+Potsdamer+Platz' target='_blank'>Vapiano</a> - Italian", website:"https://www.legolanddiscoverycentre.de/berlin/"},
  {name:"Madame Tussauds Berlin", desc:"ÎšÎ­ÏÎ¹Î½Î± Î¿Î¼Î¿Î¹ÏÎ¼Î±Ï„Î± Î´Î¹Î±ÏƒÎ·Î¼Î¿Ï„Î®Ï„Ï‰Î½ ÎºÎ±Î¹ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏÎ½ Ï€ÏÎ¿ÏƒÏÏ€Ï‰Î½.", prices:{"0-2":0,"3-5":18,"6-14":18,"15-19":23.5,"18+":23.5}, selected:false, lat:52.5032, lng:13.3385, restaurant:"<a href='https://maps.google.com/?q=California+Berlin' target='_blank'>California</a> - American style", website:"https://www.madametussauds.com/berlin/en/"},
  {name:"ANOHA - Children's World", desc:"Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒÏ‚ Ï€Î±Î¹Î´Î¹ÎºÏŒÏ‚ ÎºÏŒÏƒÎ¼Î¿Ï‚ ÏƒÏ„Î¿ Î•Î²ÏÎ±ÏŠÎºÏŒ ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î’ÎµÏÎ¿Î»Î¯Î½Î¿Ï….", prices:{"0-2":3,"3-5":3,"6-14":3,"15-19":3,"18+":3}, selected:false, lat:52.5024, lng:13.3952, restaurant:"<a href='https://maps.google.com/?q=Cafe+Schmus+Berlin' target='_blank'>Cafe Schmus</a> - ÏƒÏ„Î¿ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿", website:"https://www.jmberlin.de/en/anoha"},
  {name:"Labyrinth Kindermuseum", desc:"ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ Î¼Îµ ÎµÎºÎ¸Î­Î¼Î±Ï„Î± Ï€Î¿Ï… ÎµÎ½Î¸Î±ÏÏÏÎ½Î¿Ï…Î½ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹ ÎºÎ±Î¹ Î¼Î¬Î¸Î·ÏƒÎ·.", prices:{"0-2":0,"3-5":7,"6-14":7,"15-19":7,"18+":7}, selected:false, lat:52.5432, lng:13.4221, restaurant:"<a href='https://maps.google.com/?q=Schiller+Burg+Berlin' target='_blank'>Schiller Burg</a> - burgers", website:"https://www.labyrinth-kindermuseum.de/en"},
  {name:"MACHmit! Museum for Children", desc:"ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ Î¼Îµ ÎµÏÎ³Î±ÏƒÏ„Î®ÏÎ¹Î± ÎºÎ±Î¹ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹Î±.", prices:{"0-2":0,"3-5":9,"6-14":9,"15-19":9,"18+":9}, selected:false, lat:52.5401, lng:13.4178, restaurant:"<a href='https://maps.google.com/?q=La+Casa+Berlin' target='_blank'>La Casa</a> - Mediterranean", website:"https://www.machmitmuseum.de/en/"},
  {name:"Zoologischer Garten Berlin", desc:"ÎŸ Ï€Î±Î»Î±Î¹ÏŒÏ„ÎµÏÎ¿Ï‚ Î¶Ï‰Î¿Î»Î¿Î³Î¹ÎºÏŒÏ‚ ÎºÎ®Ï€Î¿Ï‚ Ï„Î·Ï‚ Î“ÎµÏÎ¼Î±Î½Î¯Î±Ï‚ Î¼Îµ Î¼ÎµÎ³Î¬Î»Î· Ï€Î¿Î¹ÎºÎ¹Î»Î¯Î± Î¶ÏÏ‰Î½.", prices:{"0-4":0,"3-5":7,"6-14":7,"15-19":15.5,"18+":15.5}, selected:false, lat:52.5075, lng:13.3375, restaurant:"<a href='https://maps.google.com/?q=Block+House+Berlin' target='_blank'>Block House</a> - steakhouse", website:"https://www.zoo-berlin.de/en"},
  {name:"Zoologischer Garten + Aquarium Berlin", desc:"Î£Ï…Î½Î´Ï…Î±ÏƒÏ„Î¹ÎºÏŒ ÎµÎ¹ÏƒÎ¹Ï„Î®ÏÎ¹Î¿ Î¶Ï‰Î¿Î»Î¿Î³Î¹ÎºÎ¿Ï ÎºÎ®Ï€Î¿Ï… ÎºÎ±Î¹ ÎµÎ½Ï…Î´ÏÎµÎ¯Î¿Ï….", prices:{"0-4":0,"3-5":10.5,"6-14":10.5,"15-19":23.5,"18+":23.5}, selected:false, lat:52.5075, lng:13.3375, restaurant:"<a href='https://maps.google.com/?q=Hard+Rock+Cafe+Berlin' target='_blank'>Hard Rock Cafe</a> - American", website:"https://www.aquarium-berlin.de/en"},
  {name:"Tiergarten", desc:"Î¤Î¿ Ï„ÎµÏÎ¬ÏƒÏ„Î¹Î¿ ÎºÎµÎ½Ï„ÏÎ¹ÎºÏŒ Ï€Î¬ÏÎºÎ¿ Ï„Î¿Ï… Î’ÎµÏÎ¿Î»Î¯Î½Î¿Ï….", prices:{"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0}, selected:false, lat:52.5145, lng:13.3501, restaurant:"<a href='https://maps.google.com/?q=Cafe+am+Neuen+See+Berlin' target='_blank'>Cafe am Neuen See</a> - beer garden", website:"https://www.berlin.de/en/parks-and-gardens/3559686-3104052-tiergarten.en.html"},
  {name:"Garten der Welt", desc:"Î•Î½Ï„Ï…Ï€Ï‰ÏƒÎ¹Î±ÎºÏŒ Ï€Î¬ÏÎºÎ¿ Î¼Îµ Î¸ÎµÎ¼Î±Ï„Î¹ÎºÎ¿ÏÏ‚ ÎºÎ®Ï€Î¿Ï…Ï‚ ÎºÎ±Î¹ Ï„ÎµÎ»ÎµÏ†ÎµÏÎ¯Îº.", prices:{"0-5":0,"6-14":4,"15-19":4,"18+":9}, selected:false, lat:52.5408, lng:13.5775, restaurant:"<a href='https://maps.google.com/?q=Restaurant+Erholung+Berlin' target='_blank'>Restaurant Erholung</a> - ÏƒÏ„Î¿ Ï€Î¬ÏÎºÎ¿", website:"https://www.gruen-berlin.de/en/gardens-of-the-world"},
  {name:"FEZ Berlin", desc:"ÎœÎµÎ³Î¬Î»Î¿ ÎºÎ­Î½Ï„ÏÎ¿ Î±Î½Î±ÏˆÏ…Ï‡Î®Ï‚ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ Î¼Îµ ÎµÏÎ³Î±ÏƒÏ„Î®ÏÎ¹Î±, Î¸Î­Î±Ï„ÏÎ¿ ÎºÎ±Î¹ Ï€Î±Î¹Î´Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿.", prices:{"0-2":0,"3-5":5,"6-14":5,"15-19":5,"18+":5}, selected:false, lat:52.4456, lng:13.5364, restaurant:"<a href='https://maps.google.com/?q=FEZ+Cafe+Berlin' target='_blank'>FEZ Cafe</a> - family friendly", website:"https://fez-berlin.de/en/"},
  {name:"Fernsehturm + VR", desc:"Î ÏÏÎ³Î¿Ï‚ Î¤Î·Î»ÎµÏŒÏÎ±ÏƒÎ·Ï‚ Î¼Îµ Ï€Î±Î½Î¿ÏÎ±Î¼Î¹ÎºÎ® Î¸Î­Î± ÎºÎ±Î¹ VR.", prices:{"0-4":0,"3-5":26.5,"6-14":26.5,"15-19":36.5,"18+":36.5}, selected:false, lat:52.5208, lng:13.4094, restaurant:"<a href='https://maps.google.com/?q=Sphere+Restaurant+Berlin' target='_blank'>Sphere Restaurant</a> - Ï€ÎµÏÎ¹ÏƒÏ„ÏÎµÏ†ÏŒÎ¼ÎµÎ½Î¿", website:"https://tv-turm.de/en/"},
  {name:"ÎšÏÎ¿Ï…Î±Î¶Î¹Î­ÏÎ± ÏƒÏ„Î¿Î½ Ï€Î¿Ï„Î±Î¼ÏŒ Spree", desc:"Î§Î±Î»Î±ÏÏ‰Ï„Î¹ÎºÏŒÏ‚ Ï„ÏÏŒÏ€Î¿Ï‚ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î± Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î± Ï„Î·Ï‚ Ï€ÏŒÎ»Î·Ï‚.", prices:{"0-6":0,"3-5":12.5,"6-14":12.5,"15-19":16.5,"18+":22}, selected:false, lat:52.5163, lng:13.4025, restaurant:"<a href='https://maps.google.com/?q=Spreegold+Berlin' target='_blank'>Spreegold</a> - German cuisine", website:"https://www.berlin-city-cruises.de/en/"},
  {name:"Extavium Potsdam", desc:"Î•Ï€Î¹ÏƒÏ„Î·Î¼Î¿Î½Î¹ÎºÏŒ ÎºÎ­Î½Ï„ÏÎ¿ Î¼Îµ Ï€ÎµÎ¹ÏÎ¬Î¼Î±Ï„Î±, Î¹Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ 4â€“12 ÎµÏ„ÏÎ½.", prices:{"0-2":0,"3-5":14,"6-14":14,"15-19":14,"18+":14}, selected:false, lat:52.4009, lng:13.0592, restaurant:"<a href='https://maps.google.com/?q=Alter+Fritz+Potsdam' target='_blank'>Alter Fritz</a> - traditional", website:"https://www.extavium.de/en/"},
  {name:"Computerspielemuseum", desc:"ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î²Î¹Î½Ï„ÎµÎ¿Ï€Î±Î¹Ï‡Î½Î¹Î´Î¹ÏÎ½ Î¼Îµ interactive ÎµÎºÎ¸Î­Î¼Î±Ï„Î±.", prices:{"0-5":0,"6-14":7,"15-19":11,"18+":11}, selected:false, lat:52.5111, lng:13.4478, restaurant:"<a href='https://maps.google.com/?q=Burger+Me+Berlin' target='_blank'>Burger Me</a> - burgers", website:"https://www.computerspielemuseum.de/"}
];

// ** Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£ Î“Î™Î‘ Î›Î™Î£Î‘Î’ÎŸÎÎ‘ **
const activitiesLisbon = [
    {
        name: "OceanÃ¡rio de Lisboa",
        desc: "ÎˆÎ½Î± Î±Ï€ÏŒ Ï„Î± Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ± ÎµÎ½Ï…Î´ÏÎµÎ¯Î± ÏƒÏ„Î·Î½ Î•Ï…ÏÏÏ€Î· Î¼Îµ Ï‡Î¹Î»Î¹Î¬Î´ÎµÏ‚ ÏˆÎ¬ÏÎ¹Î± ÎºÎ±Î¹ Î¸Î±Î»Î¬ÏƒÏƒÎ¹Î± ÎµÎ¯Î´Î·.",
        prices: {"0-2":0,"3-5":8,"6-14":12,"15-19":17,"18+":19},
        selected: false,
        lat: 38.7633,
        lng: -9.0937,
        restaurant: "<a href='https://maps.google.com/?q=Sea+Me+Lisbon' target='_blank'>Sea Me</a> - ÏˆÎ±ÏÎ¿Ï„Î±Î²Î­ÏÎ½Î±",
        website: "https://www.oceanario.pt/en/"
    },
    {
        name: "PavilhÃ£o do Conhecimento",
        desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ ÎµÏ€Î¹ÏƒÏ„Î®Î¼Î·Ï‚ Î¹Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ ÎºÎ±Î¹ ÎµÏ†Î®Î²Î¿Ï…Ï‚.",
        prices: {"0-2":0,"3-5":6,"6-14":8,"15-19":9,"18+":9},
        selected: false,
        lat: 38.7625,
        lng: -9.0950,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+do+OceanÃ¡rio' target='_blank'>Restaurante do OceanÃ¡rio</a>",
        website: "https://www.pavconhecimento.pt/en/"
    },
    {
        name: "Î ÏÏÎ³Î¿Ï‚ Ï„Î¿Ï… ÎœÏ€Î­Î»ÎµÎ½",
        desc: "Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒÏ‚ Ï€ÏÏÎ³Î¿Ï‚ Î±Ï€ÏŒ Ï„Î¿Î½ 16Î¿ Î±Î¹ÏÎ½Î±, ÏƒÏÎ¼Î²Î¿Î»Î¿ Ï„Î·Ï‚ Î Î¿ÏÏ„Î¿Î³Î±Î»Î¯Î±Ï‚.",
        prices: {"0-2":0,"3-5":0,"6-14":6,"15-19":8,"18+":8},
        selected: false,
        lat: 38.6916,
        lng: -9.2160,
        restaurant: "<a href='https://maps.google.com/?q=Pasteis+de+Belem' target='_blank'>Pasteis de Belem</a> - Î´Î¹Î¬ÏƒÎ·Î¼Î± Ï€Î±ÏƒÏ„Î­Î» Î½Î¬Ï„Î±",
        website: "https://www.torrebelem.pt/en/"
    },
    {
        name: "ÎœÎ¿Î½Î±ÏƒÏ„Î®ÏÎ¹ Ï„Ï‰Î½ Î™ÎµÏÎ¿Î½Î¿Î¼Î¹Ï„ÏÎ½",
        desc: "ÎœÎ½Î·Î¼ÎµÎ¯Î¿ UNESCO Î¼Îµ ÎµÎºÏ€Î»Î·ÎºÏ„Î¹ÎºÎ® Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® ÎºÎ±Î¹ Î¹ÏƒÏ„Î¿ÏÎ¯Î±.",
        prices: {"0-2":0,"3-5":0,"6-14":7,"15-19":10,"18+":10},
        selected: false,
        lat: 38.6978,
        lng: -9.2067,
        restaurant: "<a href='https://maps.google.com/?q=Antiga+Confeitaria+de+Belem' target='_blank'>Antiga Confeitaria</a> - Ï€Î±ÏÎ±Î´Î¿ÏƒÎ¹Î±ÎºÎ¬ Î³Î»Ï…ÎºÎ¬",
        website: "https://www.mosteirojeronimos.pt/en/"
    },
    {
        name: "ÎšÎ¬ÏƒÏ„ÏÎ¿ Ï„Î¿Ï… Î‘Î³Î¯Î¿Ï… Î“ÎµÏ‰ÏÎ³Î¯Î¿Ï…",
        desc: "ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÏŒ ÎºÎ¬ÏƒÏ„ÏÎ¿ Î¼Îµ Ï€Î±Î½Î¿ÏÎ±Î¼Î¹ÎºÎ® Î¸Î­Î± Ï„Î·Ï‚ Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±Ï‚.",
        prices: {"0-2":0,"3-5":5,"6-14":8,"15-19":10,"18+":10},
        selected: false,
        lat: 38.7139,
        lng: -9.1335,
        restaurant: "<a href='https://maps.google.com/?q=Chapito' target='_blank'>Chapito</a> - ÎµÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿ Î¼Îµ Î¸Î­Î±",
        website: "https://castelodesaojorge.pt/en/"
    }
];

// ** Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£ Î“Î™Î‘ Î’ÎŸÎ¥Î”Î‘Î Î•Î£Î¤Î— **
const activitiesBudapest = [
  {
    name: "Buda Castle (ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¬)",
    desc: "Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ¬ÏƒÏ„ÏÎ¿ Ï„Î·Ï‚ Î’Î¿ÏÎ´Î±Ï‚ Î¼Îµ Ï€Î±Î½Î¿ÏÎ±Î¼Î¹ÎºÎ® Î¸Î­Î± Ï„Î¿Ï… Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·Ï‚ ÎºÎ±Î¹ Ï„Î¿Ï… Î”Î¿ÏÎ½Î±Î²Î·. Î— ÎµÏ€Î¯ÏƒÎºÎµÏˆÎ· ÏƒÏ„Î¿Ï…Ï‚ ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¿ÏÏ‚ Ï‡ÏÏÎ¿Ï…Ï‚ (Î±Ï…Î»Î­Ï‚, Ï€Î»Î±Ï„ÎµÎ¯ÎµÏ‚, Î¸Î­Î±) ÎµÎ¯Î½Î±Î¹ Î”Î©Î¡Î•Î‘Î.",
    prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
    selected: false,
    lat: 47.4960,
    lng: 19.0396,
    restaurant: "<a href='https://maps.google.com/?q=Ruszwurm+Cafe+Budapest' target='_blank'>Ruszwurm Cafe</a> - Ï„Î¿ Ï€Î±Î»Î¹ÏŒÏ„ÎµÏÎ¿ Î¶Î±Ï‡Î±ÏÎ¿Ï€Î»Î±ÏƒÏ„ÎµÎ¯Î¿",
    website: "https://budacastlebudapest.com/",
    freeActivity: true,
    freeExterior: true
  },
  {
    name: "Royal Palace Experience Tour (ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿)",
    desc: "Î Î»Î®ÏÎ·Ï‚ Î¾ÎµÎ½Î¬Î³Î·ÏƒÎ· ÏƒÏ„Î± ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ¬ Ï„Î¿Ï… Î’Î±ÏƒÎ¹Î»Î¹ÎºÎ¿Ï Î Î±Î»Î±Ï„Î¹Î¿Ï, Î¼Îµ ÎµÎºÎ¸Î­ÏƒÎµÎ¹Ï‚ Ï„Î­Ï‡Î½Î·Ï‚ ÎºÎ±Î¹ Î¹ÏƒÏ„Î¿ÏÎ¯Î±Ï‚. âš ï¸ Î”ÎµÎ½ ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹ Ï€Î±Î¹Î´Î¹Î¬ 0-11 ÎµÏ„ÏÎ½.",
    prices: {"0-2":"blocked","3-5":"blocked","6-14":"blocked","15-19":18,"18+":18},
    selected: false,
    lat: 47.4965,
    lng: 19.0398,
    restaurant: "<a href='https://maps.google.com/?q=St.+Andrea+BorÃ¡szbÃ¡r' target='_blank'>St. Andrea</a> - Î¿Î¯Î½Î¿Ï‚ ÎºÎ±Î¹ ÎºÎ¿Ï…Î¶Î¯Î½Î±",
    website: "https://budacastlebudapest.com/",
    minAge: 12,
    ageWarning: "Î”ÎµÎ½ ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹ Ï€Î±Î¹Î´Î¹Î¬ ÎºÎ¬Ï„Ï‰ Ï„Ï‰Î½ 12 ÎµÏ„ÏÎ½"
  },
  {
    name: "Labyrinth of Buda Castle (Î¥Ï€ÏŒÎ³ÎµÎ¹Î¿Ï‚ Î›Î±Î²ÏÏÎ¹Î½Î¸Î¿Ï‚)",
    desc: "Î¥Ï€ÏŒÎ³ÎµÎ¹Î¿Ï‚ Î»Î±Î²ÏÏÎ¹Î½Î¸Î¿Ï‚ ÎºÎ¬Ï„Ï‰ Î±Ï€ÏŒ Ï„Î¿ ÎšÎ¬ÏƒÏ„ÏÎ¿ Ï„Î·Ï‚ Î’Î¿ÏÎ´Î±Ï‚, Î¼Îµ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÎ­Ï‚ ÎµÎºÎ¸Î­ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î±Ï„Î¼ÏŒÏƒÏ†Î±Î¹ÏÎ± Î¼Ï…ÏƒÏ„Î·ÏÎ¯Î¿Ï….",
    prices: {"0-2":3,"3-5":3,"6-14":12,"15-19":14,"18+":14},
    selected: false,
    lat: 47.4962,
    lng: 19.0395,
    restaurant: "<a href='https://maps.google.com/?q=Labyrinth+Cafe+Budapest' target='_blank'>Labyrinth Cafe</a> - ÏƒÏ„Î·Î½ ÎµÎ¯ÏƒÎ¿Î´Î¿",
    website: "https://www.labirintus.com/",
    minAge: 0
  },
  {
    name: "Hungarian Parliament",
    desc: "ÎœÎ½Î·Î¼ÎµÎ¯Î¿ UNESCO Î¼Îµ Ï„Î¿Î½ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ ÎºÎ±Î¸ÎµÎ´ÏÎ¹ÎºÏŒ Î½Î±ÏŒ Ï„Î·Ï‚ ÎŸÏ…Î³Î³Î±ÏÎ¯Î±Ï‚. Î Î±Î¹Î´Î¹Î¬ 0-5 ÎµÏ„ÏÎ½: Î´Ï‰ÏÎµÎ¬Î½, 6-14: 8â‚¬, 15+: 16â‚¬",
    prices: {"0-2":0,"3-5":0,"6-14":8,"15-19":16,"18+":16},
    selected: false,
    lat: 47.5072,
    lng: 19.0457,
    restaurant: "<a href='https://maps.google.com/?q=New+York+Cafe+Budapest' target='_blank'>New York Cafe</a> - Ï„Î¿ Ï€Î¹Î¿ ÏŒÎ¼Î¿ÏÏ†Î¿ ÎºÎ±Ï†Î­ ÏƒÏ„Î¿Î½ ÎºÏŒÏƒÎ¼Î¿",
    website: "https://www.parlament.hu/"
  },
  {
    name: "Vajdahunyad Castle & Museum of Hungarian Agriculture",
    desc: "ÎšÎ¬ÏƒÏ„ÏÎ¿ Î¼Îµ Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ¬ ÏƒÏ„Ï…Î» (Î¡Î¿Î¼Î±Î½Î¹ÎºÏŒ, Î“Î¿Ï„Î¸Î¹ÎºÏŒ, ÎœÏ€Î±ÏÏŒÎº). Î¦Î¹Î»Î¿Î¾ÎµÎ½ÎµÎ¯ Ï„Î¿ ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î‘Î³ÏÎ¿Ï„Î¹ÎºÎ®Ï‚ Î–Ï‰Î®Ï‚.",
    prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":5,"18+":5},
    selected: false,
    lat: 47.5153,
    lng: 19.0831,
    restaurant: "<a href='https://maps.google.com/?q=Gundel+Restaurant+Budapest' target='_blank'>Gundel</a> - Ï€Î±Î»Î¹ÏŒ ÎµÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿",
    website: "https://www.mezogazdasagimuzeum.hu/",
    freeExterior: true,
    priceNote: "ğŸ° Î•Î¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¿Î¯ Ï‡ÏÏÎ¿Î¹: Î”Î©Î¡Î•Î‘Î | Î•ÏƒÏ‰Ï„ÎµÏÎ¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿: Î Î›Î—Î¡Î©Î¤Î•ÎŸ"
  },
  {
    name: "House of Terror Museum",
    desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ Î³Î¹Î± Ï„Î¹Ï‚ Î´ÏÎ¿ Î´Î¹ÎºÏ„Î±Ï„Î¿ÏÎ¯ÎµÏ‚ ÏƒÏ„Î·Î½ ÎŸÏ…Î³Î³Î±ÏÎ¯Î± (Ï†Î±ÏƒÎ¹ÏƒÏ„Î¹ÎºÎ® ÎºÎ±Î¹ ÎºÎ¿Î¼Î¼Î¿Ï…Î½Î¹ÏƒÏ„Î¹ÎºÎ® Ï€ÎµÏÎ¯Î¿Î´Î¿).",
    prices: {"0-2":0,"3-5":0,"6-14":6,"15-19":12,"18+":12},
    selected: false,
    lat: 47.5075,
    lng: 19.0657,
    restaurant: "<a href='https://maps.google.com/?q=Menza+Budapest' target='_blank'>Menza</a> - retro restaurant",
    website: "https://www.terrorhaza.hu/",
    minAge: 14,
    ageWarning: "âš ï¸ Î‘ÎºÎ±Ï„Î¬Î»Î»Î·Î»Î¿ Î³Î¹Î± Î¬Ï„Î¿Î¼Î± ÎºÎ¬Ï„Ï‰ Ï„Ï‰Î½ 14 ÎµÏ„ÏÎ½"
  },
  {
    name: "Palace of Wonders (CsodÃ¡k PalotÃ¡ja)",
    desc: "Î Î±Î¹Î´Î¹ÎºÏŒ Î´Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ ÎµÏ€Î¹ÏƒÏ„Î®Î¼Î·Ï‚ ÎºÎ±Î¹ Ï„ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯Î±Ï‚.",
    prices: {"0-2":0,"3-5":0,"6-14":7,"15-19":10,"18+":10},
    selected: false,
    lat: 47.4975,
    lng: 19.0650,
    restaurant: "<a href='https://maps.google.com/?q=Cafe+Science+Budapest' target='_blank'>Cafe Science</a> - ÎºÎ¿Î½Ï„Î¬ ÏƒÏ„Î¿ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿",
    website: "https://www.csodakpalotaja.hu/",
    minAge: 3,
    ageWarning: "ÎšÎ±Ï„Î¬Î»Î»Î·Î»Î¿ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ Î±Ï€ÏŒ 3 ÎµÏ„ÏÎ½ ÎºÎ±Î¹ Ï€Î¬Î½Ï‰"
  },
  {
    name: "Museum of Illusions Budapest",
    desc: "ÎŸÏ€Ï„Î¹ÎºÎ­Ï‚ ÏˆÎµÏ…Î´Î±Î¹ÏƒÎ¸Î®ÏƒÎµÎ¹Ï‚, Î´Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ¬ ÎµÎºÎ¸Î­Î¼Î±Ï„Î± ÎºÎ±Î¹ Ï€Î±Î¶Î» Î³Î¹Î± ÏŒÎ»Î· Ï„Î·Î½ Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±.",
    prices: {"0-2":0,"3-5":0,"6-14":10,"15-19":12,"18+":14},
    selected: false,
    lat: 47.5020,
    lng: 19.0550,
    restaurant: "<a href='https://maps.google.com/?q=Illusion+Cafe+Budapest' target='_blank'>Illusion Cafe</a> - Î´Î¯Ï€Î»Î± ÏƒÏ„Î¿ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿",
    website: "https://museumofillusions.hu/",
    familyTicket: true,
    familyPrice: 53,
    familyDescription: "2 ÎµÎ½Î®Î»Î¹ÎºÎµÏ‚ + 2 Ï€Î±Î¹Î´Î¹Î¬ (6-14 ÎµÏ„ÏÎ½)"
  },
  {
    name: "Daytime Sightseeing Cruise (1 ÏÏÎ±)",
    desc: "Î“ÏÎ®Î³Î¿ÏÎ· ÎºÎ±Î¹ Î¿Î¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ® Î²ÏŒÎ»Ï„Î± ÏƒÏ„Î¿Î½ Î”Î¿ÏÎ½Î±Î²Î· (~1 ÏÏÎ±). Î§Ï‰ÏÎ¯Ï‚ Ï†Î±Î³Î·Ï„ÏŒ/Ï€Î¿Ï„ÏŒ.",
    prices: {"0-2":0,"3-5":6,"6-14":6,"15-19":12,"18+":12},
    selected: false,
    lat: 47.4989,
    lng: 19.0437,
    restaurant: "<a href='https://maps.google.com/?q=Spreegold+Berlin' target='_blank'>Spreegold</a> - German cuisine",
    website: "https://www.budapestrivercruise.com/",
    cruiseType: "daytime",
    duration: "1 ÏÏÎ±"
  },
  {
    name: "Evening / Sunset Cocktail Cruise (1-1.5 ÏÏÎµÏ‚)",
    desc: "ÎšÏÎ¿Ï…Î±Î¶Î¹Î­ÏÎ± Î¼Îµ Ï€Î¿Ï„ÏŒ/Ï€Î¿Ï„Î¬, Î½Ï…Ï‡Ï„ÎµÏÎ¹Î½Î® Î¸Î­Î± Ï„Î·Ï‚ Ï€ÏŒÎ»Î·Ï‚, ÏÎ¿Î¼Î±Î½Ï„Î¹ÎºÎ® Î±Ï„Î¼ÏŒÏƒÏ†Î±Î¹ÏÎ±.",
    prices: {"0-2":0,"3-5":14,"6-14":14,"15-19":28,"18+":28},
    selected: false,
    lat: 47.4989,
    lng: 19.0437,
    restaurant: "Î Î¿Ï„Î¬/ÎºÏÎ±ÏƒÎ¹Î¬ Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î·Î½ ÎºÏÎ¿Ï…Î±Î¶Î¹Î­ÏÎ±",
    website: "https://www.budapestrivercruise.com/",
    cruiseType: "evening",
    duration: "1-1.5 ÏÏÎµÏ‚",
    minAge: 6
  },
  {
    name: "SzÃ©chenyi Thermal Bath",
    desc: "Î˜ÎµÏÎ¼Î¬ Î»Î¿Ï…Ï„ÏÎ¬ ÏƒÎµ Î½ÎµÎ¿-Î¼Ï€Î±ÏÏŒÎº ÎºÏ„Î®ÏÎ¹Î¿, Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ±Î¹ Î¸ÎµÏÎ±Ï€ÎµÏ…Ï„Î¹ÎºÏŒ.",
    prices: {"0-2":0,"3-5":0,"6-14":18,"15-19":22,"18+":22},
    selected: false,
    lat: 47.5186,
    lng: 19.0816,
    restaurant: "<a href='https://maps.google.com/?q=Gett%C3%B3+Guly%C3%A1s+Budapest' target='_blank'>GettÃ³ GulyÃ¡s</a> - Ï€Î±ÏÎ±Î´Î¿ÏƒÎ¹Î±ÎºÎ® Î¿Ï…Î³Î³ÏÎ¹ÎºÎ® ÎºÎ¿Ï…Î¶Î¯Î½Î±",
    website: "https://www.szechenyifurdo.hu/",
    minAge: 14,
    ageWarning: "âš ï¸ Î‘ÎºÎ±Ï„Î¬Î»Î»Î·Î»Î¿ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬ ÎºÎ¬Ï„Ï‰ Ï„Ï‰Î½ 14 ÎµÏ„ÏÎ½."
  },
  {
    name: "Budapest Eye",
    desc: "Î¤ÏÎ¿Ï‡ÏŒÏ‚ Î¼Îµ Ï€Î±Î½Î¿ÏÎ±Î¼Î¹ÎºÎ® Î¸Î­Î± Ï„Î¿Ï… Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·Ï‚ ÎºÎ±Î¹ Ï„Î¿Ï… Î”Î¿ÏÎ½Î±Î²Î·.",
    prices: {"0-2":0,"3-5":0,"6-14":8,"15-19":12,"18+":12},
    selected: false,
    lat: 47.4970,
    lng: 19.0510,
    restaurant: "<a href='https://maps.google.com/?q=360+Bar+Budapest' target='_blank'>360 Bar</a> - rooftop bar",
    website: "https://budapesteye.com/",
    minAge: 0
  },
  {
    name: "Budapest Zoo & Botanical Garden",
    desc: "Î–Ï‰Î¿Î»Î¿Î³Î¹ÎºÏŒÏ‚ ÎºÎ®Ï€Î¿Ï‚ Î¼Îµ Î¶ÏÎ± ÎºÎ±Î¹ Ï†Ï…Ï„Î¬, ÎµÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÎ­Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î³Î¹Î± Ï€Î±Î¹Î´Î¹Î¬.",
    prices: {"0-2":0,"3-5":7,"6-14":7,"15-19":14,"18+":14},
    selected: false,
    lat: 47.5189,
    lng: 19.0778,
    restaurant: "<a href='https://maps.google.com/?q=Zoo+Cafe+Budapest+Zoo' target='_blank'>Zoo Cafe</a> - Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ Î¶Ï‰Î¿Î»Î¿Î³Î¹ÎºÏŒ",
    website: "https://zoobudapest.com/",
    minAge: 0
  },
  {
    name: "MAGIC2 - Î˜ÎµÎ¼Î±Ï„Î¹ÎºÏŒ Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿ Î¼Îµ ÎœÎ¬Î³Î¿Ï…Ï‚",
    desc: "ÎÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î® ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯Î±: Î¸ÎµÎ¼Î±Ï„Î¹ÎºÏŒ ÎµÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿ Î¼Îµ Î¶Ï‰Î½Ï„Î±Î½Î­Ï‚ Ï€Î±ÏÎ±ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ Î¼Î¬Î³Ï‰Î½.",
    prices: {"0-2":15,"3-5":15,"6-14":15,"15-19":15,"18+":15},
    selected: false,
    lat: 47.4979,
    lng: 19.0402,
    restaurant: "Î¤Î¿ Î¯Î´Î¹Î¿ Ï„Î¿ MAGIC2 - Î¸ÎµÎ¼Î±Ï„Î¹ÎºÏŒ ÎµÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿",
    website: "https://www.magic2.hu/",
    consumptionBased: true,
    priceNote: "ğŸ’° Î¤Î¹Î¼Î® Î²Î±ÏƒÎ¯Î¶ÎµÏ„Î±Î¹ ÏƒÎµ Î¼Î­ÏƒÎ· ÎºÎ±Ï„Î±Î½Î¬Î»Ï‰ÏƒÎ· (15â‚¬ Î±Î½Î¬ Î¬Ï„Î¿Î¼Î¿)"
  },
  {
    name: "Margaret Island (Margitsziget) - Playgrounds",
    desc: "ÎÎ·ÏƒÎ¯ ÏƒÏ„Î¿ Î”Î¿ÏÎ½Î±Î²Î· Î¼Îµ 4 Î¼ÎµÎ³Î¬Î»ÎµÏ‚ Ï€Î±Î¹Î´Î¹ÎºÎ­Ï‚ Ï‡Î±ÏÎ­Ï‚ ÎºÎ±Î¹ Ï€Î¿Î»Î»Î¬ Ï€ÏÎ¬ÏƒÎ¹Î½Î± Ï‡ÏÏÎ¿Ï…Ï‚.",
    prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
    selected: false,
    lat: 47.5260,
    lng: 19.0490,
    restaurant: "<a href='https://maps.google.com/?q=Palatinus+Strand+Budapest' target='_blank'>Palatinus Strand</a> - restaurant ÏƒÏ„Î¹Ï‚ Ï€Î¹ÏƒÎ¯Î½ÎµÏ‚",
    website: "https://www.budapest.com/",
    freeActivity: true,
    activityType: "playground"
  }
];

function toggleFamily(){
  const type = document.getElementById("travel-type").value;
  document.getElementById("family-options").style.display = (type==="ÎŸÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±")?"flex":"none";
}
// ==================== ğŸ‘‡ Î Î¡ÎŸÎ£Î˜Î•Î£Î• Î‘Î¥Î¤Î— Î¤Î— Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î— Î‘ÎšÎ¡Î™Î’Î©Î£ Î•Î”Î© ğŸ‘‡ ====================
function toggleQuickSelection() {
    const quickSelect = document.getElementById('quick-city-select');
    if (quickSelect) {
        quickSelect.style.display = quickSelect.style.display === 'none' ? 'block' : 'none';
        
        // Î‘Î½ Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ ÏƒÏ…Î¼Ï€Î»Î·ÏÏ‰Î¸ÎµÎ¯ Î· Î»Î¯ÏƒÏ„Î± Ï€ÏŒÎ»ÎµÏ‰Î½, Ï„Î· ÏƒÏ…Î¼Ï€Î»Î·ÏÏÎ½Î¿Ï…Î¼Îµ
        if (document.getElementById('quick-city').options.length <= 1) {
            fillQuickCityDropdown();
        }
    } else {
        alert('âš ï¸ Î— Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î³ÏÎ®Î³Î¿ÏÎ·Ï‚ ÎµÏ€Î¹Î»Î¿Î³Î®Ï‚ Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î· Î±Ï…Ï„Î® Ï„Î· ÏƒÏ„Î¹Î³Î¼Î®.');
    }
}
function filterDestinations(){
  const distance = document.getElementById("distance").value;
  const weather = document.getElementById("weather").value;
  const themeparks = document.getElementById("themeparks").value;
  const christmas = document.getElementById("christmas").value;
  const vacationType = document.getElementById("vacation-type").value;
  const costLevel = document.getElementById("cost-level").value;
 
  const suitabilityFilters = [];
  document.querySelectorAll('#suitability-options input[type="checkbox"]:checked').forEach(cb => {
    suitabilityFilters.push(cb.value);
  });

  const budget = document.getElementById("travel-budget").value;
  if (budget) {
    selectedBudget = parseInt(budget);
  }

  const filtered = destinations.filter(dest=>{
    let ok=true;
   
    if(distance && distance!==""){
      if(distance==="5") ok = ok && (dest.dist>4);
      else ok = ok && (dest.dist <= parseInt(distance));
    }
    if(weather && weather!=="") ok = ok && (dest.weather===weather);
    if(themeparks && themeparks!=="") ok = ok && (themeparks==="ÎÎ±Î¹"?dest.themeparks==="ÎÎ±Î¹":true);
    if(christmas && christmas!=="") ok = ok && (christmas==="ÎÎ±Î¹"?dest.christmas==="ÎÎ±Î¹":true);
   
    if(vacationType && vacationType!=="") ok = ok && (dest.vacationType && dest.vacationType.includes(vacationType));
    if(costLevel && costLevel!=="") ok = ok && (dest.costLevel===costLevel);
   
    if(suitabilityFilters.length > 0){
      ok = ok && suitabilityFilters.some(filter => dest.suitableFor && dest.suitableFor.includes(filter));
    }
   
    return ok;
  });

  const container = document.getElementById("destination-cards");
  container.innerHTML="";
  if(filtered.length===0) {
    container.innerHTML="<p>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Î¯ Î¼Îµ Î±Ï…Ï„Î¬ Ï„Î± ÎºÏÎ¹Ï„Î®ÏÎ¹Î±.</p>";
    return;
  }
 
  filtered.forEach(dest=>{
    const card = document.createElement("div");
    card.className="destination-card";
    card.innerHTML=`<h3>${dest.name}</h3><p>${dest.desc}</p><button onclick="selectDestination('${dest.name}')">Î£Î¥ÎÎ•Î§Î•Î™Î‘ Î£Î¤ÎŸ Î’Î—ÎœÎ‘ 2</button>`;
    container.appendChild(card);
  });
}

function selectDestination(name) {
    selectedDestinationName = name;
    updateCityBackground(name);
    goToStep2();
}

// ** 3. Î’Î—ÎœÎ‘ 2, 3 & 5 - Î›ÎŸÎ“Î™ÎšÎ— Î Î›ÎŸÎ—Î“Î—Î£Î—Î£ & ÎÎ•ÎÎŸÎ”ÎŸÎ§Î•Î™Î©Î **
function goToStep2(){
  activateStep('step-flight');
}

function goToStep3(){
  activateStep('step-hotel');
  document.getElementById("hotel-destination").value = selectedDestinationName;
}

function searchHotels() {
  const expediaLink = 'https://www.tkqlhce.com/click-101567631-13853200';
  window.open(expediaLink, '_blank');
  const img = document.createElement('img');
  img.src = 'https://www.lduhtrp.net/image-101567631-13853200';
  img.width = 1; img.height = 1; img.border = 0;
  document.body.appendChild(img);
}

async function goToStep4() {
    activateStep('step-activities');
    
        
    const step4Section = document.getElementById("step-activities");
    const activityContainer = document.getElementById("activities-container");
    const overallTotalDiv = document.getElementById("overall-total");
    const step5BtnContainer = step4Section.querySelector('.step-5-btn-container');

    let currentActivities = null;
    let activityTitle = "";
    
    // 1. Î Î‘Î›Î™Î•Î£ Î ÎŸÎ›Î•Î™Î£ (built-in) - ÎŸÎ™ Î™Î”Î™Î•Î£
    if(selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·")){
        currentActivities = activities;
        activityTitle = "ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ ÏƒÏ„Î· Î’Î¹Î­Î½Î½Î·";
    } else if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")){
        currentActivities = activitiesBerlin;
        activityTitle = "ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ ÏƒÏ„Î¿ Î’ÎµÏÎ¿Î»Î¯Î½Î¿";
    } else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")){
        currentActivities = activitiesLisbon;
        activityTitle = "ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ ÏƒÏ„Î· Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±";
    } else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")){
        currentActivities = activitiesBudapest;
        activityTitle = "ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ ÏƒÏ„Î· Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·";
    } else if (selectedDestinationName.includes("ÎœÎ±Î´ÏÎ¯Ï„Î·")){
        currentActivities = activitiesMadrid;
        activityTitle = "ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ ÏƒÏ„Î· ÎœÎ±Î´ÏÎ¯Ï„Î·";
    }
    
    // 2. ÎÎ•ÎŸ Î£Î¥Î£Î¤Î—ÎœÎ‘: ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î³Î¹Î± Î•ÎÎ©Î¤Î•Î¡Î™ÎšÎ•Î£ Î ÎŸÎ›Î•Î™Î£
    if (!currentActivities && window.TravelPlannerExtensions) {
        console.log(`ğŸ” ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î³Î¹Î± ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ® Ï€ÏŒÎ»Î·: ${selectedDestinationName}`);
        
        try {
            const extraCityData = await TravelPlannerExtensions.checkAndLoadExtraCity(selectedDestinationName);
            
            if (extraCityData && extraCityData.activities && extraCityData.activities.length > 0) {
                currentActivities = extraCityData.activities;
                activityTitle = `ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÎ­Ï‚ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ ÏƒÏ„Î·Î½ ${selectedDestinationName}`;
                console.log(`âœ… Î’ÏÎ­Î¸Î·ÎºÎ±Î½ ${currentActivities.length} Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±Ï€ÏŒ ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÏŒ Î±ÏÏ‡ÎµÎ¯Î¿`);
                 // ğŸ‘‡ Î‘Î¥Î¤Î— Î— Î“Î¡Î‘ÎœÎœÎ— Î Î¡ÎŸÎ£Î˜Î•Î¤Î•Î™
    window.loadedExtraCityActivities = extraCityData.activities;
    console.log("ğŸ’¾ Î‘Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎ±Î½ ÏƒÏ„Î· window.loadedExtraCityActivities");
            }
        } catch (error) {
            console.error("âŒ Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚ ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ®Ï‚ Ï€ÏŒÎ»Î·Ï‚:", error);
        }
    }
    
    // 3. Î•Î‘Î Î’Î¡Î•Î˜ÎŸÎ¥Î Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£
    if(currentActivities && currentActivities.length > 0){
        // Î•Ï€Î±Î½Î¬Î»Î·ÏˆÎ· Ï„Ï‰Î½ activity cards
        createActivityCards(currentActivities);
        
        step4Section.querySelector('h1').innerText = activityTitle;
        activityContainer.style.display = 'grid';
        overallTotalDiv.style.display = 'block';
        step5BtnContainer.style.display = 'block';
        
        // Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î¼Îµ Ï„Î± Î½Î­Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î±
        calculateAllCosts(currentActivities);
        
    } else {
        // 4. Î•Î‘Î Î”Î•Î Î’Î¡Î•Î˜ÎŸÎ¥Î Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£
        step4Section.querySelector('h1').innerText = `Î’Î®Î¼Î± 4: Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚: ${selectedDestinationName || 'Î§Ï‰ÏÎ¯Ï‚ Î•Ï€Î¹Î»Î¿Î³Î®'}`;
        activityContainer.style.display = 'block';
        overallTotalDiv.style.display = 'none';
        step5BtnContainer.style.display = 'none';
        activityContainer.innerHTML = `
            <div style="text-align:center; font-size:1.5em; color:#ff6b6b; padding:40px; border:2px dashed #ff6b6b; border-radius:15px; background: #fff; margin:20px;">
                <h3>ğŸ—ï¸ Î¥Î ÎŸ ÎšÎ‘Î¤Î‘Î£ÎšÎ•Î¥Î—</h3>
                <p>ÎŸÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î³Î¹Î± Ï„Î·Î½ Ï€ÏŒÎ»Î· <strong>${selectedDestinationName}</strong> Ï€ÏÎ¿ÏƒÏ„Î¯Î¸ÎµÎ½Ï„Î±Î¹ ÏƒÏÎ½Ï„Î¿Î¼Î±!</p>
                <p>ğŸ’¡ ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î±:</p>
                <ul style="text-align:left; display:inline-block; margin:15px 0;">
                    <li>Î•Ï€Î¹ÏƒÏ„ÏÎ­ÏˆÎµÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 1 ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Î¬Î»Î»Î· Ï€ÏŒÎ»Î·</li>
                    <li>Î‰ Î½Î± Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÏ„Îµ Î³Î¹Î± Ï„Î·Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î· ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·</li>
                </ul>
                <button onclick="activateStep('step-destination')" style="padding:12px 24px; background:#3eb489; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px; margin-top:15px;">
                    â†©ï¸ Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 1
                </button>
            </div>
        `;
    }
    
    saveToLocalStorage();
}
function goToStep5(){
    // Î ÏÎ¿Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Leaflet Î³Î¹Î± Î³ÏÎ·Î³Î¿ÏÏŒÏ„ÎµÏÎ¿ Ï‡Î¬ÏÏ„Î·
    preloadLeaflet();
   
    // Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—: Î”Î¹Î±Î²Î¬Î¶Î¿Ï…Î¼Îµ Ï€Î¬Î½Ï„Î± Ï„Î¹Ï‚ Î·Î¼Î­ÏÎµÏ‚ Î±Ï€ÏŒ Ï„Î¿ dropdown
    const daysSelect = document.getElementById("days-stay");
    selectedDaysStay = daysSelect.value ? parseInt(daysSelect.value) : 0;
   
    activateStep('step-summary');
    const summaryDiv = document.getElementById('summary-content');
   
    if (!selectedDestinationName) {
        summaryDiv.innerHTML = `
            <h3>âš ï¸ Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒ Î±ÎºÏŒÎ¼Î±</h3>
            <p>Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹ÏƒÏ„ÏÎ­ÏˆÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 1 Î³Î¹Î± Î½Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒ.</p>
            <button onclick="activateStep('step-destination')" style="padding: 10px 20px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 1
            </button>
        `;
        return;
    }
   
    const selectedActivities = getSelectedActivities();
   
    const daysText = selectedDaysStay > 0 ? `${selectedDaysStay} Î¼Î­ÏÎµÏ‚` : "Î¼Î· Î¿ÏÎ¹ÏƒÎ¼Î­Î½ÎµÏ‚ Î¼Î­ÏÎµÏ‚";
   
    if (selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·")) {
        if (selectedActivities.length > 0) {
            const dailyProgram = createSmartDailyProgram(selectedActivities, selectedDaysStay || 1);
            const distancesInfo = calculateDistances(selectedActivities);
           
            summaryDiv.innerHTML = `
                <h3>âœ… Î¤Î¿ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ±Ï‚ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± ${daysText} ÏƒÏ„Î· Î’Î¹Î­Î½Î½Î·!</h3>
                <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; border: 2px solid #3eb489; margin: 15px 0;">
                    <strong>ğŸ“… Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</strong>
                    ${dailyProgram}
                </div>
                ${distancesInfo}
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; border: 1px solid #ffeaa7; margin: 15px 0;">
                    <strong>ÎŸÎ¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÏƒÎ±Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (${selectedActivities.length}):</strong>
                    <ul>
                        ${selectedActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
            `;
        } else {
            summaryDiv.innerHTML = `
                <h3>ğŸ›ï¸ Î’Î¹Î­Î½Î½Î· - Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ${daysText}</h3>
                <p>Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±ÎºÏŒÎ¼Î±. Î•Ï€Î¹ÏƒÏ„ÏÎ­ÏˆÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 4 ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚!</p>
                <button onclick="activateStep('step-activities')" style="padding: 10px 20px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                    Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 4
                </button>
            `;
        }
        summaryDiv.style.border = '2px dashed #3eb489';
        summaryDiv.style.background = '#e0fff0';
       
    } else if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) {
        if (selectedActivities.length > 0) {
            const dailyProgram = createBerlinSmartProgram(selectedActivities, selectedDaysStay || 1);
            const distancesInfo = calculateDistances(selectedActivities);
           
            summaryDiv.innerHTML = `
                <h3>âœ… Î¤Î¿ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ±Ï‚ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± ${daysText} ÏƒÏ„Î¿ Î’ÎµÏÎ¿Î»Î¯Î½Î¿!</h3>
                <div style="background: #e8f4f8; padding: 15px; border-radius: 10px; border: 2px solid #4c7af0; margin: 15px 0;">
                    <strong>ğŸ“… Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</strong>
                    ${dailyProgram}
                </div>
                ${distancesInfo}
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; border: 1px solid #ffeaa7; margin: 15px 0;">
                    <strong>ÎŸÎ¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÏƒÎ±Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (${selectedActivities.length}):</strong>
                    <ul>
                        ${selectedActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
            `;
        } else {
            summaryDiv.innerHTML = `
                <h3>ğŸ™ï¸ Î’ÎµÏÎ¿Î»Î¯Î½Î¿ - Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ${daysText}</h3>
                <p>Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±ÎºÏŒÎ¼Î±. Î•Ï€Î¹ÏƒÏ„ÏÎ­ÏˆÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 4 ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚!</p>
                <p style="color: red; font-size: 0.9em;">ğŸ’¡ Î’ÎµÎ²Î±Î¹Ï‰Î¸ÎµÎ¯Ï„Îµ ÏŒÏ„Î¹ Î­Ï‡ÎµÏ„Îµ ÎºÎ»Î¹ÎºÎ¬ÏÎµÎ¹ ÏƒÏ„Î¹Ï‚ ÎºÎ¬ÏÏ„ÎµÏ‚ Ï„Ï‰Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½ Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ (Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î³Î¯Î½Î¿Ï…Î½ ÎºÎ¯Ï„ÏÎ¹Î½ÎµÏ‚ Î¼Îµ Î±ÏƒÏ„Î­ÏÎ¹ â­)</p>
                <button onclick="activateStep('step-activities')" style="padding: 10px 20px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                    Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 4
                </button>
            `;
        }
        summaryDiv.style.border = '2px dashed #4c7af0';
        summaryDiv.style.background = '#f0f8ff';
    } else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) {
        if (selectedActivities.length > 0) {
            const dailyProgram = createLisbonSmartProgram(selectedActivities, selectedDaysStay || 1);
            const distancesInfo = calculateDistances(selectedActivities);
           
            summaryDiv.innerHTML = `
                <h3>âœ… Î¤Î¿ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ±Ï‚ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± ${daysText} ÏƒÏ„Î· Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±!</h3>
                <div style="background: #ffeaea; padding: 15px; border-radius: 10px; border: 2px solid #ff6b6b; margin: 15px 0;">
                    <strong>ğŸ“… Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</strong>
                    ${dailyProgram}
                </div>
                ${distancesInfo}
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; border: 1px solid #ffeaa7; margin: 15px 0;">
                    <strong>ÎŸÎ¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÏƒÎ±Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (${selectedActivities.length}):</strong>
                    <ul>
                        ${selectedActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
            `;
        } else {
            summaryDiv.innerHTML = `
                <h3>ğŸŒŠ Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î± - Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ${daysText}</h3>
                <p>Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±ÎºÏŒÎ¼Î±. Î•Ï€Î¹ÏƒÏ„ÏÎ­ÏˆÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 4 ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚!</p>
                <p style="color: red; font-size: 0.9em;">ğŸ’¡ Î’ÎµÎ²Î±Î¹Ï‰Î¸ÎµÎ¯Ï„Îµ ÏŒÏ„Î¹ Î­Ï‡ÎµÏ„Îµ ÎºÎ»Î¹ÎºÎ¬ÏÎµÎ¹ ÏƒÏ„Î¹Ï‚ ÎºÎ¬ÏÏ„ÎµÏ‚ Ï„Ï‰Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½ Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ</p>
                <button onclick="activateStep('step-activities')" style="padding: 10px 20px; background: #ff6b6b; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                    Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 4
                </button>
            `;
        }
        summaryDiv.style.border = '2px dashed #ff6b6b';
        summaryDiv.style.background = '#fff5f5';
    } else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) {
        if (selectedActivities.length > 0) {
            const dailyProgram = createBudapestSmartProgram(selectedActivities, selectedDaysStay || 1);
            const distancesInfo = calculateDistances(selectedActivities);
           
            summaryDiv.innerHTML = `
                <h3>âœ… Î¤Î¿ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ±Ï‚ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± ${daysText} ÏƒÏ„Î· Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·!</h3>
                <div style="background: #fff0e6; padding: 15px; border-radius: 10px; border: 2px solid #ff9933; margin: 15px 0;">
                    <strong>ğŸ“… Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</strong>
                    ${dailyProgram}
                </div>
                ${distancesInfo}
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; border: 1px solid #ffeaa7; margin: 15px 0;">
                    <strong>ÎŸÎ¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÏƒÎ±Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (${selectedActivities.length}):</strong>
                    <ul>
                        ${selectedActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
            `;
        } else {
            summaryDiv.innerHTML = `
                <h3>ğŸ° Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î· - Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ${daysText}</h3>
                <p>Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±ÎºÏŒÎ¼Î±. Î•Ï€Î¹ÏƒÏ„ÏÎ­ÏˆÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 4 ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚!</p>
                <button onclick="activateStep('step-activities')" style="padding: 10px 20px; background: #ff9933; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                    Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 4
                </button>
            `;
        }
        summaryDiv.style.border = '2px dashed #ff9933';
        summaryDiv.style.background = '#fff5e6';
   
    } else if (selectedDestinationName.includes("ÎœÎ±Î´ÏÎ¯Ï„Î·")) {
        if (selectedActivities.length > 0) {
            const dailyProgram = createDailyProgram(selectedActivities, selectedDaysStay || 1);
            const distancesInfo = calculateDistances(selectedActivities);
           
            summaryDiv.innerHTML = `
                <h3>âœ… Î¤Î¿ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ±Ï‚ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± ${daysText} ÏƒÏ„Î· ÎœÎ±Î´ÏÎ¯Ï„Î·!</h3>
                <div style="background: #e8f0f8; padding: 15px; border-radius: 10px; border: 2px solid #ff6b35; margin: 15px 0;">
                    <strong>ğŸ“… Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</strong>
                    ${dailyProgram}
                </div>
                ${distancesInfo}
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; border: 1px solid #ffeaa7; margin: 15px 0;">
                    <strong>ÎŸÎ¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÏƒÎ±Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (${selectedActivities.length}):</strong>
                    <ul>
                        ${selectedActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
            `;
        } else {
            summaryDiv.innerHTML = `
                <h3>ğŸŒ ÎœÎ±Î´ÏÎ¯Ï„Î· - Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ${daysText}</h3>
                <p>Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±ÎºÏŒÎ¼Î±. Î•Ï€Î¹ÏƒÏ„ÏÎ­ÏˆÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 4 ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚!</p>
                <button onclick="activateStep('step-activities')" style="padding: 10px 20px; background: #ff6b35; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                    Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 4
                </button>
            `;
        }
        summaryDiv.style.border = '2px dashed #ff6b35';
        summaryDiv.style.background = '#fff5e6';
   
    } else {
        // Î“Î¹Î± ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ Î¬Î»Î»Î¿Ï…Ï‚ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿ÏÏ‚
        const daysTextLocal = selectedDaysStay > 0 ? `${selectedDaysStay} Î¼Î­ÏÎµÏ‚` : "Î¼Î· Î¿ÏÎ¹ÏƒÎ¼Î­Î½ÎµÏ‚ Î¼Î­ÏÎµÏ‚";
        
        if (selectedActivities.length > 0) {
            const dailyProgram = createDailyProgram(selectedActivities, selectedDaysStay || 1);
            const distancesInfo = calculateDistances(selectedActivities);
            
            summaryDiv.innerHTML = `
                <h3>âœ… Î¤Î¿ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ±Ï‚ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± ${daysTextLocal} ÏƒÏ„Î·Î½ ${selectedDestinationName}!</h3>
                <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; border: 2px solid #3eb489; margin: 15px 0;">
                    <strong>ğŸ“… Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î”Î¹Î±ÎºÎ¿Ï€ÏÎ½:</strong>
                    ${dailyProgram}
                </div>
                ${distancesInfo}
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; border: 1px solid #ffeaa7; margin: 15px 0;">
                    <strong>ÎŸÎ¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÏƒÎ±Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (${selectedActivities.length}):</strong>
                    <ul>
                        ${selectedActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
            `;
            summaryDiv.style.border = '2px dashed #3eb489';
            summaryDiv.style.background = '#e0fff0';
        } else {
            summaryDiv.innerHTML = `
                <h3>ğŸ™ï¸ ${selectedDestinationName} - Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ${daysTextLocal}</h3>
                <p>Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±ÎºÏŒÎ¼Î±. Î•Ï€Î¹ÏƒÏ„ÏÎ­ÏˆÏ„Îµ ÏƒÏ„Î¿ Î’Î®Î¼Î± 4 ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚!</p>
                <button onclick="activateStep('step-activities')" style="padding: 10px 20px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                    Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î’Î®Î¼Î± 4
                </button>
            `;
            summaryDiv.style.border = '2px dashed #3eb489';
            summaryDiv.style.background = '#e0fff0';
        }
    }
}
function activateStep(targetId) {
    const steps = document.querySelectorAll('.step');
    const sections = document.querySelectorAll('.section');
    steps.forEach(s => s.classList.remove('active'));
    sections.forEach(sec => sec.classList.remove('active'));
   
    document.querySelector(`[data-target="${targetId}"]`).classList.add('active');
    document.getElementById(targetId).classList.add('active');
}

// ** 4. Î’Î—ÎœÎ‘ 4 - Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î§ **
function createActivityCards(activityList) {
  const containerActivities = document.getElementById('activities-container');
  containerActivities.innerHTML = "";
 
  const emojiMap = {
    "Palace": "ğŸ°", "Zoo": "ğŸ¯", "Museum": "ğŸ›ï¸", "Aquarium": "ğŸ ",
    "Park": "ğŸŒ³", "Castle": "ğŸ¯", "Science": "ğŸ”¬", "Music": "ğŸµ",
    "Tower": "ğŸ—¼", "Theme": "ğŸ¡", "History": "ğŸ“œ", "Art": "ğŸ¨",
    "Nature": "ğŸŒ¿", "Adventure": "ğŸ§—", "Cruise": "ğŸš¢", "Garden": "ğŸŒ¸",
    "Schonbrunn": "ğŸ°", "Prater": "ğŸ¡", "Opera": "ğŸ­", "Danube": "ğŸŒ‰",
    "Illuseum": "ğŸ­", "Technikmuseum": "âš™ï¸", "Naturkunde": "ğŸ¦•",
    "LEGOLAND": "ğŸ§±", "Tussauds": "ğŸ‘‘", "Fernsehturm": "ğŸ—¼",
    "OceanÃ¡rio": "ğŸ ", "PavilhÃ£o": "ğŸ”­", "BelÃ©m": "ğŸ°", "Mosteiro": "â›ª",
    "Parliament": "ğŸ›ï¸", "Thermal": "â™¨ï¸", "Eye": "ğŸ¡", "Margaret": "ğŸï¸"
  };
 
  activityList.forEach((act, index) => {
    // Î’ÏÎ¯ÏƒÎºÎ¿Ï…Î¼Îµ ÎºÎ±Ï„Î¬Î»Î»Î·Î»Î¿ emoji Î±Ï€ÏŒ Ï„Î¿ ÏŒÎ½Î¿Î¼Î±
    let emoji = "ğŸ“";
    for (const [key, value] of Object.entries(emojiMap)) {
      if (act.name.includes(key)) {
        emoji = value;
        break;
      }
    }
   
    const card = document.createElement('div');
    card.className = "activity-card";
    card.id = `activity-${index}`;
    card.innerHTML = `
      <span class="emoji-icon">${emoji}</span>
      <span class="star">â­</span>
      <div class="activity-info">
        <h3>${act.name}</h3>
        <p>${act.desc}</p>
        ${act.website ? `<a href="${act.website}" target="_blank" style="color: #3eb489; font-weight: bold; text-decoration: none; display: inline-block; margin-top: 10px;">ğŸ”— Î”ÎµÎ¯Ï„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ±</a>` : ''}
        ${act.ageWarning ? `<div style="background: #fff3cd; padding: 5px; border-radius: 6px; margin: 5px 0; font-size: 0.9em; color: #856404;">âš ï¸ ${act.ageWarning}</div>` : ''}
        ${act.priceNote ? `<div style="background: #d1ecf1; padding: 5px; border-radius: 6px; margin: 5px 0; font-size: 0.9em; color: #0c5460;">â„¹ï¸ ${act.priceNote}</div>` : ''}
        <table class="activity-table">
          <tr><th>0-2</th><th>3-5</th><th>6-14</th><th>15-19</th><th>18+</th></tr>
          <tr>
            <td>${typeof act.prices["0-2"] === 'number' ? act.prices["0-2"] + 'â‚¬' : act.prices["0-2"]}</td>
            <td>${typeof act.prices["3-5"] === 'number' ? act.prices["3-5"] + 'â‚¬' : act.prices["3-5"]}</td>
            <td>${typeof act.prices["6-14"] === 'number' ? act.prices["6-14"] + 'â‚¬' : act.prices["6-14"]}</td>
            <td>${typeof act.prices["15-19"] === 'number' ? act.prices["15-19"] + 'â‚¬' : act.prices["15-19"]}</td>
            <td>${typeof act.prices["18+"] === 'number' ? act.prices["18+"] + 'â‚¬' : act.prices["18+"]}</td>
          </tr>
        </table>
        <div class="total" id="total-${index}">ÎšÏŒÏƒÏ„Î¿Ï‚: 0 â‚¬</div>
      </div>
    `;
   
    card.addEventListener('click', ()=> {
    card.classList.toggle('selected');
    activityList[index].selected = !activityList[index].selected;
   
    const listToPass = selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·") ? activities :
                      selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿") ? activitiesBerlin :
                      selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±") ? activitiesLisbon :
                      selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·") ? activitiesBudapest :
                      selectedDestinationName.includes("ÎœÎ±Î´ÏÎ¯Ï„Î·") ? activitiesMadrid : // Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—
                      activities;
    calculateAllCosts(listToPass);
   
    saveToLocalStorage();
});
    containerActivities.appendChild(card);
  });
}

// ==================== Î¤Î¡ÎŸÎ ÎŸÎ ÎŸÎ™Î—ÎœÎ•ÎÎ— Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î— calculateAllCosts ====================
function calculateAllCosts(activityList = null) {
            if (!activityList) {
        activityList = selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·") ? activities :
                      selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿") ? activitiesBerlin :
                      selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±") ? activitiesLisbon :
                      selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·") ? activitiesBudapest :
                      selectedDestinationName.includes("ÎœÎ±Î´ÏÎ¯Ï„Î·") ? activitiesMadrid :
                      (selectedDestinationName.includes("Î ÏÎ¬Î³Î±") || selectedDestinationName.includes("Î Î±ÏÎ¯ÏƒÎ¹")) ? 
                      (window.loadedExtraCityActivities || []) : // ğŸ‘ˆ Î“Î™Î‘ JSON Î ÎŸÎ›Î•Î™Î£
                      [];
    }
   
    // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï„Ï‰Î½ familyMembers Ï€ÏÎ¹Î½ Ï„Î¿Î½ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒ
    updateFamilyMembers();
   
    let overallTotal = 0;
   
    activityList.forEach((act, index) => {
        const cardElement = document.getElementById(`activity-${index}`);
        const isSelected = cardElement ? cardElement.classList.contains('selected') : false;
       
        act.selected = isSelected;

        if(isSelected){
            let total = 0;
           
            // ÎÎ•ÎŸÎ£ Î¥Î ÎŸÎ›ÎŸÎ“Î™Î£ÎœÎŸÎ£ Î¼Îµ Î±ÎºÏÎ¹Î²ÎµÎ¯Ï‚ Î·Î»Î¹ÎºÎ¯ÎµÏ‚
            familyMembers.forEach(member => {
                let price = 0;
               
                if (member.age <= 2) {
                    price = 0; // Î”Ï‰ÏÎµÎ¬Î½ Î³Î¹Î± 0-2 ÎµÏ„ÏÎ½
                } else if (member.age <= 5) {
                    price = act.prices["3-5"] || 0; // Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ Ï„Î· ÏƒÏ„Î®Î»Î· "3-5"
                } else if (member.age <= 17) {
                    // Î“Î¹Î± Î’Î¹Î­Î½Î½Î·: 6-17 ÎµÏ„ÏÎ½, Î³Î¹Î± Î¬Î»Î»ÎµÏ‚ Ï€ÏŒÎ»ÎµÎ¹Ï‚: 6-14 Î® 15-19
                    if (selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·")) {
                        price = act.prices["6-14"] || act.prices["15-19"] || 0;
                    } else {
                        // Î“Î¹Î± Î¬Î»Î»ÎµÏ‚ Ï€ÏŒÎ»ÎµÎ¹Ï‚, Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ Ï„Î·Î½ ÎºÎ±Ï„Î¬Î»Î»Î·Î»Î· ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±
                        if (member.age <= 14) {
                            price = act.prices["6-14"] || 0;
                        } else if (member.age <= 19) {
                            price = act.prices["15-19"] || 0;
                        } else {
                            price = act.prices["18+"] || 0;
                        }
                    }
                } else {
                    price = act.prices["18+"] || 0; // Î•Î½Î®Î»Î¹ÎºÎµÏ‚
                }
               
                total += price;
            });
           
            if (document.getElementById(`total-${index}`)) {
                document.getElementById(`total-${index}`).innerText = `ÎšÏŒÏƒÏ„Î¿Ï‚: ${total.toFixed(2)} â‚¬`;
            }
            overallTotal += total;
        } else {
            const totalElement = document.getElementById(`total-${index}`);
            if (totalElement) totalElement.innerText = `ÎšÏŒÏƒÏ„Î¿Ï‚: 0 â‚¬`;
        }
    });
   
    const overallTotalElement = document.getElementById('overall-total');
    if (overallTotalElement) {
        overallTotalElement.innerText = `Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚ Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½Ï‰Î½ Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½: ${overallTotal.toFixed(2)} â‚¬`;
    }

    // Budget Tracker (Ï€Î±ÏÎ±Î¼Î­Î½ÎµÎ¹ Î¯Î´Î¹Î¿)
    if (selectedBudget > 0) {
        const budgetStatus = document.getElementById('budget-status') || document.createElement('div');
        budgetStatus.id = 'budget-status';
        budgetStatus.style.cssText = `
            max-width: 1000px;
            margin: 20px auto;
            padding: 15px;
            border-radius: 16px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        `;
       
        const remaining = selectedBudget - overallTotal;
        if (remaining >= 0) {
            budgetStatus.style.background = '#d4edda';
            budgetStatus.style.color = '#155724';
            budgetStatus.style.border = '2px solid #28a745';
            budgetStatus.innerHTML = `
                ğŸ’° <strong>Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚:</strong> ${selectedBudget}â‚¬ |
                ğŸ“Š <strong>ÎÎ¿Î´ÎµÏÏ„Î·ÎºÎµ:</strong> ${overallTotal.toFixed(2)}â‚¬ |
                âœ… <strong>Î¥Ï€ÏŒÎ»Î¿Î¹Ï€Î¿:</strong> ${remaining.toFixed(2)}â‚¬
            `;
        } else {
            budgetStatus.style.background = '#f8d7da';
            budgetStatus.style.color = '#721c24';
            budgetStatus.style.border = '2px solid #dc3545';
            budgetStatus.innerHTML = `
                ğŸ’° <strong>Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚:</strong> ${selectedBudget}â‚¬ |
                ğŸ“Š <strong>ÎÎ¿Î´ÎµÏÏ„Î·ÎºÎµ:</strong> ${overallTotal.toFixed(2)}â‚¬ |
                âŒ <strong>Î¥Ï€Î­ÏÎ²Î±ÏƒÎ·:</strong> ${Math.abs(remaining).toFixed(2)}â‚¬
            `;
        }
       
        if (!document.getElementById('budget-status')) {
            const activitiesContainer = document.getElementById('activities-container-wrapper');
            activitiesContainer.parentNode.insertBefore(budgetStatus, activitiesContainer);
        }
    }
}

// Î‘Î¡Î§Î™ÎšÎŸÎ ÎŸÎ™Î—Î£Î— & Î Î›ÎŸÎ—Î“Î—Î£Î— SIDEBAR
document.querySelectorAll('.step').forEach(step=>{
  step.addEventListener('click', ()=>{
    const target = step.dataset.target;
    if (target === 'step-activities') {
      goToStep4();
    } else if (target === 'step-summary') {
      goToStep5();
    } else if (target === 'step-map') {
      goToStep6();
    } else {
      activateStep(target);
    }
  });
});

function toggleQuickSelection() {
  const quickSelect = document.getElementById('quick-city-select');
  quickSelect.style.display = quickSelect.style.display === 'none' ? 'block' : 'none';
 
  if (document.getElementById('quick-city').options.length <= 1) {
    fillQuickCityDropdown();
  }
}

function fillQuickCityDropdown() {
    const select = document.getElementById('quick-city');
    select.innerHTML = '<option value="">-- Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï€ÏŒÎ»Î· --</option>';
   
    const sortedDestinations = [...destinations].sort((a, b) => {
        return a.name.localeCompare(b.name, 'el');
    });
   
    sortedDestinations.forEach(dest => {
        const option = document.createElement('option');
        option.value = dest.name;
        option.textContent = dest.name;
        select.appendChild(option);
    });
}

function selectQuickCity() {
  const selectedCity = document.getElementById('quick-city').value;
  const selectedDays = document.getElementById("days-stay").value;
 
  if (selectedCity) {
    selectedDestinationName = selectedCity;
    updateCityBackground(selectedCity);
    selectedDaysStay = selectedDays ? parseInt(selectedDays) : 0;
   
    const budget = document.getElementById("travel-budget").value;
    if (budget) {
        selectedBudget = parseInt(budget);
    }
   
        updateStep1Display();
   
    document.getElementById('quick-city-select').style.display = 'none';
  } else {
    alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î¼Î¹Î± Ï€ÏŒÎ»Î· Î±Ï€ÏŒ Ï„Î· Î»Î¯ÏƒÏ„Î±');
  }
}

function getSelectedActivities() {
    console.log("ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Ï‰Î½ Î³Î¹Î±:", selectedDestinationName);
    
        // 1. Î“Î™Î‘ Î Î‘Î¡Î™Î£Î™ & Î Î¡Î‘Î“Î‘ (Î±Ï€ÏŒ JSON)
    if ((selectedDestinationName.includes("Î Î±ÏÎ¯ÏƒÎ¹") || selectedDestinationName.includes("Î ÏÎ¬Î³Î±")) 
        && window.loadedExtraCityActivities && window.loadedExtraCityActivities.length > 0) {
        console.log("ğŸ” ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î³Î¹Î± Î Î±ÏÎ¯ÏƒÎ¹...");
        const selected = window.loadedExtraCityActivities.filter(act => act.selected === true);
        if (selected.length > 0) {
            console.log("âœ… Î’ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ Î³Î¹Î± Î Î±ÏÎ¯ÏƒÎ¹:", selected.length);
            return selected;
        } else {
            console.log("âš ï¸ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î³Î¹Î± Î Î±ÏÎ¯ÏƒÎ¹");
            return [];
        }
    }
    
    // 2. Î‘Î½ ÏŒÏ‡Î¹, ÏˆÎ¬Ï‡Î½Î¿Ï…Î¼Îµ ÏƒÏ„Î¹Ï‚ Ï€Î±Î»Î¹Î­Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚
    let currentActivities = null;
   
    if (selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·")) {
        currentActivities = activities;
    } else if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) {
        currentActivities = activitiesBerlin;
    } else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) {
        currentActivities = activitiesLisbon;
    } else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) {
        currentActivities = activitiesBudapest;
    } else if (selectedDestinationName.includes("ÎœÎ±Î´ÏÎ¯Ï„Î·")) {
        currentActivities = activitiesMadrid;
    } else {
        console.log("âš ï¸ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î³Î¹Î±:", selectedDestinationName);
        return [];
    }
   
    // Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÎœÎŸÎÎŸ Ï„Ï‰Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½ Ï€Î¿Ï… Î­Ï‡Î¿Ï…Î½ selected: true
    const selected = currentActivities.filter(act => act.selected === true);
    console.log("âœ… Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚:", selected.length, selected);
    return selected;
}

function createDailyProgram(activities, days) {
    let programHTML = '';
   
    const activitiesPerDay = Math.ceil(activities.length / days);
   
    for (let day = 1; day <= days; day++) {
        const startIndex = (day - 1) * activitiesPerDay;
        const endIndex = startIndex + activitiesPerDay;
        const dailyActivities = activities.slice(startIndex, endIndex);
       
        programHTML += `
            <div style="margin: 15px 0; padding: 12px; background: white; border-radius: 8px; border-left: 4px solid #3eb489;">
                <h4 style="margin: 0 0 8px 0; color: #3eb489;">ğŸ“… Î—Î¼Î­ÏÎ± ${day}</h4>
                ${dailyActivities.length > 0 ?
                    `<ul style="margin: 0; padding-left: 20px;">
                        ${dailyActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>` :
                    '<p style="margin: 0; color: #666;">â³ Î§Ï‰ÏÎ¯Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ - Î‘Î½Î±ÏˆÏ…Ï‡Î®!</p>'
                }
            </div>
        `;
    }
   
    return programHTML;
}

function createSmartDailyProgram(activities, days) {
    const activitiesWithCoords = activities.filter(act => act.lat && act.lng);
   
    if (activitiesWithCoords.length === 0) {
        return "<p>ğŸš§ Î“Î¹Î± Î­Î¾Ï…Ï€Î½Î¿ Î³ÎµÏ‰Î³ÏÎ±Ï†Î¹ÎºÏŒ Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒ, Ï‡ÏÎµÎ¹Î±Î¶ÏŒÎ¼Î±ÏƒÏ„Îµ ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚ ÏƒÏ„Î¹Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</p>" +
               createDailyProgram(activities, days);
    }
   
    const clusters = createSmartClusters(activitiesWithCoords, days);
   
    let programHTML = '<p>ğŸ—ºï¸ <strong>ÎˆÎ¾Ï…Ï€Î½Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î¼Îµ Î’Î¬ÏƒÎ· Ï„Î·Î½ Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ· & Î§ÏÏŒÎ½Î¿:</strong></p>';
   
    clusters.forEach((cluster, index) => {
        const morningActivities = cluster.slice(0, Math.ceil(cluster.length / 2));
        const afternoonActivities = cluster.slice(Math.ceil(cluster.length / 2));
       
        programHTML += `
            <div style="margin: 20px 0; padding: 15px; background: white; border-radius: 12px; border-left: 6px solid #ff7f50; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <h4 style="margin: 0 0 12px 0; color: #ff7f50;">ğŸ“ Î—Î¼Î­ÏÎ± ${index + 1} - ÎˆÎ¾Ï…Ï€Î½Î¿ Î Î»Î¬Î½Î¿</h4>
               
                ${morningActivities.length > 0 ? `
                <div style="margin-bottom: 12px;">
                    <h5 style="margin: 0 0 6px 0; color: #3eb489;">ğŸŒ… Î ÏÏ‰Î¹Î½ÏŒ (9:00 - 13:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${morningActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                ${afternoonActivities.length > 0 ? `
                <div style="margin-bottom: 8px;">
                    <h5 style="margin: 0 0 6px 0; color: #4c7af0;">ğŸŒ‡ Î‘Ï€Î¿Î³ÎµÏ…Î¼Î±Ï„Î¹Î½ÏŒ (14:00 - 18:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${afternoonActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                <div style="background: #f8f9fa; padding: 8px; border-radius: 6px; margin-top: 8px;">
                    <p style="margin: 0; font-size: 0.85em; color: #666;">
                        âœ… <strong>Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î”Î¹Î±Î´ÏÎ¿Î¼Î®</strong><br>
                        ğŸš¶ <strong>Î•Î»Î¬Ï‡Î¹ÏƒÏ„ÎµÏ‚ ÎœÎµÏ„Î±ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚</strong><br>
                        â±ï¸ <strong>Î™ÏƒÎ¿ÏÏÎ¿Ï€Î·Î¼Î­Î½Î¿Ï‚ Î§ÏÏŒÎ½Î¿Ï‚</strong>
                    </p>
                </div>
            </div>
        `;
    });
   
    return programHTML;
}

function createSmartClusters(activities, numClusters) {
    if (activities.length <= numClusters) {
        const clusters = [];
        for (let i = 0; i < numClusters; i++) {
            clusters.push(activities[i] ? [activities[i]] : []);
        }
        return clusters.filter(cluster => cluster.length > 0);
    }
   
    const centerLat = activities.reduce((sum, act) => sum + act.lat, 0) / activities.length;
    const centerLng = activities.reduce((sum, act) => sum + act.lng, 0) / activities.length;
   
    const activitiesWithDistance = activities.map(act => {
        const distance = Math.sqrt(
            Math.pow(act.lat - centerLat, 2) + Math.pow(act.lng - centerLng, 2)
        );
        return { ...act, distance };
    });
   
    const sortedByDistance = [...activitiesWithDistance].sort((a, b) => a.distance - b.distance);
   
    const clusterSize = Math.ceil(sortedByDistance.length / numClusters);
    const clusters = [];
   
    for (let i = 0; i < numClusters; i++) {
        const start = i * clusterSize;
        const end = start + clusterSize;
        const cluster = sortedByDistance.slice(start, end).map(act => {
            const { distance, ...activityWithoutDistance } = act;
            return activityWithoutDistance;
        });
       
        if (cluster.length > 0) {
            cluster.sort((a, b) => a.lat - b.lat);
            clusters.push(cluster);
        }
    }
   
    return clusters;
}

function goToStep6() {
    activateStep('step-map');
}

// ** Î’Î•Î›Î¤Î™Î©ÎœÎ•ÎÎ— Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î— Î“Î™Î‘ Î¤ÎŸÎ Î§Î‘Î¡Î¤Î— **
function preloadLeaflet() {
    if (typeof L === 'undefined') {
        // Î¦ÏŒÏÏ„Ï‰ÏƒÎ· CSS Î±Î½ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹
        if (!document.querySelector('link[href*="leaflet"]')) {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';
            document.head.appendChild(link);
        }
       
        // Î¦ÏŒÏÏ„Ï‰ÏƒÎ· script Î±Î½ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹
        if (!document.querySelector('script[src*="leaflet"]')) {
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';
            document.head.appendChild(script);
        }
    }
}

function initializeSmartMap() {
    const selectedActivities = getSelectedActivities();
    const mapContainer = document.getElementById('map-container');
    mapContainer.innerHTML = '<div id="smart-map" style="height: 100%; width: 100%;"></div>';
   
    let mapCenter, mapZoom;
   
    // Î ÏÎ¿ÏƒÎ´Î¹Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ­Î½Ï„ÏÎ¿Ï… Î²Î¬ÏƒÎµÎ¹ Ï€ÏŒÎ»Î·Ï‚
    if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) {
        mapCenter = [52.5200, 13.4050];
        mapZoom = 12;
    } else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) {
        mapCenter = [38.7223, -9.1393];
        mapZoom = 13;
    } else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) {
        mapCenter = [47.4979, 19.0402];
        mapZoom = 13;
    } else {
        // Î ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î® Î³Î¹Î± Î’Î¹Î­Î½Î½Î· Î® Î¬Î»Î»ÎµÏ‚
        mapCenter = [48.2082, 16.3738];
        mapZoom = 13;
    }
   
    // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï‡Î¬ÏÏ„Î·
    const map = L.map('smart-map').setView(mapCenter, mapZoom);
    
    // Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— Î§Î‘Î¡Î¤Î— Î“Î™Î‘ Î Î¡ÎŸÎ£Î’Î‘Î£Î—
    window.currentMap = map;
    
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);
   
    // Î•Î‘Î Î¥Î Î‘Î¡Î§ÎŸÎ¥Î Î•Î Î™Î›Î•Î“ÎœÎ•ÎÎ•Î£ Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£, Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Ï€Î¹Î½ÎµÎ¶ÏÎ½
    if (selectedActivities.length > 0) {
        addActivityMarkers(map, selectedActivities);
    }
   
    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎºÎ¿Ï…Î¼Ï€Î¹Î¿Ï ÎºÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚
    addMapCloseButton(mapContainer, map);
    
    // Î¦ÎŸÎ¡Î¤Î©Î£Î— CUSTOM POINTS
    loadCustomPointsOnMap();
}
   
    const mapContainer = document.getElementById('map-container');
    mapContainer.innerHTML = '<div id="smart-map" style="height: 100%; width: 100%;"></div>';
   
    // Î’Î•Î›Î¤Î™Î£Î¤ÎŸÎ ÎŸÎ™Î—Î£Î—: ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î±Î½ Î¿ Leaflet ÎµÎ¯Î½Î±Î¹ Î®Î´Î· Ï†Î¿ÏÏ„Ï‰Î¼Î­Î½Î¿Ï‚
    if (typeof L === 'undefined') {
        // Î‘Î½ ÎŸÎ§Î™, Ï†Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ ÎºÎ±Î¹ Ï€ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ
        if (!document.querySelector('link[href*="leaflet"]')) {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';
            document.head.appendChild(link);
        }
       
        if (!document.querySelector('script[src*="leaflet"]')) {
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';
            script.onload = () => {
                // ÎœÎ¹ÎºÏÎ® ÎºÎ±Î¸Ï…ÏƒÏ„Î­ÏÎ·ÏƒÎ· Î³Î¹Î± ÏƒÎ¯Î³Î¿Ï…ÏÎ¿ Ï†ÏŒÏÏ„Ï‰Î¼Î±
                setTimeout(() => createSmartMapWithActivities(selectedActivities), 300);
            };
            document.head.appendChild(script);
        } else {
            // Î¤Î¿ script ÎµÎ¯Î½Î±Î¹ Î®Î´Î· Ï†Î¿ÏÏ„Ï‰Î¼Î­Î½Î¿, Î±Ï€Î»Î¬ Ï€ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ
            setTimeout(() => {
                if (typeof L !== 'undefined') {
                    createSmartMapWithActivities(selectedActivities);
                } else {
                    // Î‘Î½ Î±ÎºÏŒÎ¼Î± Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î­Ï„Î¿Î¹Î¼Î¿, Î¾Î±Î½Î±Ï€ÏÎ¿ÏƒÏ€Î±Î¸Î¿ÏÎ¼Îµ
                    setTimeout(() => initializeSmartMap(), 500);
                }
            }, 500);
        }
    } else {
        // ÎŸ Leaflet ÎµÎ¯Î½Î±Î¹ Î‰Î”Î— Ï†Î¿ÏÏ„Ï‰Î¼Î­Î½Î¿Ï‚ - Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ¼Îµ Ï‡Î¬ÏÏ„Î· Î±Î¼Î­ÏƒÏ‰Ï‚
        createSmartMapWithActivities(selectedActivities);
    }

// ÎÎ•Î‘ Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï‡Î¬ÏÏ„Î· Î¼Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ (ÎºÎ¿Î¹Î½Î® Î³Î¹Î± ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Ï€ÏŒÎ»ÎµÎ¹Ï‚)
function createSmartMapWithActivities(activities) {
    const mapContainer = document.getElementById('map-container');
    const mapDiv = document.getElementById('smart-map');
   
    // Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· ÏŒÏ„Î¹ Î¿ Ï‡Î¬ÏÏ„Î·Ï‚ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹
    if (!mapDiv) {
        mapContainer.innerHTML = '<div id="smart-map" style="height: 100%; width: 100%;"></div>';
    }
   
    let mapCenter, mapZoom;
   
    // Î ÏÎ¿ÏƒÎ´Î¹Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ­Î½Ï„ÏÎ¿Ï… Î²Î¬ÏƒÎµÎ¹ Ï€ÏŒÎ»Î·Ï‚
    if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) {
        mapCenter = [52.5200, 13.4050];
        mapZoom = 12;
    } else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) {
        mapCenter = [38.7223, -9.1393];
        mapZoom = 13;
    } else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) {
        mapCenter = [47.4979, 19.0402];
        mapZoom = 13;
    } else {
        // Î ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î® Î³Î¹Î± Î’Î¹Î­Î½Î½Î· Î® Î¬Î»Î»ÎµÏ‚
        mapCenter = [48.2082, 16.3738];
        mapZoom = 13;
    }
   
    // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï‡Î¬ÏÏ„Î·
    const map = L.map('smart-map').setView(mapCenter, mapZoom);
    // Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— Î§Î‘Î¡Î¤Î— Î“Î™Î‘ Î Î¡ÎŸÎ£Î’Î‘Î£Î—
window.currentMap = map;
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);
   
    // Î’Î•Î›Î¤Î™Î£Î¤ÎŸÎ ÎŸÎ™Î—Î£Î—: Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Ï€Î¹Î½ÎµÎ¶ÏÎ½ ÎœÎ• Î‘ÎœÎ•Î£Î‘
    addActivityMarkers(map, activities);
   
    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎºÎ¿Ï…Î¼Ï€Î¹Î¿Ï ÎºÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚
    addMapCloseButton(mapContainer, map);
        // Î¦ÎŸÎ¡Î¤Î©Î£Î— CUSTOM POINTS
    loadCustomPointsOnMap();
}

// ÎÎ•Î‘ Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Ï€Î¹Î½ÎµÎ¶ÏÎ½ ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·
function addActivityMarkers(map, activities) {
    console.log(`Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ${activities.length} Ï€Î¹Î½ÎµÎ¶ÏÎ½ ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·...`);
   
    let selectedMarkers = [];
    let markerColor;
   
    // Î§ÏÏÎ¼Î± Ï€Î¹Î½Î­Î¶Î±Ï‚ Î±Î½Î¬ Ï€ÏŒÎ»Î·
    if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) markerColor = 'blue';
    else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) markerColor = 'red';
    else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) markerColor = 'orange';
    else markerColor = 'green';
   
    activities.forEach((activity, index) => {
        if (activity.lat && activity.lng) {
            // Î’Î•Î›Î¤Î™Î£Î¤ÎŸÎ ÎŸÎ™Î—Î£Î—: Î§ÏÎ®ÏƒÎ· custom icon Î¼Îµ Ï„Î¿ ÏƒÏ‰ÏƒÏ„ÏŒ Ï‡ÏÏÎ¼Î±
            const customIcon = L.icon({
                iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${markerColor}.png`,
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34]
            });
           
            const marker = L.marker([activity.lat, activity.lng], { icon: customIcon }).addTo(map);
           
            // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· popup
            marker.bindPopup(createPopupContent(activity));
           
            // Î›Î¿Î³Î¹ÎºÎ® Î³Î¹Î± ÎµÏ€Î¹Î»Î¿Î³Î® Ï€Î¹Î½ÎµÎ¶ÏÎ½ ÎºÎ±Î¹ Î´Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚
            marker.on('click', function() {
                handleMarkerClick(marker, selectedMarkers, map, activity);
            });
        }
    });
   
    // Î’Î•Î›Î¤Î™Î£Î¤ÎŸÎ ÎŸÎ™Î—Î£Î—: Î•Î¬Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚, fit bounds
    if (activities.length > 0) {
        const latlngs = activities
            .filter(a => a.lat && a.lng)
            .map(a => [a.lat, a.lng]);
       
        if (latlngs.length > 0) {
            const bounds = L.latLngBounds(latlngs);
            map.fitBounds(bounds, { padding: [50, 50], maxZoom: 15 });
        }
    }
}

function createPopupContent(activity) {
    return `
        <div style="max-width: 280px;">
            <h4 style="margin: 0 0 8px 0; color: #3eb489;">${activity.name}</h4>
            <p style="margin: 0 0 8px 0; font-size: 0.9em;">${activity.desc || ''}</p>
            <div style="margin: 6px 0; font-size: 0.9em;"><strong>ğŸ½ï¸ ÎšÎ¿Î½Ï„Î¹Î½ÏŒ Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿:</strong><br>${activity.restaurant || 'Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯Î±'}</div>
            ${activity.website ? `<a href="${activity.website}" target="_blank" style="color: #3eb489; font-weight: bold; text-decoration: none;">ğŸ”— Î”ÎµÎ¯Ï„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ±</a>` : ''}
        </div>
    `;
}

function handleMarkerClick(marker, selectedMarkers, map, activity) {
    const markerIndex = selectedMarkers.indexOf(marker);
    if (markerIndex === -1) {
        selectedMarkers.push(marker);
        // Î‘Î»Î»Î±Î³Î® Ï‡ÏÏÎ¼Î±Ï„Î¿Ï‚ ÏŒÏ„Î±Î½ ÎµÏ€Î¹Î»ÎµÎ³ÎµÎ¯
        marker.setIcon(L.icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
        }));
    } else {
        selectedMarkers.splice(markerIndex, 1);
        // Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ Î±ÏÏ‡Î¹ÎºÏŒ Ï‡ÏÏÎ¼Î±
        let color;
        if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) color = 'blue';
        else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) color = 'red';
        else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) color = 'orange';
        else color = 'green';
       
        marker.setIcon(L.icon({
            iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,
            iconSize: [25, 41],
            iconAnchor: [12, 41],
        }));
    }
   
    if (selectedMarkers.length === 2) {
        showRouteAndDirections(selectedMarkers[0], selectedMarkers[1]);
    } else if (selectedMarkers.length > 2) {
        const oldMarker = selectedMarkers.shift();
        // Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Ï„Î¿Ï… Ï€Î±Î»Î¹Î¿Ï marker ÏƒÏ„Î¿ ÎºÎ±Î½Î¿Î½Î¹ÎºÏŒ Ï‡ÏÏÎ¼Î±
        let color;
        if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) color = 'blue';
        else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) color = 'red';
        else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) color = 'orange';
        else color = 'green';
       
        oldMarker.setIcon(L.icon({
            iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,
            iconSize: [25, 41],
            iconAnchor: [12, 41],
        }));
        showRouteAndDirections(selectedMarkers[0], selectedMarkers[1]);
    } else {
        if (window.polyline) {
            map.removeLayer(window.polyline);
            window.polyline = null;
        }
        const directionsDiv = document.getElementById('route-directions');
        if (directionsDiv) directionsDiv.remove();
    }
}

function addMapCloseButton(mapContainer, map) {
    const closeBtn = document.createElement('button');
    closeBtn.textContent = 'âœ–ï¸ ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Î§Î¬ÏÏ„Î·';
    closeBtn.style.cssText = `
        position: absolute;
        top: 15px;
        right: 15px;
        z-index: 1000;
        padding: 10px 15px;
        background: #e74c3c;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-family: 'Comic Neue', Arial, Helvetica, sans-serif;
        font-weight: bold;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    `;
    closeBtn.onclick = () => {
        mapContainer.innerHTML = `
            <div style="text-align: center; padding: 40px;">
                <p style="font-size: 18px; margin-bottom: 20px;">ÎŸ Ï‡Î¬ÏÏ„Î·Ï‚ Î­ÎºÎ»ÎµÎ¹ÏƒÎµ.</p>
                <button onclick="initializeSmartMap()" style="padding: 12px 25px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
                    ğŸ—ºï¸ ÎÎ±Î½Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Î§Î¬ÏÏ„Î·
                </button>
            </div>
        `;
    };
    mapContainer.appendChild(closeBtn);
}

function calculateDistances(activities) {
    if (activities.length < 2) return '';
   
    let distancesHTML = '<div style="background: #e8f4f8; padding: 15px; border-radius: 10px; margin: 15px 0; border: 2px solid #4c7af0;"><h4>ğŸ—ºï¸ Î‘Ï€Î¿ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ & ÎœÎµÏ„Î±ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚:</h4>';
   
    for (let i = 0; i < activities.length - 1; i++) {
        const fromAct = activities[i];
        const toAct = activities[i + 1];
       
        if (fromAct.lat && fromAct.lng && toAct.lat && toAct.lng) {
            const distance = calculateDistance(fromAct.lat, fromAct.lng, toAct.lat, toAct.lng);
            distancesHTML += `
                <div style="margin: 10px 0; padding: 10px; background: white; border-radius: 8px;">
                    <strong>${fromAct.name}</strong> â†’ <strong>${toAct.name}</strong>
                    <div style="font-size: 0.9em; margin-top: 5px;">
                        ğŸ“ Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ·: <strong>${distance} km</strong><br>
                        ğŸš¶ Î ÎµÏÏ€Î¬Ï„Î·Î¼Î±: ~${Math.round(distance * 15)} Î»ÎµÏ€Ï„Î¬<br>
                        ğŸš— Î‘Ï…Ï„Î¿ÎºÎ¯Î½Î·Ï„Î¿: ~${Math.round(distance * 3)} Î»ÎµÏ€Ï„Î¬<br>
                        ğŸš‡ ÎœÎœÎœ: ~${Math.round(distance * 5)} Î»ÎµÏ€Ï„Î¬
                    </div>
                    <a href="https://www.google.com/maps/dir/${fromAct.lat},${fromAct.lng}/${toAct.lat},${toAct.lng}" target="_blank" style="color: #4c7af0; font-size: 0.9em;">ğŸ“± Î†Î½Î¿Î¹Î³Î¼Î± Google Maps</a>
                </div>
            `;
        }
    }
   
    distancesHTML += '</div>';
    return distancesHTML;
}

function calculateDistance(lat1, lon1, lat2, lon2) {
    const R = 6371;
    const dLat = (lat2 - lat1) * Math.PI / 180;
    const dLon = (lon2 - lon1) * Math.PI / 180;
    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
        Math.sin(dLon/2) * Math.sin(dLon/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    const distance = R * c;
    return distance.toFixed(1);
}

function showRouteAndDirections(marker1, marker2) {
    const map = marker1._map;
    const latlngs = [marker1.getLatLng(), marker2.getLatLng()];
   
    if (window.polyline) {
        map.removeLayer(window.polyline);
    }
   
    window.polyline = L.polyline(latlngs, {color: 'red', weight: 5}).addTo(map);
   
    const distance = map.distance(latlngs[0], latlngs[1]) / 1000;
   
    const directionsDiv = document.createElement('div');
    directionsDiv.id = 'route-directions';
    directionsDiv.style.cssText = `
        position: absolute;
        top: 10px;
        left: 10px;
        background: white;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        z-index: 1000;
        max-width: 300px;
        border: 2px solid #3eb489;
    `;
   
    directionsDiv.innerHTML = `
        <h4 style="margin: 0 0 10px 0; color: #3eb489;">ğŸ—ºï¸ ÎŸÎ´Î·Î³Î¯ÎµÏ‚ ÎœÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ·Ï‚</h4>
        <p style="margin: 5px 0;"><strong>ğŸ“ Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ·:</strong> ${distance.toFixed(1)} km</p>
        <p style="margin: 5px 0;"><strong>ğŸš¶ Î ÎµÏÏ€Î¬Ï„Î·Î¼Î±:</strong> ~${Math.round(distance * 15)} Î»ÎµÏ€Ï„Î¬</p>
        <p style="margin: 5px 0;"><strong>ğŸš— Î‘Ï…Ï„Î¿ÎºÎ¯Î½Î·Ï„Î¿:</strong> ~${Math.round(distance * 3)} Î»ÎµÏ€Ï„Î¬</p>
        <p style="margin: 5px 0;"><strong>ğŸš‡ ÎœÎœÎœ:</strong> ~${Math.round(distance * 5)} Î»ÎµÏ€Ï„Î¬</p>
        <div style="margin-top: 10px;">
            <a href="https://www.google.com/maps/dir/${latlngs[0].lat},${latlngs[0].lng}/${latlngs[1].lat},${latlngs[1].lng}"
               target="_blank" style="color: #4c7af0; text-decoration: none; font-weight: bold;">
               ğŸ“± Î†Î½Î¿Î¹Î³Î¼Î± Google Maps
            </a>
        </div>
        <button onclick="this.parentElement.remove(); if(window.polyline) map.removeLayer(window.polyline);"
                style="margin-top: 10px; padding: 5px 10px; background: #e74c3c; color: white; border: none; border-radius: 5px; cursor: pointer;">
                âœ–ï¸ ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿
        </button>
    `;
   
    const oldDirections = document.getElementById('route-directions');
    if (oldDirections) oldDirections.remove();
   
    map.getContainer().appendChild(directionsDiv);
}

function isMobile() {
    return window.innerWidth <= 640;
}

function checkMobileView() {
    const mobileNav = document.querySelector('.mobile-nav');
    const sidebar = document.querySelector('.sidebar');
   
    if (isMobile()) {
        if (mobileNav) mobileNav.style.display = 'block';
        if (sidebar) sidebar.style.display = 'none';
    } else {
        if (mobileNav) mobileNav.style.display = 'none';
        if (sidebar) sidebar.style.display = 'block';
    }
}

window.addEventListener('resize', checkMobileView);
window.addEventListener('load', checkMobileView);

function createBerlinSmartProgram(activities, days) {
    const activitiesWithCoords = activities.filter(act => act.lat && act.lng);
   
    if (activitiesWithCoords.length === 0) {
        return "<p>ğŸš§ Î“Î¹Î± Î­Î¾Ï…Ï€Î½Î¿ Î³ÎµÏ‰Î³ÏÎ±Ï†Î¹ÎºÏŒ Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒ, Ï‡ÏÎµÎ¹Î±Î¶ÏŒÎ¼Î±ÏƒÏ„Îµ ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚ ÏƒÏ„Î¹Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</p>" +
               createDailyProgram(activities, days);
    }
   
    const clusters = createSmartClusters(activitiesWithCoords, days);
   
    let programHTML = '<p>ğŸ—ºï¸ <strong>ÎˆÎ¾Ï…Ï€Î½Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± Î’ÎµÏÎ¿Î»Î¯Î½Î¿:</strong></p>';
   
    clusters.forEach((cluster, index) => {
        const morningActivities = cluster.slice(0, Math.ceil(cluster.length / 2));
        const afternoonActivities = cluster.slice(Math.ceil(cluster.length / 2));
       
        programHTML += `
            <div style="margin: 20px 0; padding: 15px; background: white; border-radius: 12px; border-left: 6px solid #4c7af0; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <h4 style="margin: 0 0 12px 0; color: #4c7af0;">ğŸ“ Î—Î¼Î­ÏÎ± ${index + 1} - Î’ÎµÏÎ¿Î»Î¯Î½Î¿</h4>
               
                ${morningActivities.length > 0 ? `
                <div style="margin-bottom: 12px;">
                    <h5 style="margin: 0 0 6px 0; color: #3eb489;">ğŸŒ… Î ÏÏ‰Î¹Î½ÏŒ (9:00 - 13:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${morningActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                ${afternoonActivities.length > 0 ? `
                <div style="margin-bottom: 8px;">
                    <h5 style="margin: 0 0 6px 0; color: #ff7f50;">ğŸŒ‡ Î‘Ï€Î¿Î³ÎµÏ…Î¼Î±Ï„Î¹Î½ÏŒ (14:00 - 18:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${afternoonActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                <div style="background: #f0f8ff; padding: 8px; border-radius: 6px; margin-top: 8px;">
                    <p style="margin: 0; font-size: 0.85em; color: #666;">
                        âœ… <strong>Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î”Î¹Î±Î´ÏÎ¿Î¼Î®</strong><br>
                        ğŸš‡ <strong>Î•ÏÎºÎ¿Î»ÎµÏ‚ ÎœÎµÏ„Î±ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Î¼Îµ ÎœÎœÎœ</strong><br>
                        â±ï¸ <strong>Î™ÏƒÎ¿ÏÏÎ¿Ï€Î·Î¼Î­Î½Î¿Ï‚ Î§ÏÏŒÎ½Î¿Ï‚</strong>
                    </p>
                </div>
            </div>
        `;
    });
   
    return programHTML;
}

function createLisbonSmartProgram(activities, days) {
    const activitiesWithCoords = activities.filter(act => act.lat && act.lng);
   
    if (activitiesWithCoords.length === 0) {
        return "<p>ğŸš§ Î“Î¹Î± Î­Î¾Ï…Ï€Î½Î¿ Î³ÎµÏ‰Î³ÏÎ±Ï†Î¹ÎºÏŒ Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒ, Ï‡ÏÎµÎ¹Î±Î¶ÏŒÎ¼Î±ÏƒÏ„Îµ ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚ ÏƒÏ„Î¹Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</p>" +
               createDailyProgram(activities, days);
    }
   
    const clusters = createSmartClusters(activitiesWithCoords, days);
   
    let programHTML = '<p>ğŸ—ºï¸ <strong>ÎˆÎ¾Ï…Ï€Î½Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±:</strong></p>';
   
    clusters.forEach((cluster, index) => {
        const morningActivities = cluster.slice(0, Math.ceil(cluster.length / 2));
        const afternoonActivities = cluster.slice(Math.ceil(cluster.length / 2));
       
        programHTML += `
            <div style="margin: 20px 0; padding: 15px; background: white; border-radius: 12px; border-left: 6px solid #ff6b6b; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <h4 style="margin: 0 0 12px 0; color: #ff6b6b;">ğŸ“ Î—Î¼Î­ÏÎ± ${index + 1} - Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±</h4>
               
                ${morningActivities.length > 0 ? `
                <div style="margin-bottom: 12px;">
                    <h5 style="margin: 0 0 6px 0; color: #3eb489;">ğŸŒ… Î ÏÏ‰Î¹Î½ÏŒ (9:00 - 13:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${morningActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                ${afternoonActivities.length > 0 ? `
                <div style="margin-bottom: 8px;">
                    <h5 style="margin: 0 0 6px 0; color: #ff6b6b;">ğŸŒ‡ Î‘Ï€Î¿Î³ÎµÏ…Î¼Î±Ï„Î¹Î½ÏŒ (14:00 - 18:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${afternoonActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                <div style="background: #fff5f5; padding: 8px; border-radius: 6px; margin-top: 8px;">
                    <p style="margin: 0; font-size: 0.85em; color: #666;">
                        âœ… <strong>Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î”Î¹Î±Î´ÏÎ¿Î¼Î®</strong><br>
                        ğŸš‹ <strong>Î§ÏÎ®ÏƒÎ· Î¤ÏÎ±Î¼ & ÎœÎµÏ„ÏÏŒ</strong><br>
                        â±ï¸ <strong>Î™ÏƒÎ¿ÏÏÎ¿Ï€Î·Î¼Î­Î½Î¿Ï‚ Î§ÏÏŒÎ½Î¿Ï‚</strong>
                    </p>
                </div>
            </div>
        `;
    });
   
    return programHTML;
}

function createBudapestSmartProgram(activities, days) {
    const activitiesWithCoords = activities.filter(act => act.lat && act.lng);
   
    if (activitiesWithCoords.length === 0) {
        return "<p>ğŸš§ Î“Î¹Î± Î­Î¾Ï…Ï€Î½Î¿ Î³ÎµÏ‰Î³ÏÎ±Ï†Î¹ÎºÏŒ Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒ, Ï‡ÏÎµÎ¹Î±Î¶ÏŒÎ¼Î±ÏƒÏ„Îµ ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚ ÏƒÏ„Î¹Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚</p>" +
               createDailyProgram(activities, days);
    }
   
    const clusters = createSmartClusters(activitiesWithCoords, days);
   
    let programHTML = '<p>ğŸ—ºï¸ <strong>ÎˆÎ¾Ï…Ï€Î½Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î³Î¹Î± Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·:</strong></p>';
   
    clusters.forEach((cluster, index) => {
        const morningActivities = cluster.slice(0, Math.ceil(cluster.length / 2));
        const afternoonActivities = cluster.slice(Math.ceil(cluster.length / 2));
       
        programHTML += `
            <div style="margin: 20px 0; padding: 15px; background: white; border-radius: 12px; border-left: 6px solid #ff9933; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <h4 style="margin: 0 0 12px 0; color: #ff9933;">ğŸ“ Î—Î¼Î­ÏÎ± ${index + 1} - Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·</h4>
               
                ${morningActivities.length > 0 ? `
                <div style="margin-bottom: 12px;">
                    <h5 style="margin: 0 0 6px 0; color: #3eb489;">ğŸŒ… Î ÏÏ‰Î¹Î½ÏŒ (9:00 - 13:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${morningActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                ${afternoonActivities.length > 0 ? `
                <div style="margin-bottom: 8px;">
                    <h5 style="margin: 0 0 6px 0; color: #4c7af0;">ğŸŒ‡ Î‘Ï€Î¿Î³ÎµÏ…Î¼Î±Ï„Î¹Î½ÏŒ (14:00 - 18:00)</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${afternoonActivities.map(act => `<li>${act.name}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
               
                <div style="background: #fff5e6; padding: 8px; border-radius: 6px; margin-top: 8px;">
                    <p style="margin: 0; font-size: 0.85em; color: #666;">
                        âœ… <strong>Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î”Î¹Î±Î´ÏÎ¿Î¼Î®</strong><br>
                        ğŸŒ‰ <strong>Î•ÏÎºÎ¿Î»Î· Î ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¹Ï‚ Î“Î­Ï†Ï…ÏÎµÏ‚</strong><br>
                        â±ï¸ <strong>Î™ÏƒÎ¿ÏÏÎ¿Ï€Î·Î¼Î­Î½Î¿Ï‚ Î§ÏÏŒÎ½Î¿Ï‚</strong>
                    </p>
                </div>
            </div>
        `;
    });
   
    return programHTML;
}

function updateCityBackground(cityName) {
    const cityBackgrounds = {
        "Î’Î¹Î­Î½Î½Î·": "https://images.unsplash.com/photo-1516550893923-42d28e5677af?w=1200",
        "Î’ÎµÏÎ¿Î»Î¯Î½Î¿": "https://images.unsplash.com/photo-1587330979470-3595ac045ab0?w=1200",
        "Î Î±ÏÎ¯ÏƒÎ¹": "https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=1200",
        "Î¡ÏÎ¼Î·": "https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=1200",
        "Î›Î¿Î½Î´Î¯Î½Î¿": "https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=1200",
        "Î†Î¼ÏƒÏ„ÎµÏÎ½Ï„Î±Î¼": "https://images.unsplash.com/photo-1512470876302-972faa2aa9a4?w=1200",
        "Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·": "https://images.unsplash.com/photo-1551867633-194f125bdbfa?w=1200",
        "Î ÏÎ¬Î³Î±": "https://images.unsplash.com/photo-1592906209472-a36b1f3782ef?w=1200",
        "ÎœÏŒÎ½Î±Ï‡Î¿": "https://images.unsplash.com/photo-1595867818082-083862f3d630?w=1200",
        "ÎšÎ¿Î»Ï‰Î½Î¯Î±": "https://images.unsplash.com/photo-1467269204594-9661b134dd2b?w=1200",
        "Î’Î±ÏÎºÎµÎ»ÏÎ½Î·": "https://images.unsplash.com/photo-1583422409516-2895a77efded?w=1200",
        "ÎœÎ±Î´ÏÎ¯Ï„Î·": "https://images.unsplash.com/photo-1539037116277-4db20889f2d4?w=1200",
        "Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±": "https://images.unsplash.com/photo-1585208798174-6cedd86bd019?w=1200",
        "Î”Î¿Ï…Î²Î»Î¯Î½Î¿": "https://images.unsplash.com/photo-1549918864-6bac32c52dcb?w=1200",
        "Î•Î´Î¹Î¼Î²Î¿ÏÏÎ³Î¿": "https://images.unsplash.com/photo-1507089947368-19c1da9775ae?w=1200",
        "Î–Ï…ÏÎ¯Ï‡Î·": "https://images.unsplash.com/photo-1544483048-8b74d33a11bd?w=1200",
        "Î“ÎµÎ½ÎµÏÎ·": "https://images.unsplash.com/photo-1503919545889-aef636e10ad4?w=1200",
        "ÎšÎ¿Ï€ÎµÎ³Ï‡Î¬Î³Î·": "https://images.unsplash.com/photo-1513622472932-bd5c45e1987b?w=1200",
        "Î£Ï„Î¿ÎºÏ‡ÏŒÎ»Î¼Î·": "https://images.unsplash.com/photo-1506970843675-04a04c64ad6f?w=1200",
        "Î’Î¿Ï…ÎºÎ¿Ï…ÏÎ­ÏƒÏ„Î¹": "https://images.unsplash.com/photo-1594736797933-d0f289d3f0b3?w=1200",
        "ÎŒÏƒÎ»Î¿": "https://images.unsplash.com/photo-1583149454066-4c76b4d2ad23?w=1200",
        "ÎœÎ¹Î»Î¬Î½Î¿": "https://images.unsplash.com/photo-1610018556010-6c6d89b95a0a?w=1200",
        "Î¦Î»Ï‰ÏÎµÎ½Ï„Î¯Î±": "https://images.unsplash.com/photo-1543429259-5070ada7b72c?w=1200",
        "ÎšÏ‰Î½ÏƒÏ„Î±Î½Ï„Î¹Î½Î¿ÏÏ€Î¿Î»Î·": "https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?w=1200",
        "Î£ÏŒÏ†Î¹Î±": "https://images.unsplash.com/photo-1578351120013-6e2ada1d570d?w=1200",
        "Î’Î±ÏÏƒÎ¿Î²Î¯Î±": "https://images.unsplash.com/photo-1590330237165-7c36d3d82b44?w=1200",
        "ÎšÏÎ±ÎºÎ¿Î²Î¯Î±": "https://images.unsplash.com/photo-1544298628-3a4c18a4fb6b?w=1200"
    };
   
    const backgroundUrl = cityBackgrounds[cityName] || 'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?w=1200';
   
    const img = new Image();
    img.src = backgroundUrl;
   
    img.onload = function() {
        document.body.style.backgroundImage = `linear-gradient(rgba(255,255,255,0.25), rgba(255,255,255,0.4)), url(${backgroundUrl})`;
    };
}

function resetFilters(){
  document.querySelectorAll('select').forEach(select => select.value = '');
  document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
  document.getElementById("travel-budget").value = '';
  filterDestinations();
}

// ==================== Î‘Î¥Î¤ÎŸÎœÎ‘Î¤Î— Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— ÎšÎ‘Î™ Î•Î Î‘ÎÎ‘Î¦ÎŸÎ¡Î¤Î©Î£Î— ====================
function saveToLocalStorage() {
    const data = {
        selectedDestinationName,
        selectedDaysStay,
        selectedBudget,
        selectedActivities: getSelectedActivities().map(act => act.name),
        familyMembers: familyMembers
    };
    localStorage.setItem('travelPlannerData', JSON.stringify(data));
}

function loadFromLocalStorage() {
    const saved = localStorage.getItem('travelPlannerData');
    if (saved) {
        const data = JSON.parse(saved);
       
        const shouldContinue = confirm('ğŸ“‹ Î’ÏÎ­Î¸Î·ÎºÎµ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿ ÏƒÏ‡Î­Î´Î¹Î¿ Ï„Î±Î¾Î¹Î´Î¹Î¿Ï! Î˜Î­Î»ÎµÏ„Îµ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎµÏ„Îµ Î±Ï€ÏŒ ÎµÎºÎµÎ¯ Ï€Î¿Ï… ÎµÎ¯Ï‡Î±Ï„Îµ Î¼ÎµÎ¯Î½ÎµÎ¹;');
       
        if (shouldContinue) {
            selectedDestinationName = data.selectedDestinationName || "";
            selectedDaysStay = data.selectedDaysStay || 0;
            selectedBudget = data.selectedBudget || 0;
           
            // Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ Î·Î¼ÎµÏÏÎ½
            if (selectedDaysStay > 0) {
                document.getElementById("days-stay").value = selectedDaysStay;
            }
           
            // Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ budget
            if (selectedBudget > 0) {
                document.getElementById("travel-budget").value = selectedBudget;
            }
           
            // Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ family members
            if (data.familyMembers && data.familyMembers.length > 0) {
                familyMembers = data.familyMembers;
                updateFamilyMembersUI();
            }
           
            // Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Ï‰Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½
            if (data.selectedActivities && data.selectedActivities.length > 0) {
                window.savedActivities = data.selectedActivities;
            }
           
            setTimeout(() => {
                alert(`âœ… Î¦Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿ ÏƒÏ‡Î­Î´Î¹Î¿:\nğŸ™ï¸ Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚: ${selectedDestinationName || 'ÎšÎ±Î½Î­Î½Î±Ï‚'}\nğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ÎœÎ­Î»Î·: ${familyMembers.length}\nğŸ“… ÎœÎ­ÏÎµÏ‚: ${selectedDaysStay}\nğŸ’° Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚: ${selectedBudget}â‚¬`);
            }, 500);
        } else {
            localStorage.removeItem('travelPlannerData');
        }
    }
}

// Î’ÎŸÎ—Î˜Î—Î¤Î™ÎšÎ— Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î— Î“Î™Î‘ Î•Î Î‘ÎÎ‘Î¦ÎŸÎ¡Î¤Î©Î£Î— UI
function updateFamilyMembersUI() {
    const container = document.getElementById('family-members-list');
    container.innerHTML = '';
   
    familyMembers.forEach((member, index) => {
        const emoji = index === 0 ? 'ğŸ‘¨' : index === 1 ? 'ğŸ‘©' : 'ğŸ§’';
        const memberDiv = document.createElement('div');
        memberDiv.className = 'family-member-input';
        memberDiv.innerHTML = `
            <span>${emoji}</span>
            <input type="text" placeholder="ÎŒÎ½Î¿Î¼Î±" value="${member.name}" class="member-name">
            <input type="number" placeholder="Î—Î»Î¹ÎºÎ¯Î±" value="${member.age}" class="member-age" min="0" max="120">
            <span>ÎµÏ„ÏÎ½</span>
            ${index >= 2 ? '<button onclick="removeFamilyMember(this)" class="remove-member-btn">Ã—</button>' : ''}
        `;
        container.appendChild(memberDiv);
    });
}

// Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Î·Î¼ÎµÏÏÎ½ ÏŒÏ„Î±Î½ Î±Î»Î»Î¬Î¶ÎµÎ¹ Ï„Î¿ dropdown - Î¼Îµ autosave
document.getElementById("days-stay").addEventListener("change", function() {
    selectedDaysStay = this.value ? parseInt(this.value) : 0;
    saveToLocalStorage();
   
    updateStep1Display();
   
    if (document.getElementById('step-summary').classList.contains('active')) {
        setTimeout(() => goToStep5(), 100);
    }
});

function updateDaysStay() {
    const daysSelect = document.getElementById("days-stay");
    selectedDaysStay = daysSelect.value ? parseInt(daysSelect.value) : 0;
   
    saveToLocalStorage();
   
    updateStep1Display();
   
    if (document.getElementById('step-summary').classList.contains('active')) {
        goToStep5();
    }
   
    const message = document.createElement('div');
    message.textContent = `âœ… Î•Î½Î·Î¼ÎµÏÏÎ¸Î·ÎºÎ±Î½ Î¿Î¹ Î¼Î­ÏÎµÏ‚: ${selectedDaysStay}`;
    message.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #3eb489; color: white; padding: 10px; border-radius: 8px; z-index: 10000;';
    document.body.appendChild(message);
    setTimeout(() => message.remove(), 3000);
}

function clearAllData() {
    if (confirm('âš ï¸ Î˜Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ ÎŸÎ›Î‘ Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± Ï„Î¿Ï… Ï„Î±Î¾Î¹Î´Î¹Î¿Ï; Î‘Ï…Ï„Î® Î· ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î½Î±Î¹ÏÎµÎ¸ÎµÎ¯.')) {
        localStorage.removeItem('travelPlannerData');
        familyMembers = [
            { name: "Î Î±Ï„Î­ÏÎ±Ï‚", age: 42 },
            { name: "ÎœÎ·Ï„Î­ÏÎ±", age: 40 }
        ];
        updateFamilyMembersUI();
        location.reload();
    }
}

function updateStep1Display() {
    const destinationCards = document.getElementById('destination-cards');
   
    destinationCards.innerHTML = `
        <div style="text-align: center; padding: 20px; background: #d4edda; border-radius: 12px; border: 2px solid #3eb489;">
            <h3>âœ… Î•Ï€Î¹Î»Î­Î¾Î±Ï„Îµ: ${selectedDestinationName}</h3>
            <p>ğŸ“… Î”Î¹Î¬ÏÎºÎµÎ¹Î± Î´Î¹Î±ÎºÎ¿Ï€ÏÎ½: ${selectedDaysStay > 0 ? selectedDaysStay + ' Î¼Î­ÏÎµÏ‚' : 'Î¼Î· Î¿ÏÎ¹ÏƒÎ¼Î­Î½ÎµÏ‚ Î¼Î­ÏÎµÏ‚'}</p>
            <p>ğŸ’° Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚: ${selectedBudget > 0 ? selectedBudget + 'â‚¬' : 'Î”ÎµÎ½ Î¿ÏÎ¯ÏƒÏ„Î·ÎºÎµ'}</p>
            <p>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ÎœÎ­Î»Î· Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±Ï‚: ${familyMembers.length}</p>
            <p>ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÏ„Îµ ÏƒÏ„Î¿ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ Î²Î®Î¼Î±</p>
            <button onclick="goToStep2()" style="padding: 10px 20px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿ Î’Î®Î¼Î± 2
            </button>
        </div>
    `;
}

// ÎšÎ»Î®ÏƒÎ· Ï„Î·Ï‚ loadFromLocalStorage ÏŒÏ„Î±Î½ Ï†Î¿ÏÏ„ÏÎ½ÎµÎ¹ Î· ÏƒÎµÎ»Î¯Î´Î±
window.addEventListener('load', function() {
    setTimeout(() => {
        loadFromLocalStorage();
        checkMobileView();
    }, 100);
});

// Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· ÏŒÏ„Î±Î½ Î±Î»Î»Î¬Î¶ÎµÎ¹ Ï„Î¿ budget
document.getElementById("travel-budget").addEventListener("input", function() {
    selectedBudget = this.value ? parseInt(this.value) : 0;
    saveToLocalStorage();
});

// Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· ÏŒÏ„Î±Î½ Î±Î»Î»Î¬Î¶Î¿Ï…Î½ Ï„Î± Î¿Î½ÏŒÎ¼Î±Ï„Î±/Î·Î»Î¹ÎºÎ¯ÎµÏ‚
document.addEventListener('input', function(e) {
    if (e.target.classList.contains('member-name') || e.target.classList.contains('member-age')) {
        setTimeout(saveToLocalStorage, 100);
    }
});
// ** Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£ Î“Î™Î‘ ÎœÎ‘Î”Î¡Î™Î¤Î— **
const activitiesMadrid = [
    // ============== Î Î‘Î¡ÎšÎ‘ (Î”Î©Î¡Î•Î‘Î) ==============
    {
        name: "Parque del Retiro",
        desc: "Î¤Î¿ ÎµÎ¼Î²Î»Î·Î¼Î±Ï„Î¹ÎºÏŒ Ï€Î¬ÏÎºÎ¿ Î¼Îµ Ï„Î· Î»Î¯Î¼Î½Î· Î³Î¹Î± Î²Î±ÏÎºÎ¬ÎºÎ¹Î±, Ï„Î¿ Î“Ï…Î¬Î»Î¹Î½Î¿ Î Î±Î»Î¬Ï„Î¹ ÎºÎ±Î¹ Ï„Î¿Ï…Ï‚ ÎºÎ±Ï„Î±Ï€ÏÎ¬ÏƒÎ¹Î½Î¿Ï…Ï‚ Ï‡ÏÏÎ¿Ï…Ï‚.",
        prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
        selected: false,
        lat: 40.4150,
        lng: -3.6834,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+del+Retiro+Madrid' target='_blank'>CafÃ© del Retiro</a> - Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ Ï€Î¬ÏÎºÎ¿",
        freeActivity: true
    },
    {
        name: "Casa de Campo",
        desc: "Î¤Î¿ Ï„ÎµÏÎ¬ÏƒÏ„Î¹Î¿ Î±ÏƒÏ„Î¹ÎºÏŒ Ï€Î¬ÏÎºÎ¿ ÏŒÏ€Î¿Ï… Î²ÏÎ¯ÏƒÎºÎ¿Î½Ï„Î±Î¹ Ï„Î¿ Zoo, Ï„Î¿ Î›Î¿ÏÎ½Î± Î Î±ÏÎº ÎºÎ±Î¹ Ï„Î¿ TelefÃ©rico. Î™Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± Ï€Î¿Î´Î·Î»Î±ÏƒÎ¯Î±, Ï€Î¹ÎºÎ½Î¯Îº ÎºÎ±Î¹ Ï€ÎµÎ¶Î¿Ï€Î¿ÏÎ¯Î±.",
        prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
        selected: false,
        lat: 40.4242,
        lng: -3.7587,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Casa+de+Campo+Madrid' target='_blank'>Restaurante Casa de Campo</a>",
        freeActivity: true
    },
    {
        name: "Madrid RÃ­o",
        desc: "Î— Î»ÎµÏ‰Ï†ÏŒÏÎ¿Ï‚ ÎºÎ±Ï„Î¬ Î¼Î®ÎºÎ¿Ï‚ Ï„Î¿Ï… Ï€Î¿Ï„Î±Î¼Î¿Ï Manzanares, Î¼Îµ Ï€Î¿Î´Î·Î»Î±Ï„ÏŒÎ´ÏÎ¿Î¼Î¿Ï…Ï‚, Ï€Î±Î¹Î´Î¹ÎºÎ­Ï‚ Ï‡Î±ÏÎ­Ï‚ ÎºÎ±Î¹ Ï‡ÏÏÎ¿Ï…Ï‚ Î±Î½Î±ÏˆÏ…Ï‡Î®Ï‚.",
        prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
        selected: false,
        lat: 40.3980,
        lng: -3.7200,
        restaurant: "<a href='https://maps.google.com/?q=Matadero+Madrid' target='_blank'>Matadero Madrid</a> - Ï€Î¿Î»Î¹Ï„Î¹ÏƒÏ„Î¹ÎºÏŒ ÎºÎ­Î½Ï„ÏÎ¿ Î¼Îµ ÎµÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î±",
        freeActivity: true
    },
    {
        name: "Templo de Debod",
        desc: "Î‘ÏÏ‡Î±Î¯Î¿Ï‚ Î±Î¹Î³Ï…Ï€Ï„Î¹Î±ÎºÏŒÏ‚ Î½Î±ÏŒÏ‚ Ï€Î¿Ï… Î¼ÎµÏ„Î±Ï†Î­ÏÎ¸Î·ÎºÎµ ÏƒÏ„Î· ÎœÎ±Î´ÏÎ¯Ï„Î·. Î¥Ï€Î­ÏÎ¿Ï‡Î¿Ï‚ Ï‡ÏÏÎ¿Ï‚ Î³Î¹Î± Ï„Î¿ Î·Î»Î¹Î¿Î²Î±ÏƒÎ¯Î»ÎµÎ¼Î±.",
        prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
        selected: false,
        lat: 40.4238,
        lng: -3.7185,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+con+vistas+Templo+de+Debod' target='_blank'>Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿ Î¼Îµ Î¸Î­Î± ÏƒÏ„Î¿Î½ Î½Î±ÏŒ</a>",
        freeActivity: true
    },
   
    // ============== ÎœÎŸÎ¥Î£Î•Î™Î‘ ==============
    {
        name: "MUNCYT (ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î•Ï€Î¹ÏƒÏ„Î®Î¼Î·Ï‚ & Î¤ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯Î±Ï‚)",
        desc: "Î Î¿Î»Ï Î´Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ ÎºÎ±Î¹ ÎµÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÏŒ, Î¹Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹ÎµÏ‚ Î¼Îµ Ï€Î±Î¹Î´Î¹Î¬.",
        prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
        selected: false,
        lat: 40.4531,
        lng: -3.6883,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+MUNCYT+Madrid' target='_blank'>CafÃ© MUNCYT</a>",
        freeActivity: true
    },
    {
        name: "Museo Naval (ÎÎ±Ï…Ï„Î¹ÎºÏŒ ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿)",
        desc: "Î£Ï€Î¿Ï…Î´Î±Î¯Î± ÏƒÏ…Î»Î»Î¿Î³Î® Î¼Îµ Î½Î±Ï…Ï„Î¹ÎºÎ¬ Ï‡Î¬ÏÏ„Î·, Î¼Î±ÎºÎ­Ï„ÎµÏ‚ Ï€Î»Î¿Î¯Ï‰Î½ ÎºÎ±Î¹ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÎ¬ Î±Î½Ï„Î¹ÎºÎµÎ¯Î¼ÎµÎ½Î±. ÎšÎ¿Î½Ï„Î¬ ÏƒÏ„Î¿ ÎºÎ­Î½Ï„ÏÎ¿.",
        prices: {"0-2":0,"3-5":0,"6-14":0,"15-19":0,"18+":0},
        selected: false,
        lat: 40.4176,
        lng: -3.6920,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Gijon+Madrid' target='_blank'>CafÃ© GijÃ³n</a> - Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ±Ï†Î­",
        freeActivity: true
    },
    {
        name: "Planetario de Madrid (Î Î»Î±Î½Î·Ï„Î¬ÏÎ¹Î¿)",
        desc: "Î Î¿Î»Ï Î¿Î¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ Î³Î¹Î± Ï€ÏÎ¿Î²Î¿Î»Î­Ï‚ ÏƒÏ‡ÎµÏ„Î¹ÎºÎ­Ï‚ Î¼Îµ Ï„Î¿ Î´Î¹Î¬ÏƒÏ„Î·Î¼Î±.",
        prices: {"0-2":0,"3-5":1.65,"6-14":1.65,"15-19":3.60,"18+":3.60},
        selected: false,
        lat: 40.4567,
        lng: -3.6894,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Tierno+Galvan+Madrid' target='_blank'>Restaurante Tierno GalvÃ¡n</a> - ÎºÎ¿Î½Ï„Î¬ ÏƒÏ„Î¿ Ï€Î¬ÏÎºÎ¿",
        website: "https://planetmad.es/"
    },
    {
        name: "Museo Nacional de Ciencias Naturales",
        desc: "Î ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ ÎµÎºÎ¸Î­ÏƒÎµÎ¹Ï‚ Î¼Îµ Î´ÎµÎ¹Î½ÏŒÏƒÎ±Ï…ÏÎ¿Ï…Ï‚ ÎºÎ±Î¹ Î´Î¹Î¬Ï†Î¿ÏÎ± Î¿Î¹ÎºÎ¿ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î±.",
        prices: {"0-2":0,"3-5":3.50,"6-14":3.50,"15-19":7,"18+":7},
        selected: false,
        lat: 40.4405,
        lng: -3.6902,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Museo+Ciencias+Naturales' target='_blank'>CafÃ© Ï„Î¿Ï… ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿Ï…</a>",
        website: "https://www.mncn.csic.es/"
    },
    {
        name: "Museo de Cera (ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ ÎºÎ­ÏÎ¹Î½Ï‰Î½ Î¿Î¼Î¿Î¹Î¿Î¼Î¬Ï„Ï‰Î½)",
        desc: "ÎœÎµ ÎºÎ­ÏÎ¹Î½Î± Î±Î³Î¬Î»Î¼Î±Ï„Î± Î´Î¹Î¬ÏƒÎ·Î¼Ï‰Î½ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¿Ï„Î®Ï„Ï‰Î½.",
        prices: {"0-2":0,"3-5":13,"6-14":13,"15-19":19,"18+":19},
        selected: false,
        lat: 40.4201,
        lng: -3.6964,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Museo+Cera+Madrid' target='_blank'>CafÃ© Museo de Cera</a>",
        website: "https://museoceramadrid.com/"
    },
   
    // ============== Î–Î©ÎŸÎ›ÎŸÎ“Î™ÎšÎŸÎ™ ÎšÎ—Î ÎŸÎ™ & Î•ÎÎ¥Î”Î¡Î•Î™Î‘ ==============
    {
        name: "Zoo Aquarium de Madrid",
        desc: "Î–Ï‰Î¿Î»Î¿Î³Î¹ÎºÏŒÏ‚ ÎºÎ®Ï€Î¿Ï‚ Î¼Îµ ÎµÎ½Ï…Î´ÏÎµÎ¯Î¿. Combo Î¼Îµ Ï„Î¿ Faunia Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿.",
        prices: {"0-2":0,"3-5":16.90,"6-14":19.80,"15-19":19.80,"18+":19.80},
        selected: false,
        lat: 40.4062,
        lng: -3.7584,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Zoo+Madrid' target='_blank'>Restaurante Zoo Madrid</a>",
        website: "https://www.zoomadrid.com/",
        note: "Combo Î¼Îµ Faunia: 39.90â‚¬ (online)"
    },
    {
        name: "Faunia",
        desc: "Î Î¬ÏÎºÎ¿ Î¼Îµ Î¸Î­Î¼Î± Ï„Î± Î¿Î¹ÎºÎ¿ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î± ÎºÎ±Î¹ Î¶ÏÎ± Î±Ï€ÏŒ ÏŒÎ»Î¿ Ï„Î¿Î½ ÎºÏŒÏƒÎ¼Î¿.",
        prices: {"0-2":0,"3-5":16.90,"6-14":16.90,"15-19":16.90,"18+":16.90},
        selected: false,
        lat: 40.3742,
        lng: -3.6026,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Faunia+Madrid' target='_blank'>Restaurante Faunia</a>",
        website: "https://www.faunia.es/",
        note: "Combo Î¼Îµ Zoo: 39.90â‚¬ (online)"
    },
    {
        name: "Atlantis Aquarium (Î•Î½Ï…Î´ÏÎµÎ¯Î¿)",
        desc: "Î•Î½Ï…Î´ÏÎµÎ¯Î¿ ÏƒÏ„Î¿ ÎµÎ¼Ï€Î¿ÏÎ¹ÎºÏŒ X-Madrid.",
        prices: {"0-2":0,"3-5":9.90,"6-14":9.90,"15-19":9.90,"18+":9.90},
        selected: false,
        lat: 40.4156,
        lng: -3.7032,
        restaurant: "<a href='https://maps.google.com/?q=X-Madrid+food+court' target='_blank'>Food Court X-Madrid</a>",
        website: "https://atlantisaquarium-madrid.es/"
    },
   
    // ============== Î˜Î•ÎœÎ‘Î¤Î™ÎšÎ‘ Î Î‘Î¡ÎšÎ‘ & Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£ ==============
    {
        name: "Parque de Atracciones (Î›Î¿ÏÎ½Î± Î Î±ÏÎº)",
        desc: "Î˜ÎµÎ¼Î±Ï„Î¹ÎºÏŒ Ï€Î¬ÏÎºÎ¿ Î¼Îµ Î²ÏŒÎ»Ï„ÎµÏ‚ ÎºÎ±Î¹ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹Î±. Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ Î´Ï…Î½Î±Î¼Î¹ÎºÎ® Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ· (Î· Ï„Î¹Î¼Î® Î±Î»Î»Î¬Î¶ÎµÎ¹ Î±Î½Î¬ Î·Î¼Î­ÏÎ±).",
        prices: {"0-2":0,"3-5":24,"6-14":24,"15-19":24,"18+":42},
        selected: false,
        lat: 40.4240,
        lng: -3.7572,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Parque+Atracciones+Madrid' target='_blank'>Restaurante Parque Atracciones</a>",
        website: "https://www.parquedeatracciones.es/",
        note: "âš ï¸ Î”Ï…Î½Î±Î¼Î¹ÎºÎ® Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ· - ÎµÎ»Î­Î³Î¾Ï„Îµ online Î³Î¹Î± Î±ÎºÏÎ¹Î²Î® Ï„Î¹Î¼Î®"
    },
    {
        name: "Parque Warner Madrid",
        desc: "Î˜ÎµÎ¼Î±Ï„Î¹ÎºÏŒ Ï€Î¬ÏÎºÎ¿ Î¼Îµ Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚ Warner Bros. Î’ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ ÎµÎºÏ„ÏŒÏ‚ Ï€ÏŒÎ»Î·Ï‚ (~25Ï‡Î»Î¼).",
        prices: {"0-2":0,"3-5":32.90,"6-14":32.90,"15-19":32.90,"18+":32.90},
        selected: false,
        lat: 40.2311,
        lng: -3.5931,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Warner+Madrid' target='_blank'>Restaurante Warner Park</a>",
        website: "https://www.parquewarner.com/",
        note: "âš ï¸ ÎœÎŸÎÎŸ online Î±Î³Î¿ÏÎ¬ - ÏƒÏ„Î¿ Ï„Î±Î¼ÎµÎ¯Î¿ Ï€Î¹Î¿ Î±ÎºÏÎ¹Î²Î¬"
    },
    {
        name: "Safari Madrid (ÏƒÏ„Î¿ Î‘Î»Î¼Ï€Î­Î½Î¸Îµ)",
        desc: "Î£Î±Ï†Î¬ÏÎ¹ Î¼Îµ Î¶ÏÎ±. Î‘Ï€Î±Î¹Ï„ÎµÎ¯ Î±Ï…Ï„Î¿ÎºÎ¯Î½Î·Ï„Î¿ (50Ï‡Î»Î¼ Î±Ï€ÏŒ ÎœÎ±Î´ÏÎ¯Ï„Î·).",
        prices: {"0-2":0,"3-5":17.90,"6-14":17.90,"15-19":22.90,"18+":22.90},
        selected: false,
        lat: 40.1020,
        lng: -3.2450,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Safari+Madrid' target='_blank'>Restaurante Safari Madrid</a>",
        website: "https://www.safarimadrid.com/",
        note: "âš ï¸ Î¥Î ÎŸÎ§Î¡Î•Î©Î¤Î™ÎšÎ‘ online Î±Î³Î¿ÏÎ¬ ÎµÎº Ï„Ï‰Î½ Ï€ÏÎ¿Ï„Î­ÏÏ‰Î½"
    },
   
    // ============== Î‘Î›Î›Î•Î£ Î”Î¡Î‘Î£Î¤Î—Î¡Î™ÎŸÎ¤Î—Î¤Î•Î£ ==============
    {
        name: "Santiago BernabÃ©u Tour (Tour Î“Î·Ï€Î­Î´Î¿Ï… Î¡ÎµÎ¬Î» ÎœÎ±Î´ÏÎ¯Ï„Î·Ï‚)",
        desc: "Î•Ï€Î¯ÏƒÎºÎµÏˆÎ· ÏƒÏ„Î¿ Î´Î¹Î¬ÏƒÎ·Î¼Î¿ Î³Î®Ï€ÎµÎ´Î¿ Ï€Î¿Î´Î¿ÏƒÏ†Î±Î¯ÏÎ¿Ï…. Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ Î´Ï…Î½Î±Î¼Î¹ÎºÎ® Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·.",
        prices: {"0-2":0,"3-5":42,"6-14":42,"15-19":45,"18+":45},
        selected: false,
        lat: 40.4530,
        lng: -3.6883,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Bernabeu+Madrid' target='_blank'>Restaurante BernabÃ©u</a>",
        website: "https://www.realmadrid.com/",
        note: "âš ï¸ Î”Ï…Î½Î±Î¼Î¹ÎºÎ® Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ· - Î¿Î¹ Ï„Î¹Î¼Î­Ï‚ Î´Î¹Î±Ï†Î­ÏÎ¿Ï…Î½ Î±Î½Î¬ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±"
    },
    {
        name: "Micropolix (Î Î±Î¹Î´Î¹ÎºÎ® Î ÏŒÎ»Î· Î•Ï€Î±Î³Î³ÎµÎ»Î¼Î¬Ï„Ï‰Î½)",
        desc: "Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÎ® 'Ï€ÏŒÎ»Î·' ÏŒÏ€Î¿Ï… Ï„Î± Ï€Î±Î¹Î´Î¹Î¬ Ï€Î±Î¯Î¶Î¿Ï…Î½ Î´Î¹Î¬Ï†Î¿ÏÎ± ÎµÏ€Î±Î³Î³Î­Î»Î¼Î±Ï„Î±.",
        prices: {"0-2":0,"3-5":15,"6-14":16,"15-19":16,"18+":16},
        selected: false,
        lat: 40.4735,
        lng: -3.6128,
        restaurant: "<a href='https://maps.google.com/?q=Restaurante+Micropolix+Madrid' target='_blank'>Restaurante Micropolix</a>",
        website: "https://micropolix.com/"
    },
    {
        name: "Sweet Space (Î Î±Î¹Î´Î¹ÎºÏŒÏ‚ Î§ÏÏÎ¿Ï‚ Î¼Îµ Î“Î»Ï…ÎºÎ¬ Î˜Î­Î¼Î±Ï„Î±)",
        desc: "Î§ÏÏÎ¿Ï‚ Î¼Îµ Î¸Î­Î¼Î± Ï„Î± Î³Î»Ï…ÎºÎ¬ ÎºÎ±Î¹ Î´Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ­Ï‚ ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯ÎµÏ‚.",
        prices: {"0-2":10,"3-5":10,"6-14":12,"15-19":15,"18+":15},
        selected: false,
        lat: 40.4255,
        lng: -3.7035,
        restaurant: "<a href='https://maps.google.com/?q=Sweet+Space+Cafe+Madrid' target='_blank'>Sweet Space Cafe</a>",
        website: "https://sweetspace.es/",
        note: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÏŒ Ï€Î±ÎºÎ­Ï„Î¿ (2+2): 40â‚¬"
    },
    {
        name: "IKONO (Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ® & Î¦Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¹ÎºÎ® Î•Î¼Ï€ÎµÎ¹ÏÎ¯Î±)",
        desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒ Î¼Î¿Ï…ÏƒÎµÎ¯Î¿ Î¼Îµ Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¹ÎºÎ­Ï‚ ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯ÎµÏ‚.",
        prices: {"0-2":0,"3-5":13.90,"6-14":13.90,"15-19":17.90,"18+":17.90},
        selected: false,
        lat: 40.4180,
        lng: -3.7020,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+IKONO+Madrid' target='_blank'>CafÃ© IKONO</a>",
        website: "https://ikonomadrid.com/",
        note: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ÎŸÎ¹ÎºÎ¿Î³ÎµÎ½ÎµÎ¹Î±ÎºÏŒ Ï€Î±ÎºÎ­Ï„Î¿: 3 Î¬Ï„Î¿Î¼Î± x 13.90â‚¬"
    },
    {
        name: "Urban Planet (Parkour Park)",
        desc: "Î Î¬ÏÎºÎ¿ Î³Î¹Î± parkour ÎºÎ±Î¹ Î±ÎºÏÎ±Î¯Î± Î±Î¸Î»Î®Î¼Î±Ï„Î±.",
        prices: {"0-2":12,"3-5":12,"6-14":12,"15-19":12,"18+":12},
        selected: false,
        lat: 40.3800,
        lng: -3.6250,
        restaurant: "<a href='https://maps.google.com/?q=Cafe+Urban+Planet+Madrid' target='_blank'>CafÃ© Urban Planet</a>",
        website: "https://urbanplanetmadrid.com/",
        note: "ğŸ’° ~12â‚¬ Î³Î¹Î± 60 Î»ÎµÏ€Ï„Î¬"
    },
    {
        name: "TelefÃ©rico de Madrid",
        desc: "Î¤ÎµÎ»ÎµÏ†ÎµÏÎ¯Îº Î¼Îµ Î¸Î­Î± Ï„Î·Î½ Ï€ÏŒÎ»Î·. âš ï¸ Î Î¡ÎŸÎ£Î©Î¡Î™ÎÎ‘ ÎšÎ›Î•Î™Î£Î¤ÎŸ",
        prices: {"0-2":0,"3-5":5,"6-14":5,"15-19":6,"18+":6},
        selected: false,
        lat: 40.4245,
        lng: -3.7210,
        restaurant: "<a href='https://maps.google.com/?q=Casa+Mingo+Madrid' target='_blank'>Casa Mingo</a> - Ï€Î±ÏÎ±Î´Î¿ÏƒÎ¹Î±ÎºÏŒ",
        website: "https://www.teleferico.com/",
        note: "âš ï¸ Î Î¡ÎŸÎ£Î©Î¡Î™ÎÎ‘ ÎšÎ›Î•Î™Î£Î¤ÎŸ - Î•Î»Î­Î³Î¾Ï„Îµ Ï€ÏÎ¹Î½ Î±Ï€ÏŒ ÎµÏ€Î¯ÏƒÎºÎµÏˆÎ·",
        currentlyClosed: true
    }
];
// ==================== Î•ÎÎ¥Î ÎÎŸÎ£ Î¥Î ÎŸÎ›ÎŸÎ“Î™Î£ÎœÎŸÎ£ COMBO ====================

function calculateSmartCombos() {
    let currentActivities = null;
   
    if (selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·")) {
        currentActivities = activities;
    } else if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) {
        currentActivities = activitiesBerlin;
    } else if (selectedDestinationName.includes("Î›Î¹ÏƒÎ±Î²ÏŒÎ½Î±")) {
        currentActivities = activitiesLisbon;
    } else if (selectedDestinationName.includes("Î’Î¿Ï…Î´Î±Ï€Î­ÏƒÏ„Î·")) {
        currentActivities = activitiesBudapest;
    } else if (selectedDestinationName.includes("ÎœÎ±Î´ÏÎ¯Ï„Î·")) {
        currentActivities = activitiesMadrid;
    } else {
        alert("âš ï¸ ÎŸ Î­Î¾Ï…Ï€Î½Î¿Ï‚ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿Ï‚ Î¼ÏŒÎ½Î¿ Î³Î¹Î± Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¹Î¶ÏŒÎ¼ÎµÎ½ÎµÏ‚ Ï€ÏŒÎ»ÎµÎ¹Ï‚.");
        return;
    }
   
    // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï„Ï‰Î½ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Ï‰Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½ Ï€ÏÏÏ„Î±
    updateSelectedActivities(currentActivities);
   
    // Î’ÏÎ¯ÏƒÎºÎ¿Ï…Î¼Îµ Ï„Î¹Ï‚ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚
    const selectedActivities = currentActivities.filter(act => act.selected);
   
    if (selectedActivities.length === 0) {
        alert("âš ï¸ Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚! ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¹Ï‚ ÎºÎ¬ÏÏ„ÎµÏ‚ Î³Î¹Î± Î½Î± Ï„Î¹Ï‚ ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ.");
        return;
    }
   
    // Î‘Î½Î¬Î»Ï…ÏƒÎ· ÎµÎ¹ÏƒÎ¹Ï„Î·ÏÎ¯Ï‰Î½ Î±Î½Î¬ Î·Î»Î¹ÎºÎ¹Î±ÎºÎ® ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±
    const memberAgeGroups = categorizeFamilyMembers();
   
    // Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÏƒÏ…Î½Î¿Î»Î¹ÎºÎ¿Ï ÎºÏŒÏƒÏ„Î¿Ï…Ï‚ Ï‡Ï‰ÏÎ¯Ï‚ combos
    const regularCost = calculateRegularCost(selectedActivities, memberAgeGroups);
   
    // Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Ï€Î¹Î¸Î±Î½ÏÎ½ combos
    const availableCombos = findAvailableCombos(currentActivities, selectedActivities);
   
    // Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎºÏŒÏƒÏ„Î¿Ï…Ï‚ Î¼Îµ combos
    const comboResults = calculateComboCosts(selectedActivities, availableCombos, memberAgeGroups, regularCost);
   
    // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½
    displayComboResults(comboResults, regularCost);
}

function updateSelectedActivities(activityList) {
    console.log("ğŸ” Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Ï‰Î½ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹Î¿Ï„Î®Ï„Ï‰Î½...");
   
    activityList.forEach((act, index) => {
        const cardElement = document.getElementById(`activity-${index}`);
        if (cardElement) {
            const isSelected = cardElement.classList.contains('selected');
            act.selected = isSelected;
            console.log(`   ${act.name}: ${isSelected ? 'âœ… Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½Î·' : 'âŒ ÎœÎ· ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î·'}`);
        } else {
            console.log(`   âš ï¸ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ card Î³Î¹Î±: ${act.name}`);
        }
    });
   
    // ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚
    const selectedCount = activityList.filter(act => act.selected).length;
    console.log(`ğŸ“Š Î£ÏÎ½Î¿Î»Î¿ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Ï‰Î½: ${selectedCount}`);
}
function categorizeFamilyMembers() {
    console.log("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¹Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±Ï‚...");
    console.log("ÎœÎ­Î»Î· Î¿Î¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±Ï‚:", familyMembers);
   
    const categories = {
        "0-2": 0,
        "3-5": 0,
        "6-14": 0,
        "15-19": 0,
        "18+": 0
    };
   
    familyMembers.forEach(member => {
        console.log(`   ${member.name} (${member.age} ÎµÏ„ÏÎ½):`);
       
        if (member.age <= 2) {
            categories["0-2"]++;
            console.log(`     â†’ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: 0-2`);
        } else if (member.age <= 5) {
            categories["3-5"]++;
            console.log(`     â†’ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: 3-5`);
        } else if (member.age <= 14) {
            categories["6-14"]++;
            console.log(`     â†’ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: 6-14`);
        } else if (member.age <= 19) {
            categories["15-19"]++;
            console.log(`     â†’ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: 15-19`);
        } else {
            categories["18+"]++;
            console.log(`     â†’ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: 18+`);
        }
    });
   
    console.log("ğŸ“Š Î¤ÎµÎ»Î¹ÎºÎ­Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚:", categories);
    return categories;
}
function calculateRegularCost(selectedActivities, ageGroups) {
    console.log("ğŸ§® Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ±Î½Î¿Î½Î¹ÎºÎ¿Ï ÎºÏŒÏƒÏ„Î¿Ï…Ï‚...");
    console.log("Î—Î»Î¹ÎºÎ¹Î±ÎºÎ­Ï‚ Î¿Î¼Î¬Î´ÎµÏ‚:", ageGroups);
    console.log("Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚:", selectedActivities.length);
   
    let totalCost = 0;
    let debugInfo = [];
   
    selectedActivities.forEach((activity, idx) => {
        let activityCost = 0;
       
        Object.keys(ageGroups).forEach(ageCategory => {
            const count = ageGroups[ageCategory];
            if (count > 0 && activity.prices && activity.prices[ageCategory]) {
                const price = parseFloat(activity.prices[ageCategory]) || 0;
                const costForThisAge = price * count;
                activityCost += costForThisAge;
               
                if (costForThisAge > 0) {
                    debugInfo.push(`${activity.name} - ${ageCategory}: ${price}â‚¬ Ã— ${count} = ${costForThisAge}â‚¬`);
                }
            }
        });
       
        totalCost += activityCost;
        console.log(`   ${activity.name}: ${activityCost}â‚¬`);
    });
   
    console.log("ğŸ’° Î£ÏÎ½Î¿Î»Î¿ ÎºÏŒÏƒÏ„Î¿Ï‚:", totalCost);
    debugInfo.forEach(info => console.log("   " + info));
   
    return totalCost;
}
function findAvailableCombos(allActivities, selectedActivities) {
    console.log("ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· combos...");
    console.log("Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚:", selectedActivities.map(a => a.name));
   
    const combos = [];
   
    // Î•Î¹Î´Î¹ÎºÎ¬ combos Î³Î¹Î± ÎºÎ¬Î¸Îµ Ï€ÏŒÎ»Î·
    if (selectedDestinationName.includes("Î’Î¹Î­Î½Î½Î·")) {
        console.log("ğŸ™ï¸ Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· combos Î³Î¹Î± Î’Î¹Î­Î½Î½Î·");
       
        // Sisi Pass combo - Î‘Ï€Î»Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î­ÎºÎ´Î¿ÏƒÎ·
        const hasSchonbrunn = selectedActivities.some(act =>
            act.name.includes("SchÃ¶nbrunn") || act.name.includes("Palace Ticket")
        );
        const hasSisiMuseum = selectedActivities.some(act =>
            act.name.includes("Sisi") || act.name.includes("Sisi Museum")
        );
       
        if (hasSchonbrunn || hasSisiMuseum) {
            console.log("âœ… Î’ÏÎ­Î¸Î·ÎºÎµ Sisi Pass combo");
            combos.push({
                name: "ğŸŸï¸ Sisi Pass (3 Î±Ï…Ï„Î¿ÎºÏÎ±Ï„Î¿ÏÎ¹ÎºÎ¬ Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î±)",
                description: "SchÃ¶nbrunn Palace + Sisi Museum (Hofburg) + Vienna Furniture Museum",
                activities: ["SchÃ¶nbrunn", "Sisi Museum", "Furniture Museum"],
                regularPrice: 100, // Î ÏÎ¿ÏƒÏ‰ÏÎ¹Î½Î® Ï„Î¹Î¼Î® Î³Î¹Î± Î´Î¿ÎºÎ¹Î¼Î®
                comboPrice: 57,
                saving: 43,
                note: "Î•ÎºÏ€Ï„Ï‰Ï„Î¹ÎºÏŒ combo Î³Î¹Î± 3 Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î± - ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ· 43â‚¬"
            });
        }
       
        // Classic Pass Plus combo
        const hasClassicPass = selectedActivities.some(act =>
            act.name.includes("Classic Pass")
        );
        const hasZoo = selectedActivities.some(act =>
            act.name.includes("Zoo Vienna") || act.name.includes("Zoo")
        );
       
        if (hasClassicPass || hasZoo) {
            console.log("âœ… Î’ÏÎ­Î¸Î·ÎºÎµ Classic Pass Plus combo");
            combos.push({
                name: "ğŸ° Classic Pass Plus",
                description: "Classic Pass + Zoo + Desert House + Palm House",
                activities: ["Classic Pass", "Zoo Vienna"],
                regularPrice: 90, // Î ÏÎ¿ÏƒÏ‰ÏÎ¹Î½Î® Ï„Î¹Î¼Î® Î³Î¹Î± Î´Î¿ÎºÎ¹Î¼Î®
                comboPrice: 76,
                saving: 14,
                note: "20-30% ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·"
            });
        }
    }
   
    // Î“Î¹Î± Î’ÎµÏÎ¿Î»Î¯Î½Î¿: Zoo + Aquarium combo
    if (selectedDestinationName.includes("Î’ÎµÏÎ¿Î»Î¯Î½Î¿")) {
        const hasZoo = selectedActivities.some(act =>
            act.name.includes("Zoologischer Garten")
        );
        const hasAquarium = selectedActivities.some(act =>
            act.name.includes("Aquarium Berlin")
        );
       
        if (hasZoo || hasAquarium) {
            combos.push({
                name: "ğŸ¯ Zoo + Aquarium Berlin Combo",
                description: "Î£Ï…Î½Î´Ï…Î±ÏƒÏ„Î¹ÎºÏŒ ÎµÎ¹ÏƒÎ¹Ï„Î®ÏÎ¹Î¿ Î¶Ï‰Î¿Î»Î¿Î³Î¹ÎºÎ¿Ï ÎºÎ®Ï€Î¿Ï… ÎºÎ±Î¹ ÎµÎ½Ï…Î´ÏÎµÎ¯Î¿Ï…",
                activities: ["Zoologischer Garten Berlin", "Zoologischer Garten + Aquarium Berlin"],
                regularPrice: 40,
                comboPrice: 23.5,
                saving: 16.5,
                note: "Î•Î¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ· Î­Ï‰Ï‚ 20%"
            });
        }
    }
   
    console.log("ğŸ“Š Î£ÏÎ½Î¿Î»Î¿ combos Ï€Î¿Ï… Î²ÏÎ­Î¸Î·ÎºÎ±Î½:", combos.length);
    return combos;
}
function calculateComboCosts(selectedActivities, availableCombos, ageGroups, regularCost) {
    const results = {
        regularCost: regularCost,
        bestCombo: null,
        bestSaving: 0,
        allCombos: []
    };
   
    availableCombos.forEach(combo => {
        // Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ±Î½Î¿Î½Î¹ÎºÎ¿Ï ÎºÏŒÏƒÏ„Î¿Ï…Ï‚ Î³Î¹Î± Ï„Î¹Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Ï„Î¿Ï… combo
        let comboRegularCost = 0;
       
        combo.activities.forEach(activityName => {
            const activity = selectedActivities.find(act => act.name.includes(activityName));
            if (activity) {
                Object.keys(ageGroups).forEach(ageCategory => {
                    const count = ageGroups[ageCategory];
                    if (count > 0 && activity.prices[ageCategory]) {
                        const price = typeof activity.prices[ageCategory] === 'number' ?
                            activity.prices[ageCategory] : 0;
                        comboRegularCost += price * count;
                    }
                });
            }
        });
       
        // Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·Ï‚
        const saving = comboRegularCost - combo.comboPrice;
       
        // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï„Î¿Ï… combo object
        combo.regularPrice = comboRegularCost;
        combo.saving = saving > 0 ? saving : 0;
        combo.totalWithCombo = regularCost - saving;
       
        results.allCombos.push(combo);
       
        // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï„Î¿Ï… ÎºÎ±Î»ÏÏ„ÎµÏÎ¿Ï… combo
        if (saving > results.bestSaving) {
            results.bestSaving = saving;
            results.bestCombo = combo;
            results.bestTotal = regularCost - saving;
        }
    });
   
    return results;
}

function displayComboResults(results, regularCost) {
    // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± modal Î³Î¹Î± ÎµÎ¼Ï†Î¬Î½Î¹ÏƒÎ· Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½
       const modal = document.createElement('div');
    modal.id = 'combo-modal-main';  // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ID Î³Î¹Î± ÎµÏÎºÎ¿Î»Î· ÎµÏÏÎµÏƒÎ·
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        z-index: 10000;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: 'Comic Neue', Arial, sans-serif;
    `;
   
    const modalContent = document.createElement('div');
    modalContent.style.cssText = `
        background: white;
        padding: 30px;
        border-radius: 20px;
        max-width: 800px;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    `;
   
    let contentHTML = `
        <div style="text-align: center;">
            <h2 style="color: #9c27b0; margin-top: 0;">ğŸ’° ÎˆÎ¾Ï…Ï€Î½Î¿Ï‚ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Combo</h2>
            <div style="background: #f3e5f5; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                <h3 style="color: #7b1fa2;">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚ Î§Ï‰ÏÎ¯Ï‚ Combo: <strong>${regularCost.toFixed(2)} â‚¬</strong></h3>
            </div>
    `;
   
    if (results.allCombos.length > 0) {
        if (results.bestSaving > 0) {
            contentHTML += `
                <div style="background: #e8f5e8; padding: 20px; border-radius: 12px; border: 3px solid #4caf50; margin-bottom: 20px;">
                    <h3 style="color: #2e7d32;">ğŸ† ÎšÎ‘Î›Î¥Î¤Î•Î¡Î— Î•Î Î™Î›ÎŸÎ“Î—</h3>
                    <h4>${results.bestCombo.name}</h4>
                    <p>${results.bestCombo.description}</p>
                    <div style="display: flex; justify-content: space-around; margin: 15px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 24px; color: #f44336; text-decoration: line-through;">${results.bestCombo.regularPrice.toFixed(2)}â‚¬</div>
                            <small>ÎšÎ±Î½Î¿Î½Î¹ÎºÏŒ ÎºÏŒÏƒÏ„Î¿Ï‚</small>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 28px; color: #4caf50; font-weight: bold;">${results.bestCombo.comboPrice}â‚¬</div>
                            <small>Combo Ï„Î¹Î¼Î®</small>
                        </div>
                    </div>
                    <div style="background: #4caf50; color: white; padding: 10px; border-radius: 8px; font-size: 22px; font-weight: bold;">
                        ğŸ’° Î•Î¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·: ${results.bestSaving.toFixed(2)} â‚¬
                    </div>
                    <p style="margin-top: 10px;"><strong>ÎÎ­Î¿ Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚: ${results.bestTotal.toFixed(2)} â‚¬</strong></p>
                    ${results.bestCombo.note ? `<p style="font-size: 0.9em; color: #666;">ğŸ“ ${results.bestCombo.note}</p>` : ''}
                </div>
            `;
        }
       
        contentHTML += `<h3 style="color: #3f51b5;">ÎŒÎ»Î± Ï„Î± Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î± Combos:</h3>`;
       
        results.allCombos.forEach((combo, index) => {
            const borderColor = combo.saving > 0 ? '#4caf50' : '#ff9800';
            const bgColor = combo.saving > 0 ? '#f1f8e9' : '#fff3e0';
           
            contentHTML += `
                <div style="background: ${bgColor}; padding: 15px; border-radius: 10px; border-left: 5px solid ${borderColor}; margin-bottom: 15px;">
                    <h4 style="margin-top: 0; color: #3f51b5;">${combo.name}</h4>
                    <p style="margin: 5px 0;">${combo.description}</p>
                    <div style="display: flex; justify-content: space-between; margin: 10px 0;">
                        <div>
                            <strong>ÎšÎ±Î½Î¿Î½Î¹ÎºÏŒ:</strong> ${combo.regularPrice.toFixed(2)}â‚¬
                        </div>
                        <div>
                            <strong>Combo:</strong> ${combo.comboPrice}â‚¬
                        </div>
                        <div style="color: ${combo.saving > 0 ? '#4caf50' : '#f44336'}; font-weight: bold;">
                            ${combo.saving > 0 ? 'ğŸ’° Î•Î¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·: ' : 'âš ï¸ Î”Î¹Î±Ï†Î¿ÏÎ¬: '}${combo.saving.toFixed(2)}â‚¬
                        </div>
                    </div>
                    ${combo.note ? `<div style="font-size: 0.85em; color: #666; background: rgba(0,0,0,0.05); padding: 5px; border-radius: 4px;">ğŸ“ ${combo.note}</div>` : ''}
                </div>
            `;
        });
    } else {
        contentHTML += `
            <div style="background: #fff3cd; padding: 20px; border-radius: 10px; border: 2px solid #ffc107;">
                <h3 style="color: #856404;">â„¹ï¸ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î± combos</h3>
                <p>ÎŸÎ¹ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÏƒÎ±Ï‚ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î´ÎµÎ½ Î­Ï‡Î¿Ï…Î½ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î± Î¿Î¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ¬ combos.</p>
                <p>Î£Ï…Î¼Î²Î¿Ï…Î»Î®: Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î±Ï€ÏŒ Ï„Î·Î½ Î¯Î´Î¹Î± Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î± Î® Î¿Î¼Î¬Î´Î± Î³Î¹Î± ÎºÎ±Î»ÏÏ„ÎµÏÎµÏ‚ Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ­Ï‚.</p>
            </div>
        `;
    }
   
    // Î£ÏÎ½Î¿ÏˆÎ·
    contentHTML += `
        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px dashed #ccc;">
            <h4 style="color: #9c27b0;">ğŸ“Š Î£ÏÎ½Î¿ÏˆÎ·:</h4>
            <ul style="text-align: left; padding-left: 20px;">
                <li>ğŸ’° <strong>ÎšÎ±Î½Î¿Î½Î¹ÎºÏŒ ÎºÏŒÏƒÏ„Î¿Ï‚:</strong> ${regularCost.toFixed(2)} â‚¬</li>
                ${results.bestSaving > 0 ?
                    `<li>ğŸ† <strong>ÎœÎµ ÎºÎ±Î»ÏÏ„ÎµÏÎ¿ combo:</strong> ${results.bestTotal.toFixed(2)} â‚¬</li>
                     <li>âœ… <strong>Î£Ï…Î½Î¿Î»Î¹ÎºÎ® ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·:</strong> ${results.bestSaving.toFixed(2)} â‚¬</li>` :
                    `<li>â„¹ï¸ <strong>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ·</strong> Î¼Îµ Ï„Î± Ï„ÏÎ­Ï‡Î¿Î½Ï„Î± combos</li>`
                }
                <li>ğŸ¯ <strong>Î’ÏÎ­Î¸Î·ÎºÎ±Î½:</strong> ${results.allCombos.length} combos</li>
            </ul>
        </div>
       
        <div style="margin-top: 25px; display: flex; justify-content: center; gap: 15px;">
            <button onclick="closeComboModal()"
        style="padding: 12px 25px; background: #3eb489; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
    ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿
</button>
            ${results.bestSaving > 0 ? `
            <button onclick="applyBestCombo()"
                    style="padding: 12px 25px; background: #9c27b0; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold;">
                âœ… Î•Ï†Î±ÏÎ¼Î¿Î³Î® ÎšÎ±Î»ÏÏ„ÎµÏÎ¿Ï… Combo
            </button>` : ''}
        </div>
    `;
   
    modalContent.innerHTML = contentHTML;
    modal.appendChild(modalContent);
   
    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎºÎ¿Ï…Î¼Ï€Î¹Î¿Ï ÎºÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚
    const closeBtn = document.createElement('button');
    closeBtn.innerHTML = 'Ã—';
    closeBtn.style.cssText = `
        position: absolute;
        top: 20px;
        right: 20px;
        background: #f44336;
        color: white;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        font-size: 24px;
        cursor: pointer;
        z-index: 10001;
    `;
    closeBtn.onclick = () => modal.remove();
   
    document.body.appendChild(modal);
    document.body.appendChild(closeBtn);
}

function applyBestCombo() {
    alert("â„¹ï¸ Î— Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚ Ï„Î¿Ï… combo Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Ï…Ï€ÏŒ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·.\n\nğŸ’¡ Î£Î±Ï‚ ÏƒÏ…Î½Î¹ÏƒÏ„Î¿ÏÎ¼Îµ Î½Î± Î±Î³Î¿ÏÎ¬ÏƒÎµÏ„Îµ Ï„Î¿ combo online Î³Î¹Î± Ï„Î·Î½ ÎºÎ±Î»ÏÏ„ÎµÏÎ· Ï„Î¹Î¼Î®!");
   
    // ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Ï„Î¿Ï… modal
    const modal = document.querySelector('div[style*="position: fixed"]');
    const closeBtn = document.querySelector('button[style*="position: absolute"]');
    if (modal) modal.remove();
    if (closeBtn) closeBtn.remove();
}
// ==================== Î’ÎŸÎ—Î˜Î—Î¤Î™ÎšÎ•Î£ Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î•Î™Î£ COMBO ====================

function closeComboModal() {
    console.log("ğŸ”’ ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ modal combo...");
   
    // Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÏŒÏ‚ Ï„ÏÏŒÏ€Î¿Ï‚ 1 - Î‘Ï€ÏŒ Ï„Î¿ ID (Ï€Î¹Î¿ Î±Î¾Î¹ÏŒÏ€Î¹ÏƒÏ„Î¿)
    const comboModal = document.getElementById('combo-modal-main');
    if (comboModal) {
        console.log("âœ… Î’ÏÎ­Î¸Î·ÎºÎµ modal Î±Ï€ÏŒ ID - Î±Ï†Î±Î¯ÏÎµÏƒÎ·...");
        comboModal.remove();
    }
   
    // Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÏŒÏ‚ Ï„ÏÏŒÏ€Î¿Ï‚ 2 - Î‘Ï€ÏŒ Ï„Î¿ style
    const modal = document.querySelector('div[style*="position: fixed"][style*="top: 0"][style*="left: 0"]');
    if (modal && modal.style.background.includes('rgba(0,0,0,0.8)')) {
        console.log("âœ… Î’ÏÎ­Î¸Î·ÎºÎµ modal Î±Ï€ÏŒ style - Î±Ï†Î±Î¯ÏÎµÏƒÎ·...");
        modal.remove();
    }
   
    // Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÏŒÏ‚ Ï„ÏÏŒÏ€Î¿Ï‚ 3 - Î’ÏÎµÏ‚ Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ ÎºÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚
    const closeBtn = document.querySelector('button[onclick*="closeComboModal"]');
    if (closeBtn) {
        console.log("âœ… Î’ÏÎ­Î¸Î·ÎºÎµ ÎºÎ¿Ï…Î¼Ï€Î¯ ÎºÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚ - Î±Ï†Î±Î¯ÏÎµÏƒÎ·...");
        closeBtn.remove();
    }
   
    // Î•Ï€Î¹Ï€Î»Î­Î¿Î½: ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ modals
    document.querySelectorAll('div').forEach(div => {
        const style = div.style.cssText || '';
        if (style.includes('position: fixed') && style.includes('top: 0') && style.includes('left: 0')) {
            div.remove();
        }
    });
   
    console.log("âœ… Modal ÎºÎ»ÎµÎ¯ÏƒÏ„Î·ÎºÎµ!");
}

function applyBestCombo() {
    alert("â„¹ï¸ Î— Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚ Ï„Î¿Ï… combo Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Ï…Ï€ÏŒ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·.\n\nğŸ’¡ Î£Î±Ï‚ ÏƒÏ…Î½Î¹ÏƒÏ„Î¿ÏÎ¼Îµ Î½Î± Î±Î³Î¿ÏÎ¬ÏƒÎµÏ„Îµ Ï„Î¿ combo online Î³Î¹Î± Ï„Î·Î½ ÎºÎ±Î»ÏÏ„ÎµÏÎ· Ï„Î¹Î¼Î®!");
   
    // ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Ï„Î¿Ï… modal
    closeComboModal();
}
function applyBestCombo() {
    alert("â„¹ï¸ Î— Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚ Ï„Î¿Ï… combo Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Ï…Ï€ÏŒ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·.\n\nğŸ’¡ Î£Î±Ï‚ ÏƒÏ…Î½Î¹ÏƒÏ„Î¿ÏÎ¼Îµ Î½Î± Î±Î³Î¿ÏÎ¬ÏƒÎµÏ„Îµ Ï„Î¿ combo online Î³Î¹Î± Ï„Î·Î½ ÎºÎ±Î»ÏÏ„ÎµÏÎ· Ï„Î¹Î¼Î®!");
   
    // Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ Ï„Î·Î½ Î¯Î´Î¹Î± ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ· ÎºÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚
    closeComboModal();
}
    // ==================== ğŸ‘‡ Î Î¡ÎŸÎ£Î˜Î•Î£Î• Î‘Î¥Î¤ÎŸÎ Î¤ÎŸÎ ÎšÎ©Î”Î™ÎšÎ‘ Î‘ÎšÎ¡Î™Î’Î©Î£ Î•Î”Î© ğŸ‘‡ ====================

// Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— CUSTOM POINTS
let customPoints = JSON.parse(localStorage.getItem('travel_custom_points')) || [];

// 1. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î•ÎÎ‘Î¡ÎÎ— Î Î¡ÎŸÎ£Î˜Î—ÎšÎ—Î£ Î£Î—ÎœÎ•Î™ÎŸÎ¥
function startAddingCustomPoint() {
    if (typeof L === 'undefined' || !window.currentMap) {
        alert('âš ï¸ Î ÏÎ­Ï€ÎµÎ¹ Ï€ÏÏÏ„Î± Î½Î± Ï†Î¿ÏÏ„ÏÏƒÎµÏ„Îµ Ï„Î¿Î½ Ï‡Î¬ÏÏ„Î·!');
        initializeSmartMap();
        setTimeout(() => {
            alert('âœ… ÎŸ Ï‡Î¬ÏÏ„Î·Ï‚ Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ! ÎšÎ¬Î½Ï„Îµ Î¾Î±Î½Î¬ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ "ğŸŸ£ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î£Î·Î¼ÎµÎ¯Î¿Ï…"');
        }, 1000);
        return;
    }
    
    const map = window.currentMap;
    
    // Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚ Ï€ÏÎ¿ÏƒÎ¸Î®ÎºÎ·Ï‚
    alert('ğŸ—ºï¸ ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î· Î³Î¹Î± Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÏ„Îµ ÏƒÎ·Î¼ÎµÎ¯Î¿!');
    
    // Î ÏÎ¿ÏƒÏ‰ÏÎ¹Î½Î® Î±Î»Î»Î±Î³Î® Ï„Î¿Ï… cursor
    map.getContainer().style.cursor = 'crosshair';
    
    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· event listener Î³Î¹Î± ÎºÎ»Î¹Îº
    const clickHandler = function(e) {
        // Î‘Ï†Î±Î¯ÏÎµÏƒÎ· Ï„Î¿Ï… event listener
        map.off('click', clickHandler);
        map.getContainer().style.cursor = '';
        
        // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· form Î³Î¹Î± ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½
        showCustomPointForm(e.latlng.lat, e.latlng.lng);
    };
    
    map.on('click', clickHandler);
    
    // ÎšÎ¿Ï…Î¼Ï€Î¯ Î±ÎºÏÏÏ‰ÏƒÎ·Ï‚
    const cancelBtn = document.createElement('button');
    cancelBtn.textContent = 'âœ–ï¸ Î‘ÎºÏÏÏ‰ÏƒÎ·';
    cancelBtn.style.cssText = `
        position: absolute;
        top: 80px;
        right: 15px;
        z-index: 1000;
        padding: 10px 15px;
        background: #e74c3c;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-family: 'Comic Neue', Arial, Helvetica, sans-serif;
        font-weight: bold;
    `;
    cancelBtn.onclick = function() {
        map.off('click', clickHandler);
        map.getContainer().style.cursor = '';
        cancelBtn.remove();
    };
    
    document.getElementById('map-container').appendChild(cancelBtn);
}

// 2. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î•ÎœÎ¦Î‘ÎÎ™Î£Î— FORM Î“Î™Î‘ Î£Î—ÎœÎ•Î™ÎŸ
function showCustomPointForm(lat, lng) {
    const formHTML = `
        <div id="custom-point-modal" style="
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 10000;
            max-width: 400px;
            width: 90%;
        ">
            <h3 style="margin-top: 0; color: #9c27b0;">ğŸŸ£ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎÎ­Î¿Ï… Î£Î·Î¼ÎµÎ¯Î¿Ï…</h3>
            
            <label style="display: block; margin: 10px 0 5px 0;">ğŸ·ï¸ ÎŒÎ½Î¿Î¼Î±:</label>
            <input type="text" id="custom-point-name" placeholder="Ï€.Ï‡. Î¤Î¿ Î‘Î³Î±Ï€Î·Î¼Î­Î½Î¿ ÎœÎ¿Ï… Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿" 
                   style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 10px;">
            
            <label style="display: block; margin: 10px 0 5px 0;">ğŸ“ Î¤ÏÏ€Î¿Ï‚:</label>
            <select id="custom-point-type" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 15px;">
                <option value="attraction">ğŸ›ï¸ Î‘Î¾Î¹Î¿Î¸Î­Î±Ï„Î¿</option>
                <option value="restaurant">ğŸ½ï¸ Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿</option>
                <option value="cafe">â˜• ÎšÎ±Ï†Î­</option>
                <option value="shop">ğŸ›ï¸ ÎšÎ±Ï„Î¬ÏƒÏ„Î·Î¼Î±</option>
                <option value="personal">ğŸ  Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ Î£Î·Î¼ÎµÎ¯Î¿</option>
                <option value="other">ğŸ“ Î†Î»Î»Î¿</option>
            </select>
            
            <label style="display: block; margin: 10px 0 5px 0;">ğŸ“ Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ· (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ):</label>
            <textarea id="custom-point-note" placeholder="Ï€.Ï‡. ÎšÎ»ÎµÎ¹ÏƒÏ„Î¬ Î¤ÏÎ¯Ï„ÎµÏ‚, ÎšÎ±Î»Î­Ï‚ Ï„Î¹Î¼Î­Ï‚..." 
                     style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 15px; height: 80px;"></textarea>
            
            <div style="text-align: center;">
                <button onclick="saveCustomPoint(${lat}, ${lng})" 
                        style="padding: 12px 25px; background: #9c27b0; color: white; border: none; border-radius: 8px; cursor: pointer; margin: 5px; font-size: 16px;">
                    ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
                </button>
                <button onclick="closeCustomPointForm()" 
                        style="padding: 12px 25px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; margin: 5px; font-size: 16px;">
                    âŒ Î‘ÎºÏÏÏ‰ÏƒÎ·
                </button>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', formHTML);
}

// 3. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— Î£Î—ÎœÎ•Î™ÎŸÎ¥
function saveCustomPoint(lat, lng) {
    const name = document.getElementById('custom-point-name').value;
    const type = document.getElementById('custom-point-type').value;
    const note = document.getElementById('custom-point-note').value;
    
    if (!name.trim()) {
        alert('âš ï¸ Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ ÏŒÎ½Î¿Î¼Î±!');
        return;
    }
    
    const newPoint = {
        id: Date.now(),
        name: name.trim(),
        type: type,
        lat: lat,
        lng: lng,
        note: note.trim(),
        date: new Date().toLocaleDateString('el-GR')
    };
    
    customPoints.push(newPoint);
    localStorage.setItem('travel_custom_points', JSON.stringify(customPoints));
    
    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·
    addCustomPointToMap(newPoint);
    
    // ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ form
    closeCustomPointForm();
    
    alert(`âœ… Î¤Î¿ ÏƒÎ·Î¼ÎµÎ¯Î¿ "${name}" Ï€ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·!`);
}

// 4. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: ÎšÎ›Î•Î™Î£Î™ÎœÎŸ FORM
function closeCustomPointForm() {
    const modal = document.getElementById('custom-point-modal');
    if (modal) modal.remove();
}

// 5. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— Î£Î¤ÎŸÎ Î§Î‘Î¡Î¤Î—
function addCustomPointToMap(point) {
    if (typeof L === 'undefined' || !window.currentMap) return;
    
    const map = window.currentMap;
    
    // Î§ÏÏÎ¼Î± Î±Î½Î¬ Ï„ÏÏ€Î¿
    const typeColors = {
        'attraction': 'violet',
        'restaurant': 'red',
        'cafe': 'orange',
        'shop': 'blue',
        'personal': 'green',
        'other': 'gray'
    };
    
    const color = typeColors[point.type] || 'gray';
    
    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· marker
    const customIcon = L.icon({
        iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,
        iconSize: [25, 41],
        iconAnchor: [12, 41]
    });
    
    const marker = L.marker([point.lat, point.lng], { icon: customIcon }).addTo(map);
    
    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· popup
    const typeNames = {
        'attraction': 'ğŸ›ï¸ Î‘Î¾Î¹Î¿Î¸Î­Î±Ï„Î¿',
        'restaurant': 'ğŸ½ï¸ Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿',
        'cafe': 'â˜• ÎšÎ±Ï†Î­',
        'shop': 'ğŸ›ï¸ ÎšÎ±Ï„Î¬ÏƒÏ„Î·Î¼Î±',
        'personal': 'ğŸ  Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ Î£Î·Î¼ÎµÎ¯Î¿',
        'other': 'ğŸ“ Î†Î»Î»Î¿'
    };
    
    marker.bindPopup(`
        <div style="max-width: 250px;">
            <h4 style="margin: 0 0 8px 0; color: #9c27b0;">${point.name}</h4>
            <p style="margin: 0 0 5px 0;"><strong>${typeNames[point.type] || 'ğŸ“ Î£Î·Î¼ÎµÎ¯Î¿'}</strong></p>
            ${point.note ? `<p style="margin: 5px 0; font-size: 0.9em;">ğŸ“ ${point.note}</p>` : ''}
            <p style="margin: 5px 0; font-size: 0.85em; color: #666;">Î ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ: ${point.date}</p>
            <button onclick="deleteCustomPoint(${point.id}, this)" 
                    style="padding: 5px 10px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8em;">
                ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î®
            </button>
        </div>
    `);
    
    // Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· reference
    if (!window.customMarkers) window.customMarkers = [];
    window.customMarkers.push({ id: point.id, marker: marker });
}

// 6. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î”Î™Î‘Î“Î¡Î‘Î¦Î— Î£Î—ÎœÎ•Î™ÎŸÎ¥
function deleteCustomPoint(id, button) {
    if (!confirm('âš ï¸ Î˜Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÏƒÎ·Î¼ÎµÎ¯Î¿;')) return;
    
    // Î‘Ï†Î±Î¯ÏÎµÏƒÎ· Î±Ï€ÏŒ Ï„Î¿Î½ Ï‡Î¬ÏÏ„Î·
    if (window.customMarkers) {
        const markerIndex = window.customMarkers.findIndex(m => m.id === id);
        if (markerIndex !== -1) {
            window.currentMap.removeLayer(window.customMarkers[markerIndex].marker);
            window.customMarkers.splice(markerIndex, 1);
        }
    }
    
    // Î‘Ï†Î±Î¯ÏÎµÏƒÎ· Î±Ï€ÏŒ Ï„Î· Î»Î¯ÏƒÏ„Î±
    customPoints = customPoints.filter(point => point.id !== id);
    localStorage.setItem('travel_custom_points', JSON.stringify(customPoints));
    
    // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· UI
    viewCustomPoints();
    
    alert('âœ… Î¤Î¿ ÏƒÎ·Î¼ÎµÎ¯Î¿ Î´Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ!');
}

// 7. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î Î¡ÎŸÎ’ÎŸÎ›Î— ÎŸÎ›Î©Î Î¤Î©Î Î£Î—ÎœÎ•Î™Î©Î
function viewCustomPoints() {
    const container = document.getElementById('custom-points-container');
    const listDiv = document.getElementById('custom-points-list');
    
    if (customPoints.length === 0) {
        container.innerHTML = `
            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <p>ğŸ“­ Î”ÎµÎ½ Î­Ï‡ÎµÏ„Îµ Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÎ¹ Î±ÎºÏŒÎ¼Î± Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¬ ÏƒÎ·Î¼ÎµÎ¯Î±.</p>
                <p>ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ "ğŸŸ£ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î£Î·Î¼ÎµÎ¯Î¿Ï… ÏƒÏ„Î¿Î½ Î§Î¬ÏÏ„Î·" Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÏ„Îµ!</p>
            </div>
        `;
    } else {
        let html = '<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px;">';
        
        customPoints.forEach(point => {
            const typeNames = {
                'attraction': 'ğŸ›ï¸ Î‘Î¾Î¹Î¿Î¸Î­Î±Ï„Î¿',
                'restaurant': 'ğŸ½ï¸ Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿',
                'cafe': 'â˜• ÎšÎ±Ï†Î­',
                'shop': 'ğŸ›ï¸ ÎšÎ±Ï„Î¬ÏƒÏ„Î·Î¼Î±',
                'personal': 'ğŸ  Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ Î£Î·Î¼ÎµÎ¯Î¿',
                'other': 'ğŸ“ Î†Î»Î»Î¿'
            };
            
            html += `
                <div style="background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #9c27b0;">
                    <h4 style="margin: 0 0 8px 0;">${point.name}</h4>
                    <p style="margin: 0 0 5px 0; color: #666;">${typeNames[point.type] || 'ğŸ“ Î£Î·Î¼ÎµÎ¯Î¿'}</p>
                    ${point.note ? `<p style="margin: 0 0 5px 0; font-size: 0.9em;">ğŸ“ ${point.note}</p>` : ''}
                    <p style="margin: 0 0 8px 0; font-size: 0.85em; color: #999;">ğŸŒ Î£Ï…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚: ${point.lat.toFixed(4)}, ${point.lng.toFixed(4)}</p>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="focusOnPoint(${point.lat}, ${point.lng})" 
                                style="padding: 6px 12px; background: #3eb489; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.85em;">
                            ğŸ—ºï¸ Î”ÎµÎ¯Î¾Îµ ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·
                        </button>
                        <button onclick="deleteCustomPoint(${point.id})" 
                                style="padding: 6px 12px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.85em;">
                            ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î®
                        </button>
                    </div>
                </div>
            `;
        });
        
        html += '</div>';
        container.innerHTML = html;
    }
    
    listDiv.style.display = 'block';
}

// 8. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î•Î£Î¤Î™Î‘Î£Î— Î£Î• Î£Î—ÎœÎ•Î™ÎŸ
function focusOnPoint(lat, lng) {
    if (typeof L === 'undefined' || !window.currentMap) {
        alert('âš ï¸ Î ÏÎ­Ï€ÎµÎ¹ Ï€ÏÏÏ„Î± Î½Î± Ï†Î¿ÏÏ„ÏÏƒÎµÏ„Îµ Ï„Î¿Î½ Ï‡Î¬ÏÏ„Î·!');
        return;
    }
    
    window.currentMap.setView([lat, lng], 16);
    
    // Î‘Î½Î¿Î¯Î³Î¿Ï…Î¼Îµ Ï„Î¿ popup Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ marker
    if (window.customMarkers) {
        const pointMarker = window.customMarkers.find(m => 
            Math.abs(m.marker.getLatLng().lat - lat) < 0.001 && 
            Math.abs(m.marker.getLatLng().lng - lng) < 0.001
        );
        
        if (pointMarker) {
            pointMarker.marker.openPopup();
        }
    }
}

// 9. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î¦ÎŸÎ¡Î¤Î©Î£Î— CUSTOM POINTS Î£Î¤ÎŸÎ Î§Î‘Î¡Î¤Î—
function loadCustomPointsOnMap() {
    if (typeof L === 'undefined' || !window.currentMap) return;
    
    // ÎšÎ±Î¸Î±ÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï€Î±Î»Î¹Î¿ÏÏ‚ markers
    if (window.customMarkers) {
        window.customMarkers.forEach(m => window.currentMap.removeLayer(m.marker));
        window.customMarkers = [];
    }
    
    // Î ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î¼Îµ ÏŒÎ»Î± Ï„Î± custom points
    customPoints.forEach(point => {
        addCustomPointToMap(point);
    });
}
    // ==================== Î•ÎÎ¥Î ÎÎ— Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— Î£Î—ÎœÎ•Î™Î©Î ====================

// 10. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î•ÎÎ¥Î ÎÎ— Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— (3 Î¤Î¡ÎŸÎ ÎŸÎ™)
function addCustomPointSmart() {
    if (typeof L === 'undefined' || !window.currentMap) {
        alert('âš ï¸ Î ÏÎ­Ï€ÎµÎ¹ Ï€ÏÏÏ„Î± Î½Î± Ï†Î¿ÏÏ„ÏÏƒÎµÏ„Îµ Ï„Î¿Î½ Ï‡Î¬ÏÏ„Î·!');
        initializeSmartMap();
        setTimeout(() => {
            alert('âœ… ÎŸ Ï‡Î¬ÏÏ„Î·Ï‚ Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ! Î ÏÎ¿ÏƒÏ€Î±Î¸Î®ÏƒÏ„Îµ Î¾Î±Î½Î¬.');
        }, 1500);
        return;
    }
    
    // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· menu ÎµÏ€Î¹Î»Î¿Î³ÏÎ½
    const choice = prompt(`ğŸ† Î Î©Î£ Î˜Î•Î›Î•Î¤Î• ÎÎ‘ Î Î¡ÎŸÎ£Î˜Î•Î£Î•Î¤Î• Î¤ÎŸ Î£Î—ÎœÎ•Î™ÎŸ;

1ï¸âƒ£ ğŸ” Î‘ÎÎ‘Î–Î—Î¤Î—Î£Î— ÎŸÎÎŸÎœÎ‘Î¤ÎŸÎ£ (Î³Î¹Î± Î´Î¹Î¬ÏƒÎ·Î¼Î± Î¼Î­ÏÎ· ÏŒÏ€Ï‰Ï‚ "Î’Î±Ï„Î¹ÎºÎ±Î½ÏŒ", "Î ÏÏÎ³Î¿Ï‚ Ï„Î¿Ï… Î†Î¹Ï†ÎµÎ»")
2ï¸âƒ£ ğŸ—ºï¸ ÎšÎ›Î™Îš Î£Î¤ÎŸÎ Î§Î‘Î¡Î¤Î— (Î³Î¹Î± Ï€ÏÎ¿ÏƒÎµÎ³Î³Î¹ÏƒÏ„Î¹ÎºÎ® Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±)
3ï¸âƒ£ ğŸ“« Î Î›Î—ÎšÎ¤Î¡ÎŸÎ›ÎŸÎ“Î—Î£Î— Î”Î™Î•Î¥Î˜Î¥ÎÎ£Î—Î£ (Î³Î¹Î± Î±ÎºÏÎ¹Î²Î® Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·)

Î•Ï€Î¹Î»Î­Î¾Ï„Îµ 1, 2 Î® 3:`);
    
    if (choice === '1') {
        searchPointByName();
    } else if (choice === '2') {
        startAddingCustomPoint(); // Î— Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎ± Î¼Î­Î¸Î¿Î´Î¿Ï‚
    } else if (choice === '3') {
        searchPointByAddress();
    } else {
        alert('âŒ Î‘ÎºÏ…ÏÏÎ¸Î·ÎºÎµ');
    }
}

// 11. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î‘ÎÎ‘Î–Î—Î¤Î—Î£Î— Î‘Î ÎŸ ÎŸÎÎŸÎœÎ‘ (Î“Î™Î‘ Î”Î™Î‘Î£Î—ÎœÎ‘ ÎœÎ•Î¡Î—)
function searchPointByName() {
    const query = prompt('ğŸ” Î“ÏÎ¬ÏˆÏ„Îµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î± Ï„Î·Ï‚ Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±Ï‚:\n\nÎ Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î±:\nâ€¢ Î’Î±Ï„Î¹ÎºÎ±Î½ÏŒ\nâ€¢ Î ÏÏÎ³Î¿Ï‚ Ï„Î¿Ï… Î†Î¹Ï†ÎµÎ»\nâ€¢ Disneyland Paris\nâ€¢ ÎšÎ¿Î»Ï‰Î½Î¬ÎºÎ¹ Î‘Î¸Î®Î½Î±\nâ€¢ Î£Ï„Î¬Î´Î¹Î¿ Î£Ï€ÏÏÎ¿Ï‚ Î›Î¿ÏÎ·Ï‚');
    
    if (!query || query.trim() === '') {
        alert('âŒ Î”ÎµÎ½ ÎµÎ¹ÏƒÎ¬Î³Î±Ï„Îµ ÏŒÎ½Î¿Î¼Î±');
        return;
    }
    
    // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î¼Î·Î½ÏÎ¼Î±Ï„Î¿Ï‚ Î±Î½Î±Î¼Î¿Î½Î®Ï‚
    alert('ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±Ï‚... Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÏ„Îµ.');
    
    // Î§ÏÎ®ÏƒÎ· Nominatim API (OpenStreetMap - Î”Î©Î¡Î•Î‘Î)
    fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=5`)
        .then(response => response.json())
        .then(data => {
            if (data && data.length > 0) {
                // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· ÎµÏ€Î¹Î»Î¿Î³ÏÎ½ Î±Î½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Ï€Î¿Î»Î»Î¬
                if (data.length > 1) {
                    let optionsText = 'ğŸ“‹ Î’ÏÎ­Î¸Î·ÎºÎ±Î½ Ï€Î¿Î»Î»Î­Ï‚ Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯ÎµÏ‚:\n\n';
                    data.slice(0, 5).forEach((item, index) => {
                        optionsText += `${index + 1}. ${item.display_name}\n`;
                    });
                    optionsText += '\nÎ•Ï€Î¹Î»Î­Î¾Ï„Îµ Î±ÏÎ¹Î¸Î¼ÏŒ (1-5) Î® 0 Î³Î¹Î± Î±ÎºÏÏÏ‰ÏƒÎ·:';
                    
                    const choice = prompt(optionsText);
                    const choiceNum = parseInt(choice);
                    
                    if (choiceNum >= 1 && choiceNum <= data.length) {
                        const selected = data[choiceNum - 1];
                        showCustomPointForm(selected.lat, selected.lon, `${selected.display_name}`);
                    } else {
                        alert('Î‘ÎºÏ…ÏÏÎ¸Î·ÎºÎµ');
                    }
                } else {
                    // ÎœÏŒÎ½Î¿ Î­Î½Î± Î±Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î±
                    const firstResult = data[0];
                    showCustomPointForm(firstResult.lat, firstResult.lon, `${firstResult.display_name}`);
                }
            } else {
                alert('âŒ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î± Î¼Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÏŒÎ½Î¿Î¼Î±.\n\nğŸ’¡ Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ:\nâ€¢ Î Î¹Î¿ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿ ÏŒÎ½Î¿Î¼Î±\nâ€¢ Î‰ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ "ÎšÎ»Î¹Îº ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·"');
                startAddingCustomPoint(); // Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î·Î½ Ï€Î±Î»Î¹Î¬ Î¼Î­Î¸Î¿Î´Î¿
            }
        })
        .catch(error => {
            console.error('Î£Ï†Î¬Î»Î¼Î± Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚:', error);
            alert('âš ï¸ Î ÏÎ¿ÏƒÏ‰ÏÎ¹Î½ÏŒ ÏƒÏ†Î¬Î»Î¼Î± Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚.\n\nğŸ’¡ Î Î±ÏÎ±ÎºÎ±Î»Ï Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ "ÎšÎ»Î¹Îº ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·" Î³Î¹Î± Ï„ÏÏÎ±.');
            startAddingCustomPoint();
        });
}

// 12. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î‘ÎÎ‘Î–Î—Î¤Î—Î£Î— Î‘Î ÎŸ Î”Î™Î•Î¥Î˜Î¥ÎÎ£Î—
function searchPointByAddress() {
    const address = prompt('ğŸ“« Î’Î¬Î»Ï„Îµ Ï€Î»Î®ÏÎ· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·:\n\nÎ Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î±:\nâ€¢ ÎœÎ¿Ï„ÏƒÎ±ÏÏ„ÏƒÏ„ÏÎ¬ÏƒÎµ 12, Î’Î¹Î­Î½Î½Î·\nâ€¢ Î Î»Î±Ï„ÎµÎ¯Î± Î£Ï…Î½Ï„Î¬Î³Î¼Î±Ï„Î¿Ï‚ 2, Î‘Î¸Î®Î½Î±\nâ€¢ Champs-Ã‰lysÃ©es 50, Î Î±ÏÎ¯ÏƒÎ¹');
    
    if (!address || address.trim() === '') {
        alert('âŒ Î”ÎµÎ½ ÎµÎ¹ÏƒÎ¬Î³Î±Ï„Îµ Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·');
        return;
    }
    
    alert('ğŸ“¡ Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚... Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÏ„Îµ.');
    
    fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&addressdetails=1`)
        .then(response => response.json())
        .then(data => {
            if (data && data.length > 0) {
                const result = data[0];
                showCustomPointForm(result.lat, result.lon, `${result.display_name}`);
            } else {
                alert('âŒ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·.\n\nğŸ’¡ Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ:\nâ€¢ Î Î¹Î¿ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·\nâ€¢ Î‰ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ "ÎšÎ»Î¹Îº ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·"');
                startAddingCustomPoint();
            }
        })
        .catch(error => {
            console.error('Î£Ï†Î¬Î»Î¼Î± Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚ Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚:', error);
            alert('âš ï¸ Î ÏÎ¿ÏƒÏ‰ÏÎ¹Î½ÏŒ ÏƒÏ†Î¬Î»Î¼Î±.\nğŸ’¡ Î Î±ÏÎ±ÎºÎ±Î»Ï Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ "ÎšÎ»Î¹Îº ÏƒÏ„Î¿Î½ Ï‡Î¬ÏÏ„Î·".');
            startAddingCustomPoint();
        });
}

// 13. Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î’Î•Î›Î¤Î™Î©ÎœÎ•ÎÎ— Î¦ÎŸÎ¡ÎœÎ‘ (ÎœÎ• Î Î¡ÎŸÎ¥Î ÎŸÎ›ÎŸÎ“Î™Î£ÎœÎ•ÎÎŸ ÎŸÎÎŸÎœÎ‘)
function showCustomPointForm(lat, lng, suggestedName = '') {
    const formHTML = `
        <div id="custom-point-modal" style="
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 10000;
            max-width: 450px;
            width: 90%;
        ">
            <h3 style="margin-top: 0; color: #9c27b0;">ğŸ† Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎÎ­Î¿Ï… Î£Î·Î¼ÎµÎ¯Î¿Ï…</h3>
            
            <div style="background: #f0f0f0; padding: 10px; border-radius: 8px; margin-bottom: 15px; font-size: 0.9em;">
                ğŸ“ Î£Ï…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚: ${parseFloat(lat).toFixed(6)}, ${parseFloat(lng).toFixed(6)}
            </div>
            
            <label style="display: block; margin: 10px 0 5px 0;">ğŸ·ï¸ ÎŒÎ½Î¿Î¼Î±:</label>
            <input type="text" id="custom-point-name" 
                   value="${suggestedName ? suggestedName.split(',')[0] : ''}"
                   placeholder="Ï€.Ï‡. Î¤Î¿ Î¾ÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿ Î¼Î±Ï‚" 
                   style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 10px;">
            
            <label style="display: block; margin: 10px 0 5px 0;">ğŸ“ Î¤ÏÏ€Î¿Ï‚:</label>
            <select id="custom-point-type" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 15px;">
                <option value="attraction">ğŸ›ï¸ Î‘Î¾Î¹Î¿Î¸Î­Î±Ï„Î¿</option>
                <option value="hotel" selected>ğŸ¨ ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿</option>
                <option value="restaurant">ğŸ½ï¸ Î•ÏƒÏ„Î¹Î±Ï„ÏŒÏÎ¹Î¿</option>
                <option value="cafe">â˜• ÎšÎ±Ï†Î­</option>
                <option value="shop">ğŸ›ï¸ ÎšÎ±Ï„Î¬ÏƒÏ„Î·Î¼Î±</option>
                <option value="transport">ğŸš‡ Î£Ï„Î±Î¸Î¼ÏŒÏ‚ ÎœÎµÏ„Î±Ï†Î¿ÏÏÎ½</option>
                <option value="personal">ğŸ  Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ Î£Î·Î¼ÎµÎ¯Î¿</option>
                <option value="other">ğŸ“ Î†Î»Î»Î¿</option>
            </select>
            
            <label style="display: block; margin: 10px 0 5px 0;">ğŸ“ Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ· (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ):</label>
            <textarea id="custom-point-note" placeholder="Ï€.Ï‡. Î¤Î¿ Î¾ÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿ ÏŒÏ€Î¿Ï… Î¸Î± Î¼ÎµÎ¯Î½Î¿Ï…Î¼Îµ, ÎšÎ»ÎµÎ¹ÏƒÏ„Î¬ Î¤ÏÎ¯Ï„ÎµÏ‚..." 
                     style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 15px; height: 80px;"></textarea>
            
            <div style="text-align: center;">
                <button onclick="saveCustomPoint(${lat}, ${lng})" 
                        style="padding: 12px 25px; background: #9c27b0; color: white; border: none; border-radius: 8px; cursor: pointer; margin: 5px; font-size: 16px;">
                    ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
                </button>
                <button onclick="closeCustomPointForm()" 
                        style="padding: 12px 25px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; margin: 5px; font-size: 16px;">
                    âŒ Î‘ÎºÏÏÏ‰ÏƒÎ·
                </button>
            </div>
        </div>
    `;
    
    // ÎšÎ±Î¸Î±ÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï€Î±Î»Î¹ÏŒ modal Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹
    const oldModal = document.getElementById('custom-point-modal');
    if (oldModal) oldModal.remove();
    
    document.body.insertAdjacentHTML('beforeend', formHTML);
}

// ==================== ğŸ‘† ÎœÎ•Î§Î¡Î™ Î•Î”Î© ğŸ‘† ====================

// ==================== Î Î¡ÎŸÎ£Î©Î¡Î™ÎÎŸÎ£ ÎšÎ©Î”Î™ÎšÎ‘Î£ Î“Î™Î‘ ÎÎ•Î•Î£ Î ÎŸÎ›Î•Î™Î£ ====================
const EXTRA_CITIES_CONFIG = {
    "ÎšÏ‰Î½ÏƒÏ„Î±Î½Ï„Î¹Î½Î¿ÏÏ€Î¿Î»Î·": {  // ğŸ‘ˆ Î Î¡ÎŸÎ£Î˜Î•Î£Î• Î‘Î¥Î¤Î— Î¤Î— Î“Î¡Î‘ÎœÎœÎ—
    file: "istanbul.json", // ğŸ‘ˆ ÎšÎ‘Î™ Î‘Î¥Î¤Î— Î¤Î— Î“Î¡Î‘ÎœÎœÎ—
    enabled: true,        // ğŸ‘ˆ ÎšÎ‘Î™ Î‘Î¥Î¤Î— Î¤Î— Î“Î¡Î‘ÎœÎœÎ—
    emoji: "ğŸ•Œ"           // ğŸ‘ˆ ÎšÎ‘Î™ Î‘Î¥Î¤Î— Î¤Î— Î“Î¡Î‘ÎœÎœÎ—
  },                      // ğŸ‘ˆ ÎšÎ‘Î™ Î‘Î¥Î¤ÎŸ Î¤ÎŸ ÎšÎŸÎœÎœÎ‘
  "Î Î±ÏÎ¯ÏƒÎ¹": {
    file: "paris.json",
    enabled: true,
    emoji: "ğŸ—¼"
  },
    "Î ÏÎ¬Î³Î±": {  // ğŸ‘ˆ Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— Î¤Î—Î£ Î Î¡Î‘Î“Î‘Î£!
    file: "prague.json",
    enabled: true,
    emoji: "ğŸ°"
  },
  "Î¡ÏÎ¼Î·": {
    file: "data/rome.json", 
    enabled: true,
    emoji: "ğŸ•"
  }
};

window.TravelPlannerExtensions = {
  checkAndLoadExtraCity: async function(cityName) {
    console.log(`ğŸ” ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î³Î¹Î± ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÎ® Ï€ÏŒÎ»Î·: ${cityName}`);
    
    const cityConfig = EXTRA_CITIES_CONFIG[cityName];
    if (!cityConfig || !cityConfig.enabled) {
      console.log(`âŒ Î— Ï€ÏŒÎ»Î· ${cityName} Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î·`);
      return null;
    }
    
    try {
      console.log(`ğŸ“¥ Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î±Ï€ÏŒ: ${cityConfig.file}`);
      const response = await fetch(cityConfig.file);
      
      if (!response.ok) {
        console.log(`âŒ Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î±ÏÏ‡ÎµÎ¯Î¿: ${cityConfig.file}`);
        return null;
      }
      
      const data = await response.json();
      console.log(`âœ… Î¦Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ: ${cityName} (${data.activities?.length || 0} Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„ÎµÏ‚)`);
      return data;
      
    } catch (error) {
      console.error(`âŒ Î£Ï†Î¬Î»Î¼Î±:`, error);
      return null;
    }
  }
};
</script>
</body>
</html>
